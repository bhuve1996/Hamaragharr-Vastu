/*! For license information please see xo-webcomponents.min.js.LICENSE.txt */
var dp=Object.defineProperty,hp=(t,e,i)=>e in t?dp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,n=(t,e,i)=>(hp(t,"symbol"!=typeof e?e+"":e,i),i);!function(t,e){"object"==typeof exports&&typeof module<"u"?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=typeof globalThis<"u"?globalThis:t||self)["xo-webcomponents"]={})}(this,(function(t){var e,i,s,o,r,a,l,c,h,u,d,p,m,x,g,v,b,f,y,E,w,S,C,P,k,A,T,M,L,$,I,N,O,D,q,F,H,R,V,B,z,_,W,U,Y,G,j,X,Q,Z,K,J,tt,et,it,nt,st,ot;!function(){var t=function(t,e){var i=function(t){for(var e=0,i=t.length;e<i;e++)n(t[e])},n=function(t){var e=t.target,i=t.attributeName,n=t.oldValue;e.attributeChangedCallback(i,n,e.getAttribute(i))};return function(s,o){var r=s.constructor.observedAttributes;return r&&t(o).then((function(){new e(i).observe(s,{attributes:!0,attributeOldValue:!0,attributeFilter:r});for(var t=0,o=r.length;t<o;t++)s.hasAttribute(r[t])&&n({target:s,attributeName:r[t],oldValue:null})})),s}};function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,i){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var s=0,o=function(){};return{s:o,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,r=t},f:function(){try{!a&&null!=n.return&&n.return()}finally{if(l)throw r}}}}var n=!0,s=!1,o="querySelectorAll",r="querySelectorAll",a=self,l=a.document,c=a.Element,h=a.MutationObserver,u=a.Set,d=a.WeakMap,p=function(t){return r in t},m=[].filter,x=function(t){var e=new d,a=function(i,n){var s;if(n)for(var o,r=function(t){return t.matches||t.webkitMatchesSelector||t.msMatchesSelector}(i),a=0,l=g.length;a<l;a++)r.call(i,o=g[a])&&(e.has(i)||e.set(i,new u),(s=e.get(i)).has(o)||(s.add(o),t.handle(i,n,o)));else e.has(i)&&(s=e.get(i),e.delete(i),s.forEach((function(e){t.handle(i,n,e)})))},x=function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=0,n=t.length;i<n;i++)a(t[i],e)},g=t.query,v=t.root||l,b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MutationObserver,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["*"],l=function e(s,r,a,l,c,h){var u,d=i(s);try{for(d.s();!(u=d.n()).done;){var p=u.value;(h||o in p)&&(c?a.has(p)||(a.add(p),l.delete(p),t(p,c)):l.has(p)||(l.add(p),a.delete(p),t(p,c)),h||e(p[o](r),r,a,l,c,n))}}catch(t){d.e(t)}finally{d.f()}},c=new r((function(t){if(a.length){var e,o=a.join(","),r=new Set,c=new Set,h=i(t);try{for(h.s();!(e=h.n()).done;){var u=e.value,d=u.addedNodes,p=u.removedNodes;l(p,o,r,c,s,s),l(d,o,r,c,n,s)}}catch(t){h.e(t)}finally{h.f()}}})),h=c.observe;return(c.observe=function(t){return h.call(c,t,{subtree:n,childList:n})})(e),c}(a,v,h,g),f=c.prototype.attachShadow;return f&&(c.prototype.attachShadow=function(t){var e=f.call(this,t);return b.observe(e),e}),g.length&&x(v[r](g)),{drop:function(t){for(var i=0,n=t.length;i<n;i++)e.delete(t[i])},flush:function(){for(var t=b.takeRecords(),e=0,i=t.length;e<i;e++)x(m.call(t[e].removedNodes,p),!1),x(m.call(t[e].addedNodes,p),!0)},observer:b,parse:x}},g=self,v=g.document,b=g.Map,f=g.MutationObserver,y=g.Object,E=g.Set,w=g.WeakMap,S=g.Element,C=g.HTMLElement,P=g.Node,k=g.Error,A=g.TypeError,T=g.Reflect,M=y.defineProperty,L=y.keys,$=y.getOwnPropertyNames,I=y.setPrototypeOf,N=!self.customElements,O=function(t){for(var e=L(t),i=[],n=new E,s=e.length,o=0;o<s;o++){i[o]=t[e[o]];try{delete t[e[o]]}catch{n.add(o)}}return function(){for(var o=0;o<s;o++)n.has(o)||(t[e[o]]=i[o])}};if(N){var D=function(){var t=this.constructor;if(!F.has(t))throw new A("Illegal constructor");var e=F.get(t);if(_)return U(_,e);var i=q.call(v,e);return U(I(i,t.prototype),e)},q=v.createElement,F=new b,H=new b,R=new b,V=new b,B=[],z=x({query:B,handle:function(t,e,i){var n=R.get(i);if(e&&!n.isPrototypeOf(t)){var s=O(t);_=I(t,n);try{new n.constructor}finally{_=null,s()}}var o="".concat(e?"":"dis","connectedCallback");o in n&&t[o]()}}).parse,_=null,W=function(t){if(!H.has(t)){var e,i=new Promise((function(t){e=t}));H.set(t,{$:i,_:e})}return H.get(t).$},U=t(W,f);self.customElements={define:function(t,e){if(V.has(t))throw new k('the name "'.concat(t,'" has already been used with this registry'));F.set(e,t),R.set(t,e.prototype),V.set(t,e),B.push(t),W(t).then((function(){z(v.querySelectorAll(t))})),H.get(t)._(e)},get:function(t){return V.get(t)},whenDefined:W},M(D.prototype=C.prototype,"constructor",{value:D}),self.HTMLElement=D,v.createElement=function(t,e){var i=e&&e.is,n=i?V.get(i):V.get(t);return n?new n:q.call(v,t)},"isConnected"in P.prototype||M(P.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(N=!self.customElements.get("extends-br"))try{var Y=function t(){return self.Reflect.construct(HTMLBRElement,[],t)};Y.prototype=HTMLLIElement.prototype;var G="extends-br";self.customElements.define("extends-br",Y,{extends:"br"}),N=v.createElement("br",{is:G}).outerHTML.indexOf(G)<0;var j=self.customElements,X=j.get,Q=j.whenDefined;self.customElements.whenDefined=function(t){var e=this;return Q.call(this,t).then((function(i){return i||X.call(e,t)}))}}catch{}if(N){var Z=function(t){var e=st.get(t);pt(e.querySelectorAll(this),t.isConnected)},K=self.customElements,J=v.createElement,tt=K.define,et=K.get,it=K.upgrade,nt=(T||{construct:function(t){return t.call(this)}}).construct,st=new w,ot=new E,rt=new b,at=new b,lt=new b,ct=new b,ht=[],ut=[],dt=function(t){return ct.get(t)||et.call(K,t)},pt=x({query:ut,handle:function(t,e,i){var n=lt.get(i);if(e&&!n.isPrototypeOf(t)){var s=O(t);bt=I(t,n);try{new n.constructor}finally{bt=null,s()}}var o="".concat(e?"":"dis","connectedCallback");o in n&&t[o]()}}).parse,mt=x({query:ht,handle:function(t,e){st.has(t)&&(e?ot.add(t):ot.delete(t),ut.length&&Z.call(ut,t))}}).parse,xt=S.prototype.attachShadow;xt&&(S.prototype.attachShadow=function(t){var e=xt.call(this,t);return st.set(this,e),e});var gt=function(t){if(!at.has(t)){var e,i=new Promise((function(t){e=t}));at.set(t,{$:i,_:e})}return at.get(t).$},vt=t(gt,f),bt=null;$(self).filter((function(t){return/^HTML.*Element$/.test(t)})).forEach((function(t){var e=self[t];function i(){var t=this.constructor;if(!rt.has(t))throw new A("Illegal constructor");var i=rt.get(t),n=i.is,s=i.tag;if(n){if(bt)return vt(bt,n);var o=J.call(v,s);return o.setAttribute("is",n),vt(I(o,t.prototype),n)}return nt.call(this,e,[],t)}M(i.prototype=e.prototype,"constructor",{value:i}),M(self,t,{value:i})})),v.createElement=function(t,e){var i=e&&e.is;if(i){var n=ct.get(i);if(n&&rt.get(n).tag===t)return new n}var s=J.call(v,t);return i&&s.setAttribute("is",i),s},K.get=dt,K.whenDefined=gt,K.upgrade=function(t){var e=t.getAttribute("is");if(e){var i=ct.get(e);if(i)return void vt(I(t,i.prototype),e)}it.call(K,t)},K.define=function(t,e,i){if(dt(t))throw new k("'".concat(t,"' has already been defined as a custom element"));var n,s=i&&i.extends;rt.set(e,s?{is:t,tag:s}:{is:"",tag:t}),s?(n="".concat(s,'[is="').concat(t,'"]'),lt.set(n,e.prototype),ct.set(t,e),ut.push(n)):(tt.apply(K,arguments),ht.push(n=t)),gt(t).then((function(){s?(pt(v.querySelectorAll(n)),ot.forEach(Z,[n])):mt(v.querySelectorAll(n))})),at.get(t)._(e)}}}();const rt=(t,e)=>"false"!==t.getAttribute(e)&&t.hasAttribute(e),at=(t,e,i)=>{i?t.setAttribute(e,""):t.removeAttribute(e)};function lt(t,e){var i;if(null==(i=window.xbEditor)||!i.designMode)throw new Error(`${t}\n\n${e?`Example:\n${e}`:""}`);console.warn(`${t}\n\n${e?`Example:\n${e}`:""}`)}function ct(t,e,i){i||lt(`${t} must have a \`${e}\` attribute.`,`\n<${t} ${e}="..."></${t}>\n    `)}function ht(t,e,i){return Math.min(Math.max(t,e),i)}function ut(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function dt(t){if("array"===ut(t))return t.map((t=>dt(t)));if("object"===ut(t)){const e={};for(const i in t)e[i]=dt(t[i]);return e}return t}function pt(t,e){if(0!==t.length)for(let i=0;i<t.length;i++)e(t[i],i,t)}ut.primitive=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t};const mt=t=>Object.keys(t);function xt(t,e){pt(mt(t),(i=>{customElements.get(i)||customElements.define(i,t[i],e)}))}function gt(t=0){return new Promise((e=>{const i=window.setTimeout((()=>{e((()=>window.clearTimeout(i))),clearTimeout(i)}),t)}))}function vt(t,e){const i=[];for(let n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}class bt{constructor(){n(this,"id"),n(this,"events"),this.id=0,this.events={}}on(t,e){return this.id++,this.events={...this.events,[t]:[...this.events[t]||[],{listener:e,id:this.id}]},this.id}off(t){for(const e in this.events)this.events={...this.events,[e]:vt(this.events[e],(e=>e.id!==t))}}emit(t,e){this.events[t]&&pt(this.events[t],(({listener:t})=>{t(e)}))}}function ft(){const t=new bt;let e=-1,i=-1,n=-1,s=0,o=-1,r=-1;function a({to:e,from:i,duration:n=1e3,friction:a=1,reverseEasing:l=!1,easing:c,onStart:h,onUpdate:u,onEnd:d}){let p=null;return s=i,null==h||h(s),(async()=>{await gt(),t.emit("start",s)})(),cancelAnimationFrame(r),r=requestAnimationFrame((function o(h){p||(p=h);const d=h-p,m=Math.min(d/n,1);s=i+(e-i)*m*a,"function"==typeof c&&(s=l?i+(e-i)*(1-c(1-m)):i+(e-i)*c(m)),t.emit("update",s),null==u||u(s),m<1&&(r=requestAnimationFrame(o))})),o=window.setTimeout((()=>{cancelAnimationFrame(r),clearTimeout(o),s=e,null==u||u(s),null==d||d(s),t.emit("update",s),t.emit("end",s)}),n),()=>{clearTimeout(o),cancelAnimationFrame(r)}}return a.onStart=i=>(e=t.on("start",i),()=>t.off(e)),a.onUpdate=e=>(i=t.on("update",e),()=>t.off(i)),a.onEnd=e=>(n=t.on("end",e),()=>t.off(n)),a.off=()=>{t.off(e),t.off(i),t.off(n),cancelAnimationFrame(r),clearTimeout(o)},a.getValue=()=>s,a}function yt(t){let e=5381,i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e>>>0}function Et(t){return t.replace(/\s+/g," ").trim()}function wt(t="global"){return(e,...i)=>{let n=Et(e.reduce(((t,e,n)=>null==i[n]?t+e:t+e+i[n]),""));const s={};return"scope"===t&&(n=Et(n.replace(/(:global\(|)(?:[\.]{1})([a-zA-Z_]+[\w-_\\\[\]\+\=\{\}\?\*\!\(\)]*)(?:[\s\.\,\{\>#\:]{0})/gim,(t=>{if(t.includes(":global(")){const e=t.replace(/:global\(\s*\.|\)$/g,"");return s[e]=e,`.${e}`}const e=t.trim().replace(/^\./g,""),i=`xo-${e}-${yt(n)}`;return s[e]=i,`.${i}`})))),{classes:s,cssText:n}}}function St(t,e=300){let i=-1;return function(...n){const s=this;clearTimeout(i),i=window.setTimeout((()=>{t.apply(s,n)}),e)}}function Ct(t){/comp|inter/.test(document.readyState)?t():"addEventListener"in document?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&t()}))}const Pt={linear:t=>t,ease:t=>.5*(1-Math.cos(Math.PI*t)),easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInBounce:t=>1-Pt.easeOutBounce(1-t),easeOutBack:t=>1+2.70158*(t-1)**3+1.70158*(t-1)**2,easeInBack:t=>2.70158*t*t*t-1.70158*t*t,easeInOut:t=>t<.5?Pt.easeInBack(2*t)/2:Pt.easeOutBack(2*t-1)/2+.5,easeInElastic:t=>{const e=2*Math.PI/3;return 0===t?0:1===t?1:-(2**(10*t-10))*Math.sin((10*t-10.75)*e)},easeOutElastic:t=>{const e=2*Math.PI/3;return 0===t?0:1===t?1:2**(-10*t)*Math.sin((10*t-.75)*e)+1},easeInExpo:t=>0===t?0:2**(10*t-10),easeOutExpo:t=>1===t?1:1-2**(-10*t),spring:t=>1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t),decay:t=>1-Math.exp(6*-t)};function kt(t,e){if(ut.primitive(t)||ut.primitive(t)||null==t||null==e)return t===e;const i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(const n of i){const i=t[n],s=e[n];if("object"==typeof i&&"object"==typeof s){if(!kt(i,s))return!1}else if(i!==s)return!1}return!0}function At(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function Tt(t,e){const i=[];for(let n=0;n<t.length;n++)i.push(e(t[n],n,t));return i}function Mt(t,e,i){let n=i;for(let i=0;i<t.length;i++)n=e(n,t[i],i,t);return n}const Lt=new class{constructor(){n(this,"frameId"),n(this,"keepAliveFrameId"),n(this,"lastTimestamp"),n(this,"frames"),n(this,"keepAliveFrames"),n(this,"defaultTimestep"),n(this,"handleFrameLoop",(t=>{if(this.lastTimestamp){const e=t-this.lastTimestamp;pt(this.keepAliveFrames,(i=>i.call(this,{delta:e,timestamp:t})))}this.lastTimestamp=t,this.keepAliveFrameId&&cancelAnimationFrame(this.keepAliveFrameId),this.keepAliveFrameId=requestAnimationFrame(this.handleFrameLoop)})),n(this,"handleFrame",(t=>{pt(this.frames,(e=>e.call(this,{delta:this.defaultTimestep,timestamp:t})))})),n(this,"getFrames",(()=>this.frames)),n(this,"add",((t,e=!1)=>(this.cancelFrame(),this.frames.includes(t)||this.frames.push(t),e&&!this.keepAliveFrames.includes(t)&&this.keepAliveFrames.push(t),this.start(),this))),n(this,"start",(()=>{this.frameId=requestAnimationFrame(this.handleFrame),this.keepAliveFrameId=requestAnimationFrame(this.handleFrameLoop)})),n(this,"cancelFrame",(()=>{null!=this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),null!=this.keepAliveFrameId&&(cancelAnimationFrame(this.keepAliveFrameId),this.keepAliveFrameId=null)})),n(this,"stopFrame",((t,e)=>{const i=t.indexOf(e);-1!==i&&t.splice(i,1),0===t.length&&(this.cancelFrame(),this.lastTimestamp=null)})),n(this,"remove",(t=>(this.stopFrame(this.frames,t),this.stopFrame(this.keepAliveFrames,t),this))),n(this,"clear",(()=>(this.frames=[],this.keepAliveFrames=[],this.cancelFrame(),this.lastTimestamp=null,this))),this.frameId=null,this.keepAliveFrameId=null,this.lastTimestamp=null,this.frames=[],this.keepAliveFrames=[],this.defaultTimestep=1/60*1e3}};function $t(t){return t.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`))}function It(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const Nt={snakeToCamel:function(t){return t.replace(/([_]\w)/g,(t=>t[1].toUpperCase()))},snakeToPascal:function(t){return t.replace(/(\-\w|\_\w)/g,(t=>t[1].toUpperCase())).replace(/^(\w)/,(t=>t[0].toUpperCase()))},camelToSnake:$t,camelToPascal:function(t){return t.replace(/^(\w)/,(t=>t[0].toUpperCase()))},pascalToSnake:function(t){return $t(t).replace(/^_/g,"")},pascalToCamel:function(t){return t.replace(/^(\w)/,(t=>t[0].toLowerCase()))},kebabToCamel:function(t){return t.replace(/([-]\w)/g,(t=>t[1].toUpperCase()))},kebabToPascal:function(t){return t.replace(/([-]\w)/g,(t=>t[1].toUpperCase())).replace(/^(\w)/,(t=>t[0].toUpperCase()))},camelToKebab:It,pascalToKebab:function(t){return It(t).replace(/^-/g,"")}};function Ot(t){const e=t.trim();if(!/^{|\[/g.test(e))return{};try{const t=new Function(`return ${e}`)();return JSON.parse(JSON.stringify(t))}catch{return/^\[/g.test(e)?[]:{}}}function Dt(t,e){switch(e){case"string":default:return t;case"number":return Number(t);case"string | number":{const e=Number(t);return isNaN(e)?t:e}case"boolean":return"true"===t||""===t;case"object":case"array":return Ot(t)}}function qt(t,{pick:e,types:i,camelCase:n=!0,propTransformer:s}={}){let o={};if(null==t)return o;const r=Array.from(t.attributes);null==e&&(e=Tt(r,(t=>t.name)));for(const t of r){let r=n?Nt.kebabToCamel(t.name):t.name;const a=null==i?void 0:i[r];null!=t.value&&(null==e?void 0:e.includes(r))&&("function"==typeof s&&(r=s(r)),o=i&&null!=a?{...o,[r]:Dt(t.value,a)}:{...o,[r]:t.value})}return o}function Ft(t,{width:e,height:i}={}){const n=t.replace(/(\?|&)width=\d*/g,""),s=n.includes("?")?"&":"?";return`${n}${e?`${s}width=${e}`:""}${i?`${s}height=${i}`:""}`}function Ht({inputRange:t,outputRange:e,value:i,easing:n=t=>t,reverseEasing:s=!1,extrapolate:o="extend"}){const r=Tt(t,((i,n)=>({input:t[n],output:e[n]}))).sort(((t,e)=>t.input-e.input)),a=Tt(r,(({input:t})=>t)),l=Tt(r,(({output:t})=>t));if(i<=a[0])return l[0];if(i>=a[a.length-1])return l[l.length-1];let c=0;for(const t of a)t<i&&c++;const h=c-1;let u=(i-a[h])/(a[c]-a[h]);return"function"==typeof n&&(u=s?1-n(1-u):n(u)),"clamp"===o&&(u=Math.max(Math.min(u,1),0)),l[h]*(1-u)+l[c]*u}navigator.userAgent.match(/Android/i),navigator.userAgent.match(/BlackBerry/i),navigator.userAgent.match(/iPad/i);const Rt=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),Vt=(navigator.userAgent.match(/Opera Mini/i),navigator.userAgent.match(/Windows Phone/i),navigator.userAgent.match(/(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i),navigator.userAgent.match(/Silk/i),!!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|Windows Phone|(?:SD4930UR|\bSilk(?:.+)Mobile\b)|Silk/i));Ct((()=>{const t=document.documentElement;Vt?t.classList.add("is-mobile"):t.classList.add("is-desktop")}));const Bt=t=>Object.values(t);function zt(t){const e=null==t?void 0:t.ownerDocument,i=e.documentElement,n=function(t){return 9===t.nodeType&&t.defaultView}(e);let s={top:0,left:0};return e?(typeof t.getBoundingClientRect<"u"&&(s=t.getBoundingClientRect()),{top:s.top+n.scrollY-i.clientTop,left:s.left+n.scrollX-i.clientLeft}):{top:0,left:0}}class _t{constructor(t){n(this,"dx"),n(this,"dy"),n(this,"vx",0),n(this,"vy",0),n(this,"isStart",!1),n(this,"startX",0),n(this,"startX2",0),n(this,"startY",0),n(this,"startY2",0),n(this,"options"),n(this,"handleMouseDown",(t=>{const{onStart:e}=this.options;if("touchstart"===t.type&&t.touches.length>1||"mousedown"===t.type&&0!==t.button)return;const i=t.target;!Vt&&(i.closest("a")||i.closest("img"))&&t.preventDefault(),this.isStart=!0,"touchstart"===t.type?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.startX2=t.touches[0].clientX,this.startY2=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY,this.startX2=t.clientX,this.startY2=t.clientY),null==e||e(t),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleMouseMove,{passive:!1}),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleMouseUp)})),n(this,"handleMouseMove",(t=>{const{onMove:e}=this.options;if("touchmove"===t.type&&t.touches.length>1||"mousemove"===t.type&&0!==t.button||(Vt||t.preventDefault(),!this.isStart))return;let i,n;"touchmove"===t.type?(i=t.touches[0].clientX,n=t.touches[0].clientY):(i=t.clientX,n=t.clientY);const s=i-this.startX,o=n-this.startY;this.startX=i,this.startY=n,this.dx+=s,this.dy+=o,this.vx=s,this.vy=o,null==e||e({dx:this.dx,dy:this.dy,vx:this.vx,vy:this.vy,isHorizontalSwipe:Math.abs(i-this.startX2)>Math.abs(n-this.startY2)},t)})),n(this,"handleEnd",((t,e)=>{const{onEnd:i}=this.options;!this.isStart||(this.isStart=!1,e&&(this.dx=e.dx,this.dy=e.dy,this.vx=e.vx,this.vy=e.vy),null==i||i({dx:this.dx,dy:this.dy,vx:this.vx,vy:this.vy},t),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchmove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleMouseUp))})),n(this,"handleMouseUp",(t=>{Vt||t.preventDefault(),this.handleEnd(t)})),n(this,"setValue",(({dx:t,dy:e})=>{null!=t&&(this.dx=t),null!=e&&(this.dy=e)})),n(this,"destroy",(()=>{this.options.element.removeEventListener("mousedown",this.handleMouseDown),this.options.element.removeEventListener("touchstart",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchmove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleMouseUp)})),this.options=t,this.dx=t.dx||0,this.dy=t.dy||0,t.element.addEventListener("mousedown",this.handleMouseDown),Vt&&t.element.addEventListener("touchstart",this.handleMouseDown)}}function Wt(t){return new _t(t)}class Ut{constructor(t,e){n(this,"target"),n(this,"options"),n(this,"top"),n(this,"left"),n(this,"handlePlacement",(()=>{const{element:t,placement:e,offset:i}=this.options,{offsetWidth:n,offsetHeight:s}=this.target,{top:o,left:r}=zt(this.target),{offsetWidth:a,offsetHeight:l}=t;switch(e){case"top-left":this.top=o-l-i,this.left=r;break;case"top-center":this.top=o-l-i,this.left=r+n/2-a/2;break;case"top-right":this.top=o-l-i,this.left=r+n-a;break;case"bottom-left":this.top=o+s+i,this.left=r;break;case"bottom-center":this.top=o+s+i,this.left=r+n/2-a/2;break;case"bottom-right":this.top=o+s+i,this.left=r+n-a;break;case"left-top":this.top=o,this.left=r-a-i;break;case"left-center":this.top=o+s/2-l/2,this.left=r-a-i;break;case"left-bottom":this.top=o+s-l,this.left=r-a-i;break;case"right-top":this.top=o,this.left=r+n+i;break;case"right-center":this.top=o+s/2-l/2,this.left=r+n+i;break;case"right-bottom":this.top=o+s-l,this.left=r+n+i}})),n(this,"checkBoundary",(()=>{const{element:t}=this.options,{offsetWidth:e,offsetHeight:i}=t,{clientWidth:n,clientHeight:s}=document.documentElement;this.top<window.scrollY?this.top=window.scrollY:this.top+i>s+window.scrollY&&(this.top=s+window.scrollY-i),this.left<0?this.left=window.scrollX:this.left+e>n+window.scrollX&&(this.left=n+window.scrollX-e)})),n(this,"init",(()=>{const{element:t}=this.options,{width:e,height:i}=t.getBoundingClientRect();return this.handlePlacement(),this.checkBoundary(),{top:this.top,left:this.left,width:e,height:i}})),this.target=t,this.options=e,this.top=0,this.left=0}}function Yt(t,{element:e,placement:i="bottom-center",offset:n=0}){return new Ut(t,{element:e,placement:i,offset:n}).init()}const Gt=function(t,e=!1){const i=e?{}:[],n=new URLSearchParams(t);for(const t of n.entries())if(e){const[e,n]=t;i[e]=n}else i.push([t[0],t[1]]);return i},jt=function(t){const e=new URLSearchParams(t),i="&"+String.fromCharCode(10);return e.toString().replace(/&/g,i).replace(/\w.*=&?$/gm,"").replace(/\n+/g,"").replace(/&$/g,"")};function Xt(t,e,i=.55){return t*e*i/(e+i*t)}function Qt(t,e,i,n){return i<t?-Xt(t-i,e-t,n)+t:i>e?Xt(i-e,e-t,n)+e:i}const Zt=function(){let t=!1;return(()=>{if(!t){t=!0;const e="@xoLocalStorageCheck";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}return!0})()?window.localStorage:{getItem(){return null},setItem(){},removeItem(){},clear(){},key(){return null},length:0}}();class Kt{constructor(t={}){n(this,"_store"),n(this,"_prevStore"),n(this,"_options"),n(this,"_listeners"),n(this,"_storageRegisters"),n(this,"_useDeepEquals"),n(this,"_handleListeners",(t=>{if(this._listeners[t]){const e=this.get(t);for(let i=0;i<this._listeners[t].length;i++){const{equal:n,listener:s}=this._listeners[t][i];n&&n(dt(this._prevStore[t]),e)||s(e)}}})),n(this,"_getState",((t,e)=>{const{storagePrefix:i}=this._options,n=Zt.getItem(`${i}${t}`);return null!=n&&void 0!==n&&this._storageRegisters[t]?JSON.parse(n):e})),n(this,"_setStorage",((t,e)=>{if(t&&void 0!==e&&this._storageRegisters[t]){const{storagePrefix:i}=this._options,n=JSON.stringify(e);Zt.setItem(`${i}${t}`,n)}})),n(this,"_set",((t,e)=>{const{logger:i,loggerCollapsed:n}=this._options;return(this._useDeepEquals[t]?!kt(this._store[t],e):this._store[t]!==e)&&(this._prevStore[t]=dt(this._store[t]),this._store[t]=e,this._setStorage(t,e),this._handleListeners(t),i)?i=>{Kt.logger(i,e,t,n,this._prevStore,this._store)}:()=>{}})),n(this,"create",((t,{initialState:e,useStorage:i,useDeepEqual:n})=>{const{logger:s,loggerCollapsed:o,storagePrefix:r}=this._options;this._store[t]||(this._storageRegisters[t]=i,this._getState(t,e)||this._setStorage(t,e),this._store[t]=this._getState(t,e),i||Zt.removeItem(`${r}${t}`),this._handleListeners(t),s&&Kt.logger("@store/initialState",e,t,o)),this._useDeepEquals[t]||(this._useDeepEquals[t]=!!n)})),this._store={},this._prevStore={},this._listeners={},this._storageRegisters={},this._options={logger:t.logger||!1,loggerCollapsed:t.loggerCollapsed||!1,storagePrefix:t.storagePrefix?`${t.storagePrefix}/`:""},this._useDeepEquals={}}static logger(t,e,i,n=!1,s,o){const r=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=i,l=a.length<9?Array(9-a.length).fill(" ").join(""):"";console[n?"groupCollapsed":"group"](`%c XOStore: ${t}`,"color: #614eff",`@${r}`),s&&console.log("%c Prev Store ","color: #999; font-weight: 600",s),console.log(`%c ${a}  ${l}`,"color: #44b0e2; font-weight: 600",e),o&&console.log("%c Next Store ","color: #7ac143; font-weight: 600",o),console.groupEnd()}get(t){return t?this._store[t]:this._store}set(t,e){if("function"==typeof e){const i=e,n=this._store[t];return this._set(t,i(n))}return this._set(t,e)}subscribe(t,e,i){if(this._listeners[t]=this._listeners[t]||[],this._listeners[t].push({listener:e,equal:i}),Object.keys(this._store).includes(t)){const n=this.get(t),s=dt(this._prevStore[t]);i&&i(s,n)||e(n)}return()=>{this._listeners[t]=vt(this._listeners[t],(({listener:t})=>t!==e))}}}let Jt=null;function te(){if(!document.body||document.body.scrollHeight<=window.innerHeight)return 0;const t=document.createElement("div");return t.style.display="block",t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="fixed",t.style.top="-9999px",document.body.appendChild(t),Jt=100-t.clientWidth,document.body.removeChild(t),Jt}function ee(t){if(null==t)return;const e=mt(t||{}),i=Mt(e,((i,n,s)=>{var o,r;const a=parseInt(n.toString())||0,l=parseInt((null==(r=null==(o=e[s-1])?void 0:o.toString)?void 0:r.call(o))||"0");return window.innerWidth>l&&window.innerWidth<=a?{...i,...t[n]}:i}),{});return mt(i).length?i:void 0}function ie(t,e){let i=window.innerWidth,n=window.innerHeight;return function(...s){var o;const r=this;null!=(o=window.xbEditor)&&o.designMode?e.apply(r,s):("x"===t?i!==window.innerWidth&&e.apply(r,s):"y"===t&&n!==window.innerHeight&&e.apply(r,s),i=window.innerWidth,n=window.innerHeight)}}const ne=({file:t,content:e,insertPosition:i="beforeend",id:n,parentElement:s=document.head})=>{if(n){const t=document.getElementById(n);null==t||t.remove()}if(t){const e=document.createElement("link");return n&&(e.id=n),e.rel="stylesheet",e.href=t,s.insertAdjacentElement(i,e),e}if(e){const t=document.createElement("style");return n&&(t.id=n),t.textContent=e,s.insertAdjacentElement(i,t),t}},se=async({file:t,content:e,insertPosition:i="beforeend",id:n,parentElement:s=document.head,type:o})=>{if(n){const t=document.getElementById(n);null==t||t.remove()}const r=document.createElement("script");return n&&(r.id=n),t&&(r.src=t,o&&(r.type=o)),e&&(r.textContent=e),t||e?(s.insertAdjacentElement(i,r),new Promise((t=>{r.onload=()=>{t(r)}}))):new Promise((t=>{t(r)}))};function oe(t,e,i=1){const n=Math.ceil((e-t)/i);return Array.from({length:n},((e,n)=>t+n*i))}class re{static toArray(t){const e=[],i=t.match(/[a-df-z][^a-df-z]*/gi);if(!i)return e;for(let t=0;t<i.length;t++){const n=i[t],s=n.charAt(0),o=n.substring(1).split(/[\s,]+|(?=\s?[+\-])/).map((t=>+t));e.push({type:s,values:o})}return e}static toString(t){let e="";for(let i=0;i<t.length;i++){const n=t[i],s=n.type,o=n.values;e+=s;for(let t=0;t<o.length;t++)e+=o[t]+(t<o.length-1?" ":"")}return e}}function ae(t,e,i){let n=i-e+1;return((t-e)%n+n)%n}class le extends HTMLElement{constructor(){super(),n(this,"$attributeObserver$",null),n(this,"props",{}),n(this,"state",{}),n(this,"_setProps",(()=>{const t=this.__proto__.constructor.propTypes,e=this.__proto__.constructor.defaultProps,i=qt(this,{pick:Object.keys(t),types:t});this.props={...e,...i}})),n(this,"handlePropUpdate",(()=>{const t=this.__proto__.constructor.observedProps;!t||!t.length||(this.$attributeObserver$=new MutationObserver((e=>{e.forEach((e=>{const i=e.attributeName;if(i&&"attributes"===e.type){const n=Nt.kebabToCamel(i),s=e.oldValue,o=this.getAttribute(i);t.includes(n)&&s!==o&&(this._setProps(),this.propUpdate({name:n,prevProp:s,nextProp:o}))}}))})),this.$attributeObserver$.observe(this,{attributes:!0,attributeOldValue:!0,attributeFilter:t.map((t=>Nt.camelToKebab(t)))}))}))}setState(t){const e=this.state;"object"!=typeof t||Array.isArray(t)||null===t?"function"==typeof t&&(this.state={...this.state,...t(e)}):this.state={...this.state,...t},this.stateUpdate(e)}setProps(t){const e=this.props;"object"!=typeof t||Array.isArray(t)||null===t?"function"==typeof t&&(this.props={...this.props,...t(e)}):this.props={...this.props,...t},Object.entries(this.props).forEach((([t,e])=>{const i=t.includes("-")?t:Nt.camelToKebab(t);"boolean"==typeof e?at(this,i,e):null==e?this.removeAttribute(i):this.setAttribute(i,"string"==typeof e?e:JSON.stringify(e))}))}connectedCallback(){this._setProps(),this.setProps({}),this.mount(),this.handlePropUpdate()}disconnectedCallback(){var t;null==(t=this.$attributeObserver$)||t.disconnect(),this.unmount()}emit(t,e){const i=new CustomEvent(t,e);return this.dispatchEvent(i),i}stateUpdate(t){}propUpdate({name:t,prevProp:e,nextProp:i}){}mount(){}unmount(){}}function ce(t,e){return i=>{window.customElements.get(t)||window.customElements.define(t,i,e)}}function he(t){return new Promise((e=>{0===t.length&&e();let i=0;t.forEach((n=>{const s=new Image,o=()=>{i+=1,i===t.length&&e()};s.onload=o,s.onerror=t=>{console.error(t),o()},s.src=n}))}))}function ue(){return"function"==typeof HTMLDialogElement}function de(t){var e;!ue()||t.hasAttribute("popover")&&(null==(e=null==t?void 0:t.showPopover)||e.call(t))}function pe(t){var e;!ue()||t.hasAttribute("popover")&&(null==(e=null==t?void 0:t.hidePopover)||e.call(t))}function me(t){return-1!==t.search(/^https?:\/\/(www|)\.youtube\.com/g)}function xe(t){return-1!==t.search(/^https?:\/\/(player\.|)vimeo\.com/g)}function ge(t,e){var i,n;const s="string"==typeof e?document.querySelector(e):e;s&&("VIDEO"===s.tagName?s[t]():"IFRAME"===s.tagName&&me(s.src)?null==(i=s.contentWindow)||i.postMessage(`{"event":"command","func":"${t}Video","args":[],"id":1,"channel":"widget"}`,"*"):"IFRAME"===s.tagName&&xe(s.src)&&(null==(n=s.contentWindow)||n.postMessage({method:t,value:{}},"*")))}function ve(t){ge("pause",t)}function be(t){return t.closest(".shopify-section").id.replace(/^shopify-section-/g,"")}function fe(t){var e,i;const n=null==(i=null==(e=window.Shopify)?void 0:e.routes)?void 0:i.root;return n&&t&&!t.includes(":")&&!t.startsWith(n.replace(/\/$/g,""))&&t.startsWith("/")&&!t.startsWith("//")?`${n}${t.replace(/^\//g,"")}`:t}function ye(t,e){"string"==typeof t&&(t=t.replace(".",""));let i="";const n=/\{\{\s*(\w+)\s*\}\}/,s=e||"{{amount}}";function o(t,e,i=",",n="."){if(isNaN(t)||null==t)return"0";const s=(t=Number((t/100).toFixed(e))).toString().split(".");return s[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)+(s[1]?n+s[1]:"")}const r=s.match(n);if(!r)return s;switch(r[1]){case"amount":i=o(Number(t),2);break;case"amount_no_decimals":i=o(Number(t),0);break;case"amount_with_comma_separator":i=o(Number(t),2,".",",");break;case"amount_no_decimals_with_comma_separator":i=o(Number(t),0,".",",");break;default:return s}return s.replace(n,i)}n(le,"defaultProps",{}),n(le,"propTypes",{}),n(le,"observedProps",[]);const Ee="width",we=null!=(e=null==window?void 0:window.xoImgDevicePixelRatio)?e:1.5,Se=null!=(i=null==window?void 0:window.xoImgDevicePixelRatio)?i:1.5;function Ce(t,e,i,n){const s=t;if(!s)return"";if(s.includes("data:"))return s;const o=s.replace(/(\?|&)(w|width)=\d*/g,"").replace(new RegExp(`(\\?|&)${Ee}=\\d*`,"g"),""),r=ht(window.devicePixelRatio,we,Se),a=ht(Math.min(Math.round(e*r),2e3),i,n);if(0===a)return s;const l=`${Ee}=${a}`;return o.includes("?")?`${o}&${l}`:`${o}?${l}`}function Pe(t){return Ot(t.getAttribute("xo-width-range")||t.getAttribute("data-width-range")||"[200, 1920]")}function ke(t){const e=function(t){return{intrinsicWidth:Number(t.getAttribute("xo-intrinsic-width"))||Number(t.getAttribute("data-intrinsic-width"))||0,intrinsicHeight:Number(t.getAttribute("xo-intrinsic-height"))||Number(t.getAttribute("data-intrinsic-height"))||0}}(t),i=function(t){return Number(t.getAttribute("xo-fallback-width"))||Number(t.getAttribute("data-fallback-width"))||400}(t),{width:n,height:s}=t.getBoundingClientRect(),o=t.parentElement,r=function(t){return t.hasAttribute("xo-width-range")||t.hasAttribute("data-width-range")}(t)?n:Math.max(n,i);if(!o)return r;if(function(t){return t.intrinsicWidth>0&&t.intrinsicHeight>0}(e)){const{intrinsicWidth:t,intrinsicHeight:i}=e,n=t/i;return n>r/s?Math.round(s*n):Math.round(r)}return r}const Ae={CircleBar:"xo-circle-bar",ScrollX:"xo-scroll-x",ScrollXInner:"xo-scroll-x-inner",ScrollXItem:"xo-scroll-x-item",Toggle:"xo-toggle",ToggleTrigger:"xo-toggle-trigger",Modal:"xo-modal",ModalTrigger:"xo-modal-trigger",ModalInner:"xo-modal-inner",ModalContent:"xo-modal-content",ModalBackdrop:"xo-modal-backdrop",ModalPan:"xo-modal-pan",Toast:"xo-toast",ToastPortal:"xo-toast-portal",ToastContent:"xo-toast-content",ToastCloseButton:"xo-toast-close-button",Popover:"xo-popover",PopoverTrigger:"xo-popover-trigger",BuilderPopover:"xo-builder-popover",BuilderPopoverContent:"xo-builder-popover-content",Tooltip:"xo-tooltip",TooltipContent:"xo-tooltip-content",TooltipTrigger:"xo-tooltip-trigger",Sticky:"xo-sticky",StickyInner:"xo-sticky-inner",StickyContent:"xo-sticky-content",StickySpace:"xo-sticky-space",StickyHidden:"xo-sticky-hidden",Collapse:"xo-collapse",CollapseTrigger:"xo-collapse-trigger",CollapseProvider:"xo-collapse-provider",List:"xo-list",ListTrigger:"xo-list-trigger",ListPortal:"xo-list-portal",ListItem:"xo-list-item",Tabs:"xo-tabs",TabsPane:"xo-tabs-pane",TabsTrigger:"xo-tabs-trigger",TabsActive:"xo-tabs-active",Parallax:"xo-parallax",ParallaxScroll:"xo-parallax-scroll",ParallaxHover:"xo-parallax-hover",ParallaxHoverInner:"xo-parallax-hover-inner",Carousel:"xo-carousel",CarouselThumbnail:"xo-carousel-thumbnail",CarouselList:"xo-carousel-list",CarouselInner:"xo-carousel-inner",CarouselSlide:"xo-carousel-slide",CarouselNext:"xo-carousel-next",CarouselPrev:"xo-carousel-prev",CarouselPagination:"xo-carousel-pagination",CarouselBullet:"xo-carousel-bullet",CarouselSize:"xo-carousel-size",CarouselPage:"xo-carousel-page",CarouselTrigger:"xo-carousel-trigger",CarouselDynamicBullets:"xo-carousel-dynamic-bullets",ScrollCarousel:"xo-scroll-carousel",ScrollCarouselNext:"xo-scroll-carousel-next",ScrollCarouselPrev:"xo-scroll-carousel-prev",Range:"xo-range",RangePrice:"xo-range-price",RangeTrack:"xo-range-track",RangeThumb:"xo-range-thumb",RangeProgress:"xo-range-progress",Filters:"xo-filters",FiltersMobile:"xo-filters-mobile",FiltersField:"xo-filters-field",FiltersContent:"xo-filters-content",FiltersRefine:"xo-filters-refine",FiltersClear:"xo-filters-clear",FiltersFallback:"xo-filters-fallback",FiltersCount:"xo-filters-count",FiltersActiveSize:"xo-filters-active-size",FiltersPaginate:"xo-filters-paginate",FiltersLoadMore:"xo-filters-load-more",FiltersTop:"xo-filters-top",FiltersSortBySelected:"xo-filters-sort-by-selected",FiltersRefineClearIcon:"xo-filters-refine-clear-icon",Gallery:"xo-gallery",GalleryItem:"xo-gallery-item",GalleryPortal:"xo-gallery-portal",GalleryNext:"xo-gallery-next",GalleryPrev:"xo-gallery-prev",GalleryCounter:"xo-gallery-counter",Cart:"xo-cart",CartMini:"xo-cart-mini",CartSize:"xo-cart-size",CartAdd:"xo-cart-add",CartFly:"xo-cart-fly",CartRemove:"xo-cart-remove",CartChangeFallback:"xo-cart-change-fallback",CartQuantity:"xo-cart-quantity",CartQuantityMinus:"xo-cart-quantity-minus",CartQuantityPlus:"xo-cart-quantity-plus",CartQuantityTrigger:"xo-cart-quantity-trigger",CartNote:"xo-cart-note",CartNoteSubmit:"xo-cart-note-submit",CartShippingRates:"xo-cart-shipping-rates",CartShippingRatesField:"xo-cart-shipping-rates-field",CartShippingRatesSubmit:"xo-cart-shipping-rates-submit",CartShippingRatesError:"xo-cart-shipping-rates-error",CartDiscount:"xo-cart-discount",CartDiscountSubmit:"xo-cart-discount-submit",CartScroll:"xo-cart-scroll",CartAddError:"xo-cart-add-error",CartAddErrorMessage:"xo-cart-add-error-message",CartWillChange:"xo-cart-will-change",Product:"xo-product",ProductWillChange:"xo-product-will-change",ProductVariant:"xo-product-variant",ProductVariants:"xo-product-variants",ProductVariantActive:"xo-product-variant-active",ProductProperties:"xo-product-properties",ProductProperty:"xo-product-property",ProductData:"xo-product-data",ProductPickupAvailability:"xo-product-pickup-availability",ProductPickupAvailabilityList:"xo-product-pickup-availability-list",ProductQuickView:"xo-product-quick-view",ProductQuickViewTrigger:"xo-product-quick-view-trigger",ProductQuickViewVariant:"xo-product-quick-view-variant",ProductLiquidStatic:"xo-product-liquid-static",ProductVariantSelected:"xo-product-variant-selected",ProductRecipientForm:"xo-product-recipient-form",ProductRecipientFormError:"xo-product-recipient-form-error",ProductRecommendations:"xo-product-recommendations",ProductMedia:"xo-product-media",ProductCompareAdd:"xo-product-compare-add",ProductCompareRemove:"xo-product-compare-remove",ProductCompareClear:"xo-product-compare-clear",ProductCompareSize:"xo-product-compare-size",BundleProvider:"xo-bundle-provider",BundleAdd:"xo-bundle-add",BundleRemove:"xo-bundle-remove",BundleContent:"xo-bundle-content",BundlePrice:"xo-bundle-price",BundleSize:"xo-bundle-size",BundlePlaceholder:"xo-bundle-placeholder",BundleProgress:"xo-bundle-progress",BundleStep:"xo-bundle-step",BundleProperties:"xo-bundle-properties",PriceReduced:"xo-price-reduced",MarqueeScrollTransform:"xo-marquee-scroll-transform",Marquee:"xo-marquee",MarqueeItem:"xo-marquee-item",Group:"xo-group",GroupButton:"xo-group-button",Animate:"xo-animate",AnimateItem:"xo-animate-item",ImageZoom:"xo-image-zoom",ImageZoomInner:"xo-image-zoom-inner",ImageZoomItem:"xo-image-zoom-item",ImageZoomThumb:"xo-image-zoom-thumb",ImageZoomManual:"xo-image-zoom-manual",Countdown:"xo-countdown",CountdownDay:"xo-countdown-day",CountdownHour:"xo-countdown-hour",CountdownMinute:"xo-countdown-minute",CountdownSecond:"xo-countdown-second",Countto:"xo-countto",CounttoNumber:"xo-countto-number",VideoCover:"xo-video-cover",VideoCoverButton:"xo-video-cover-button",VideoCoverItem:"xo-video-cover-item",Ripple:"xo-ripple",RippleItem:"xo-ripple-item",Typing:"xo-typing",TypingInner:"xo-typing-inner",TypingContent:"xo-typing-content",ImageComparison:"xo-image-comparison",Instagram:"xo-instagram",InstagramTemplate:"xo-instagram-template",InstagramItem:"xo-instagram-item",InstagramNext:"xo-instagram-next",InstagramPrev:"xo-instagram-prev",DarkMode:"xo-dark-mode",MegaMenu:"xo-mega-menu",Masonry:"xo-masonry",MasonryItem:"xo-masonry-item",Lazyload:"xo-lazyload",Cursor:"xo-cursor",CursorItem:"xo-cursor-item",VirtualScroll:"xo-virtual-scroll",Drr:"xo-drr",Drr2:"xo-drr-2",DrrAction:"xo-drr-action",Magnetic:"xo-magnetic",MagneticContent:"xo-magnetic-content",LineChart:"xo-line-chart",ScrollScene:"xo-scroll-scene",ScrollSceneInner:"xo-scroll-scene-inner",ScrollSceneItem:"xo-scroll-scene-item",CollectionTabs:"xo-collection-tabs",CollectionTabsTrigger:"xo-collection-tabs-trigger",CollectionTabsContent:"xo-collection-tabs-content",IntersectionVideo:"xo-intersection-video",ProductsFetcher:"xo-products-fetcher",ProductsFetcherAdd:"xo-products-fetcher-add",ProductsFetcherRemove:"xo-products-fetcher-remove",ProductsFetcherClear:"xo-products-fetcher-clear",ProductsFetcherSize:"xo-products-fetcher-size",ProductsFetcherPaginate:"xo-products-fetcher-paginate",Photoswipe:"xo-photoswipe",GlobalFunction:"xo-global-function",Item:"xo-item"},Te=new Map;class Me extends HTMLImageElement{constructor(){super(...arguments),n(this,"prevSrc",""),n(this,"removeOverlay",(async()=>{var t;const e=null==(t=this.parentElement)?void 0:t.querySelector(".xo-lazyload-overlay");null==e||e.remove(),Te.set(this.prevSrc,this.src),at(this,"xo-loaded",!0),this.style.removeProperty("--fallback")})),n(this,"handleLoad",(()=>{this.removeEventListener("load",this.handleLoad),this.removeOverlay()})),n(this,"init",(async()=>{const t=this.getAttribute("xo-src")||this.getAttribute("data-src")||this.src,[e,i]=Pe(this);"lazy"!==this.loading&&(this.loading="lazy"),this.closest(Ae.CarouselSlide)&&(Te.has(this.src)||await gt(50)),(()=>{const n=ke(this),s=Ce(t,n,e,i);t&&(this.prevSrc=t,this.src=s,this.style.setProperty("--fallback",`url('${this.prevSrc}')`)),this.srcset&&(this.srcset=`${s} ${n}w`),(this.complete||Te.has(this.src))&&this.removeOverlay(),this.addEventListener("load",this.handleLoad)})()})),n(this,"handleResize",St((()=>this.init()),500))}static get observedAttributes(){return["xo-src","data-src"]}connectedCallback(){this.init(),window.addEventListener("resize",this.handleResize,!1)}disconnectedCallback(){this.removeEventListener("load",this.handleLoad),window.removeEventListener("resize",this.handleResize,!1)}attributeChangedCallback(t,e,i){e!==i&&this.init()}}let Le=null;function $e(t=document){!function(t){function e(t){const e=function(t){const e=t.replace(/url\(["']|["']\)/g,"");return e===window.location.href.replace(/\?.*/g,"")||"none"===e?"":e}(window.getComputedStyle(t).backgroundImage)||t.getAttribute("xo-src")||t.getAttribute("data-src")||"";if(e){const[i,n]=Pe(t),s=Ce(e,ke(t),i,n),o=t.querySelector(".xo-lazyload-overlay");t.tagName.toLowerCase()===Ae.ParallaxScroll&&t.addEventListener("xo:parallax-scroll:init",(()=>{t.style.backgroundImage=`url('${s}')`,null==o||o.remove()})),t.style.backgroundImage=`url('${s}')`,null==o||o.remove()}}"IntersectionObserver"in window?(null==Le||Le.disconnect(),Le=new IntersectionObserver((t=>{t.forEach((async t=>{if(await gt(window.XO_DEV?1e3:50),t.isIntersecting){const i=t.target;e(i),null==Le||Le.unobserve(i)}}))})),t.forEach((t=>{null==Le||Le.observe(t)}))):t.forEach(e)}(Array.from(t.querySelectorAll(".xo-background-lazyload")))}Ct($e),document.addEventListener("shopify:section:load",(t=>$e(t.target))),document.addEventListener("shopify:section:reorder",(t=>$e(t.target))),window.addEventListener("resize",St((()=>$e()),500));const Ie=Array.from(document.querySelectorAll(Ae.MegaMenu)),Ne=new Map;var Oe;pt(Ie,(t=>{const e=t.closest("li");e&&e.addEventListener("mouseenter",(()=>{Ne.get(e)||($e(),Ne.set(e,!0))}))})),customElements.get(Ae.Lazyload)||customElements.define(Ae.Lazyload,Me,{extends:"img"}),null!=(Oe=window.xbEditor)&&Oe.designMode||window.addEventListener("click",(t=>{const e=t.target.closest("[xb-href], [xo-href]"),i=(null==e?void 0:e.getAttribute("xb-href"))||(null==e?void 0:e.getAttribute("xo-href"));i&&(t.preventDefault(),"_blank"===e.getAttribute("xb-target")||"_blank"===e.getAttribute("xo-target")||t.ctrlKey||t.metaKey?window.open(fe(i),"_blank"):window.location.href=fe(i))}));const De=(t,e,i)=>t+(e-t)*i,qe="===empty===",Fe=1e3/60,He=/(px|%|vh|vw|em|rem|pt|cm|mm|in|pc|ex|ch|vmin|vmax|lh|rlh|vb|vi|svw|svh|lvw|lvh|dvw|dvh|deg)/g;class Re{constructor(t,e,i){n(this,"el"),n(this,"cloneEl"),n(this,"options"),n(this,"contextOptions"),n(this,"currentValue"),n(this,"targetValue"),n(this,"handleFrameSyncUpdate",(({delta:t})=>{const{lerpEase:e}=this.contextOptions;if(Math.abs(this.targetValue-this.currentValue)<.001)return;let i=t/Fe;const n=Math.round(i);n>=1&&(i=n);const s=De(this.currentValue,this.targetValue,e*i);this.setStyles(this.el,s),this.currentValue=s})),n(this,"destroy",(()=>{if(this.el){const{style:t}=this.cloneEl;this.el.removeAttribute("style"),pt(Array.from(t),(e=>{const i=t[e];this.el.style[e]=i})),Lt.remove(this.handleFrameSyncUpdate)}})),n(this,"getElement",(()=>this.el)),this.el=t,this.cloneEl=this.el.cloneNode(),this.options=e,this.contextOptions=i,this.currentValue=0,this.targetValue=0,Lt.add(this.handleFrameSyncUpdate,!0)}getInputRange(){const{keyframes:t}=this.options;return Mt(mt(t),((t,e)=>{const i=Number(e.replace("%",""));return isNaN(i)?t:[...t,i]}),[]).sort(((t,e)=>t-e))}getKeyframesByProp(t){const{keyframes:e}=this.options,i=this.getInputRange();Math.max(...i)>100&&lt("Max value of input range must be less than 100%");let n=null;return Mt(i,((i,s)=>{const o=e[`${s}%`][t];return null!=o&&i.push(String(o)),n=i[i.length-1],null==o&&null!=n&&i.push(n),i}),[])}getDefaultUnit(t){switch(t){case"x":case"y":case"width":case"height":case"backgroundPositionY":case"blur":case"borderRadius":return"px";case"rotate":case"rotateX":case"rotateY":case"skew":case"skewX":case"skewY":case"hueRotate":return"deg";case"backgroundSizeX":case"backgroundSizeY":case"grayscale":return"%";default:return""}}interpolate(t,e){const i=this.getKeyframesByProp(e),n=String(i[0]).replace(/[0-9.,-]/g,""),s=i.map((t=>Number(String(t).replace(He,""))));return 0===i.length?qe:`${Ht({value:t,inputRange:this.getInputRange(),outputRange:s})}${n||this.getDefaultUnit(e)}`}setStyles(t,e){const{setStyles:i}=this.contextOptions,n=this.interpolate(e,"x"),s=this.interpolate(e,"y"),o=this.interpolate(e,"rotate"),r=this.interpolate(e,"rotateX"),a=this.interpolate(e,"rotateY"),l=this.interpolate(e,"scale"),c=this.interpolate(e,"scaleX"),h=this.interpolate(e,"scaleY"),u=this.interpolate(e,"skew"),d=this.interpolate(e,"skewX"),p=this.interpolate(e,"skewY"),m=this.interpolate(e,"opacity"),x=this.interpolate(e,"borderRadius"),g=this.interpolate(e,"width"),v=this.interpolate(e,"height"),b=this.interpolate(e,"brightness"),f=this.interpolate(e,"contrast"),y=this.interpolate(e,"hueRotate"),E=this.interpolate(e,"blur"),w=this.interpolate(e,"grayscale"),S=this.interpolate(e,"backgroundPositionY"),C=this.interpolate(e,"backgroundSizeX"),P=this.interpolate(e,"backgroundSizeY"),k=this.interpolate(e,"videoTime"),A=this.interpolate(e,"groupImg"),T=[];if(t.style.transform=vt([`translateX(${n})`,`translateY(${s})`,`rotate(${o})`,`rotateX(${r})`,`rotateY(${a})`,`scale(${l})`,`scaleX(${c})`,`scaleY(${h})`,`skew(${u})`,`skewX(${d})`,`skewY(${p})`],(t=>!!t&&!t.includes(qe))).join(" "),g!==qe&&(t.style.width=`${g}`),v!==qe&&(t.style.height=`${v}`),m!==qe&&(t.style.opacity=`${m}`),x!==qe&&(t.style.borderRadius=`${x}`),b!==qe&&T.push(`brightness(${b})`),f!==qe&&T.push(`contrast(${f})`),y!==qe&&T.push(`hue-rotate(${y})`),E!==qe&&T.push(`blur(${E})`),w!==qe&&T.push(`grayscale(${w})`),T.length>0&&(t.style.filter=T.join(" ")),S!==qe&&(t.style.backgroundSize="cover",t.style.backgroundPosition="center",Rt?t.style.backgroundPosition=`50% calc(${S} * -1)`:(t.style.backgroundAttachment="fixed",t.style.backgroundPosition=`50% ${S}`)),C!==qe&&P===qe&&(t.style.backgroundSize=`${C} 100%`),C===qe&&P!==qe&&(t.style.backgroundSize=`100% ${P}`),C!==qe&&P!==qe&&(t.style.backgroundSize=`${C} ${P}`),k!==qe){const e=t.querySelector("video");if(e&&e.duration){const t=Ht({value:Number(k.replace(He,"")),inputRange:[0,100],outputRange:[0,e.duration]});e.currentTime=t}}if(A!==qe){"static"===window.getComputedStyle(t).position&&(t.style.position="relative");const e=Array.from(t.querySelectorAll("img")),i=Math.floor(Ht({value:Number(A.replace(He,"")),inputRange:[0,100],outputRange:[0,e.length-1]}));pt(e,((t,e)=>{t.style.opacity=e===i?"1":"0"}))}i&&i({element:t,createValue:t=>this.interpolate(e,t),EMPTY:qe})}handleParallax(){const t=ht((window.scrollY-this.getFrom())/(this.getTo()-this.getFrom())*100,0,100);t>=0&&t<=100&&(this.targetValue=t)}getFrom(){const{from:t}=this.options;return"function"==typeof t?t():t}getTo(){const{to:t}=this.options;return"function"==typeof t?t():t}init(){this.handleParallax()}}const Ve=class{constructor(t){n(this,"options"),n(this,"items"),n(this,"handlerScroll",(()=>{for(const t of this.items)t.init()})),n(this,"add",((t,e)=>(this.items.push(new Re(t,e,this.options)),this))),n(this,"remove",(t=>{const e=this.items.find((e=>e.getElement()===t));this.items=this.items.filter((e=>e.getElement()!==t)),e&&e.destroy()})),n(this,"run",(()=>{const{targetElement:t}=this.options;this.handlerScroll(),t.removeEventListener("scroll",this.handlerScroll,!1),t.addEventListener("scroll",this.handlerScroll,!1)})),n(this,"destroy",(()=>{const{targetElement:t}=this.options;t.removeEventListener("scroll",this.handlerScroll,!1);for(const t of this.items)t.destroy()})),this.options={...Ve.defaultOptions,...t},this.items=[]}};let Be=Ve;function ze(t={}){return new Be(t)}n(Be,"defaultOptions",{targetElement:window,setStyles:void 0,lerpEase:.08}),window.xoParallaxScroll=ze;const _e=/\/(checkout|cart)/g,We=t=>{const e=new URL(t);return e.origin===location.origin&&["http:","https:"].includes(e.protocol)&&!("http:"===e.protocol&&"https:"===location.protocol)&&!(e.hash&&e.pathname+e.search===location.pathname+location.search)},Ue=t=>{document.body.classList.add("xo-navigate-smooth"),window.location.href=t},Ye=class{constructor(t){n(this,"linksLoaded",new Set),n(this,"domparser",new DOMParser),n(this,"pages",new Map),n(this,"controllers",new Map),n(this,"options"),n(this,"lastTouchTimestamp",0),n(this,"timeId",-1),n(this,"getHtml",(async t=>{const{use:e}=this.options,{href:i}=t;if(!this.linksLoaded.has(i)){this.linksLoaded.add(i),this.controllers.set(i,new AbortController);const{signal:n}=this.controllers.get(i);if(!this.pages.has(i))if("SSR"===e){const e=document.createElement("link");e.rel="prefetch",e.href=i,e.fetchPriority="high",e.as="document",at(e,"xo-prefetch",!0),e.onload=()=>{at(t,"xo-prefetched",!0)},document.head.appendChild(e)}else try{const t=await(await fetch(i,{signal:n})).text(),e=this.domparser.parseFromString(t,"text/html");this.pages.set(i,e)}catch{this.linksLoaded.delete(i)}}})),n(this,"cancelRequest",(t=>{const{use:e}=this.options;if(this.controllers.has(t)){if("SSR"===e){const e=document.querySelector(`link[xo-prefetch][href="${t}"]`);e&&e.remove()}else this.controllers.get(t).abort();this.linksLoaded.delete(t)}})),n(this,"navigate",(t=>{if(_e.test(t))Ue(t);else if(We(t)){const{root:e}=this.options;if(this.pages.has(t)&&e){const i=`#${e.id}`,n=this.pages.get(t).querySelector(i);n&&(e.innerHTML=n.innerHTML,window.history.pushState(null,"",t),window.scrollTo(0,0),this.update())}else Ue(t)}})),n(this,"handleWindowClick",(async t=>{const{use:e}=this.options,i=t.target.closest("a");!i||"CSR"===e&&(t=>!!t.closest("a[href]"))(i)&&(t.preventDefault(),this.navigate(i.href))})),n(this,"handleMouseOver",(t=>{if(performance.now()-this.lastTouchTimestamp<1100)return;const e=t.target.closest("a");e&&We(e.href)&&(this.timeId=window.setTimeout((()=>{this.timeId=-1,this.getHtml(e)}),80))})),n(this,"handleTouchStart",(t=>{this.lastTouchTimestamp=Date.now();const e=t.target.closest("a");e&&We(e.href)&&(e.addEventListener("touchcancel",this.handleCancel,{passive:!0}),e.addEventListener("touchend",this.handleCancel,{passive:!0}),this.getHtml(e))})),n(this,"handleCancel",(t=>{const e=t.target.closest("a");e&&We(e.href)&&!rt(e,"xo-prefetched")&&(-1!==this.timeId?(clearTimeout(this.timeId),this.timeId=-1):this.cancelRequest(e.href))})),n(this,"handlePopState",(async t=>{const{use:e}=this.options;"CSR"===e&&(t.preventDefault(),this.navigate(window.location.href))})),n(this,"update",(()=>{this.destroy(),this.init()})),n(this,"init",(()=>{window.Shopify.designMode||(document.body.classList.contains("xo-navigate-smooth")||document.body.classList.add("xo-using-page-speed"),document.addEventListener("mouseover",this.handleMouseOver,{capture:!0,passive:!0}),document.addEventListener("mouseout",this.handleCancel,{passive:!0}),document.addEventListener("touchstart",this.handleTouchStart,{capture:!0,passive:!0}),window.addEventListener("click",this.handleWindowClick),window.addEventListener("popstate",this.handlePopState))})),n(this,"destroy",(()=>{clearTimeout(this.timeId),document.removeEventListener("mouseover",this.handleMouseOver),document.removeEventListener("mouseout",this.handleCancel),document.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("click",this.handleWindowClick),window.removeEventListener("popstate",this.handlePopState)})),this.options={...Ye.defaultOptions,...t},this.init()}};function Ge(t){const e="xo-color-scheme-added";pt(Array.from(t.querySelectorAll(`[${e}]`)),(t=>{t.removeAttribute(e)}))}n(Ye,"defaultOptions",{root:document.querySelector("#xo-main-content")||document.body,use:"SSR"});const je=class extends HTMLElement{constructor(){super(...arguments),n(this,"index",0),n(this,"frameId",0),n(this,"cancelDelay",(()=>{})),n(this,"_options"),n(this,"imageLoaded",!1),n(this,"parallax",null),n(this,"disconnect",(()=>{})),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoSpeed","xoRtl","xoPauseOnHover","xoScrollEnabled","xoScrollSpeed","xoAutoRun"],types:{xoSpeed:"number",xoRtl:"boolean",xoPauseOnHover:"boolean",xoScrollEnabled:"boolean",xoAutoRun:"boolean",xoScrollSpeed:"number"}})})),n(this,"getChildWidth",(()=>{const t=Array.from(this.children);return t.length?1===t.length?t[0].clientWidth:(t.length-1)*t[0].clientWidth:0})),n(this,"setDuration",(async()=>{const t=Array.from(this.querySelectorAll("img")).map((t=>t.src));await he(t);const{xoSpeed:e,xoRtl:i,xoAutoRun:n}=this.options;if(n){const t=this.children[0],n=ht(14*t.offsetWidth-(e-1)*t.offsetWidth,t.offsetWidth,1/0);this.style.setProperty("--xo-marquee-from","0"),this.style.setProperty("--xo-marquee-to",i?"100%":"-100%"),this.style.setProperty("--xo-marquee-duration",`${n}ms`)}})),n(this,"handleClone",(()=>{const{xoScrollEnabled:t,xoScrollSpeed:e}=this.options;this.frameId=requestAnimationFrame((()=>{const i=Array.from(this.children);if(0===this.getChildWidth()){const t=i[this.index].cloneNode(!0);Ge(t);const e=this.appendChild(t);at(e,"xo-cloned",!0),this.setDuration(),cancelAnimationFrame(this.frameId)}else if(this.getChildWidth()<=this.offsetWidth*(t?2*Math.min(e,3):1)){const t=i[this.index].cloneNode(!0);Ge(t);const e=this.appendChild(t);at(e,"xo-cloned",!0),this.handleClone(),this.index===i.length-1?this.index=0:this.index++,i.length>=200&&this.update()}else{const t=this.appendChild(i[this.index].cloneNode(!0));at(t,"xo-cloned",!0),this.setDuration(),cancelAnimationFrame(this.frameId)}}))})),n(this,"removeCloned",(()=>{pt(Array.from(this.querySelectorAll(`${Ae.MarqueeItem}[xo-cloned]`)),(t=>{t.remove()}));const t=this.querySelector(Ae.MarqueeItem);t&&(pt(Array.from(t.children),(t=>{this.appendChild(t)})),t.remove())})),n(this,"handler",(async()=>{const{xoRtl:t}=this.options,e=Array.from(this.children);if(at(this,"xo-rtl",t),!this.imageLoaded){await gt(500);const t=Array.from(this.querySelectorAll("img")).map((t=>t.src));await he(t),this.imageLoaded=!0}if(e[0].tagName.toLowerCase()!==Ae.MarqueeItem){const t=document.createElement(Ae.MarqueeItem);pt(e,(e=>{t.appendChild(e)})),this.appendChild(t)}this.handleClone(),requestAnimationFrame((()=>{at(this,"xo-ready",!0)}))})),n(this,"handleParallax",(()=>{var t;const{xoScrollEnabled:e,xoScrollSpeed:i,xoRtl:n}=this.options;if(!e)return;null==(t=this.parallax)||t.destroy(),this.parallax=ze({lerpEase:1,setStyles:({element:t,createValue:e,EMPTY:n})=>{const s=e("marqueeScroll");s!==n&&t.style.setProperty("--xo-marquee-scroll",Number(s)*i+"px")}});const s=this.closest(Ae.MarqueeScrollTransform);this.parallax.add(this,{from:()=>s?zt(s).top-window.innerHeight:zt(this).top-window.innerHeight,to:()=>s?zt(s).top+this.getBoundingClientRect().height:zt(this).top+this.getBoundingClientRect().height,keyframes:{"0%":{marqueeScroll:0},"100%":{marqueeScroll:window.innerHeight*(n?1:-1)}}}).run()})),n(this,"destroy",(()=>{var t;null==(t=this.parallax)||t.destroy(),this.cancelDelay(),cancelAnimationFrame(this.frameId),this.index=0})),n(this,"update",(async()=>{this.destroy(),this.setOptions(),this.removeCloned(),await this.handler(),this.handleParallax()})),n(this,"sectionListenerForBuilder",(()=>{this.disconnect=function(t,e){var i;const n=t.closest("section[xo-preset]");if(n&&(null==(i=window.xbEditor)?void 0:i.designMode)){const t=new MutationObserver((()=>{e()}));return t.observe(n,{attributes:!0,attributeFilter:["xo-preset"]}),t.disconnect}return()=>{}}(this,(()=>{this.update()}))}))}get options(){return{...je.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}async connectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode&&await gt(100),this.setOptions(),this.removeCloned(),await this.handler(),this.handleParallax(),this.sectionListenerForBuilder()}async attributeChangedCallback(t,e,i){"xo-observed"===t&&null!=e&&e!==i&&this.imageLoaded&&(this.cancelDelay(),this.cancelDelay=await gt(200),this.update())}disconnectedCallback(){this.destroy(),this.disconnect()}};let Xe=je;n(Xe,"defaultOptions",{xoSpeed:6,xoRtl:"rtl"===getComputedStyle(document.documentElement).direction,xoPauseOnHover:!1,xoAutoRun:!0,xoScrollEnabled:!1,xoScrollSpeed:1}),xt({[Ae.Marquee]:Xe});const Qe={none:(t,{value:e})=>{t.style.visibility=0===e?"hidden":"visible"},zoom:(t=!1)=>(e,{value:i,isOpen:n,usePan:s=!1,easing:o})=>{if(s)e.style.visibility="hidden",e.style.opacity="0";else{const s=n?[0,1]:[1,0],r=!n,a=Ht({value:i,inputRange:s,easing:o,reverseEasing:r,outputRange:n?[.5,1]:[1,.5]});if(t){const t=Ht({value:i,inputRange:s,easing:Pt.ease,reverseEasing:r,outputRange:n?[0,1]:[1,0]});e.style.opacity=`${t}`}e.style.transform=`scale(${a})`,e.style.visibility=0===i?"hidden":"visible"}},move:({dx:t=0,dy:e=0,opacity:i=0}={})=>(n,{value:s,isOpen:o,usePan:r=!1,easing:a})=>{if(r)n.style.visibility="hidden",n.style.opacity="0";else{const r=o?[0,1]:[1,0],l=!o,c=Ht({value:s,inputRange:r,easing:Pt.ease,reverseEasing:l,outputRange:o?[i,1]:[1,i]}),h=t=>Ht({value:s,inputRange:r,easing:a,reverseEasing:l,outputRange:o?[t,0]:[0,t]});n.style.transform=`translate(${h("function"==typeof t?t(n):t)}px, ${h("function"==typeof e?e(n):e)}px)`,n.style.opacity=`${c}`,n.style.visibility=0===s?"hidden":"visible"}}},Ze=new Kt({logger:!1,loggerCollapsed:!0,storagePrefix:null!=(s=window.Shopify)&&s.shop?`@xo/${yt(window.Shopify.shop)}`:""});window.xoStore=Ze;class Ke{constructor(t){n(this,"stateName"),n(this,"getTriggerElement",((t,e)=>null!=e?e:document.querySelector(`${Ae.PopoverTrigger}[xo-name="${t}"]`))),n(this,"toggle",((t,e)=>{const i=this.getTriggerElement(t,e);Ze.set(this.stateName,(e=>{var n;return{...e,trigger:{...e.trigger,[this.stateName]:t},data:{...e.data,[t]:{...e.data[t],isOpen:!(null!=(n=e.data[t])&&n.isOpen),...null!=i?{triggerElement:i}:{}}}}}))(`${this.stateName}/toggle`)})),n(this,"open",((t,e)=>{const i=this.getTriggerElement(t,e);Ze.set(this.stateName,(e=>({...e,trigger:{...e.trigger,[this.stateName]:t},data:{...e.data,[t]:{...e.data[t],isOpen:!0,...null!=i?{triggerElement:i}:{}}}})))(`${this.stateName}/open`)})),n(this,"close",((t,e)=>{const i="empty"===e?e:this.getTriggerElement(t,e);Ze.set(this.stateName,(e=>({...e,trigger:{...e.trigger,[this.stateName]:t},data:{...e.data,[t]:{...e.data[t],isOpen:!1,...null!=i?{triggerElement:"empty"===i?null:i}:{}}}})))(`${this.stateName}/close`)})),n(this,"on",((t,e,i)=>Ze.subscribe(this.stateName,(({data:n})=>{null!=n[e]&&("open"===t&&n[e].isOpen||"close"===t&&!n[e].isOpen)&&i()})))),this.stateName=t}}const Je="summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe",ti=new Map;function ei(t,e){pt(Array.from(t.querySelectorAll(Je)),(t=>{ti.has(t)||ti.set(t,t.getAttribute("tabindex")||""),e?t.setAttribute("tabindex","-1"):ti.has(t)&&t.setAttribute("tabindex",ti.get(t))}))}function ii(t,e,i){const n=t.getAttribute(e);pt(n?n.split(","):[],(e=>{if(!/\[|\]/g.test(e))return;const n=e.replace(/\[.*/g,"").trim(),s=e.replace(/.*\[|\]/g,"").trim();pt(n?Array.from(t.querySelectorAll(n)):[t],(t=>{"string"==typeof i?t.setAttribute(s,i):"boolean"==typeof i?at(t,s,i):"number"==typeof i&&t.setAttribute(s,i.toString())}))}))}function ni(t){return t.replace(/("|')/g,"\\$1")}function si(t){const{display:e,visibility:i}=window.getComputedStyle(t);if("none"==e||"hidden"==i)return!0;let n=t.parentElement;for(;n;){const{display:t,visibility:e}=window.getComputedStyle(n);if("none"==t||"hidden"==e)return!0;n=n.parentElement}return!1}const oi=wt();class ri extends HTMLElement{constructor(){super(),n(this,"unsubscribe",null),n(this,"sectionEl",null),n(this,"initialized",!1),n(this,"prevIsOpen",!1),n(this,"allA11yEls",[]),n(this,"a11yEls",[]),n(this,"a11yNestedEls",[]),n(this,"firstA11yEl",null),n(this,"lastA11yEl",null),n(this,"firstA11yIndex",null),n(this,"lastA11yIndex",null),n(this,"focusIndex",null),n(this,"toggleIndex",null),n(this,"index",null),n(this,"listener",(async()=>{var t,e;const{isOpen:i}=this.state;this.initialized&&i!==this.prevIsOpen&&(i?(this.componentOpen(),this.handleAutoFocus(),at(this,"xo-active",!0),ii(this,"xo-active-binding",!0),document.addEventListener("keydown",this.handleA11y),this.toggleIndex=this.focusIndex):(at(this,"xo-active",!1),ii(this,"xo-active-binding",!1),null!=this.toggleIndex&&(null==(e=null==(t=this.allA11yEls)?void 0:t[this.toggleIndex])||e.focus(),this.toggleIndex=null),this.componentClose(),document.removeEventListener("keydown",this.handleA11y)),this.prevIsOpen=i),this.initialized&&this.subscribe()})),n(this,"setState",(t=>Ze.set(this.stateName,(e=>{const i=e;return{...e,data:{...i.data,..."function"==typeof t?t(i.data):t}}})))),n(this,"setCssVariables",((t,e)=>{const{xoName:i}=this.options;ct(this.componentName,"xo-name",i);let n="";const s=e||this.options;for(const e in s){const i=s[e];if(null!=i&&"object"!=typeof i){let s=Nt.camelToKebab(e);s=s.includes("xo-")?s:`xo-${s}`,n+=`--${s}: ${i}${null!=t?" !important":""};`}}const{cssText:o}=oi`
      ${this.componentName}[xo-name="${i}"] {
        ${n}
      }
    `;!function(t,e){var i;const n=e.querySelector(".xo-styles");if(n)n.textContent&&(null==(i=n.textContent)||!i.includes(t))&&(n.textContent+=t);else{const i=document.createElement("style");i.classList.add("xo-styles"),i.textContent=t,e.appendChild(i)}}(null==t?o:`@media (max-width: ${t}px) { ${o} }`,document.head)})),n(this,"handleA11y",(t=>{var e;const{xoEscCloseDisabled:i}=this.options,{isOpen:n}=this.state;this.allA11yEls=Array.from(document.querySelectorAll(Je)),this.a11yEls=Array.from(this.querySelectorAll(Je));const s=Array.from(this.querySelectorAll(Ae.Modal)),o=Array.from(this.querySelectorAll(Ae.Toggle)),r=Array.from(this.querySelectorAll(Ae.Popover));this.a11yNestedEls=[...s,...o,...r,...Array.from(this.querySelectorAll(`${Ae.Modal}, ${Ae.Toggle}, ${Ae.Popover}`)).flatMap((t=>Array.from(t.querySelectorAll(Je))))],this.a11yEls=this.a11yEls.filter((t=>{var e;return!(null!=(e=this.a11yNestedEls)&&e.includes(t)||si(t)||"-1"===t.getAttribute("tabindex"))})),this.allA11yEls=this.allA11yEls.filter((t=>{var e;return!(null!=(e=this.a11yNestedEls)&&e.includes(t)||si(t)||"-1"===t.getAttribute("tabindex"))}));const a=t.shiftKey,l="Tab"===t.key;if("Escape"===t.key&&n&&!i){const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),new Ke(this.stateName).close(t)}if(this.a11yEls.length){if(this.firstA11yEl=this.a11yEls[0],this.lastA11yEl=this.a11yEls[this.a11yEls.length-1],this.firstA11yIndex=this.allA11yEls.indexOf(this.firstA11yEl),this.lastA11yIndex=this.allA11yEls.indexOf(this.lastA11yEl),l){t.preventDefault();const i=t.target,n=i.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:i;this.index=this.allA11yEls.indexOf(n),a?(this.index--,this.index<this.firstA11yIndex&&(this.index=this.lastA11yIndex)):(this.index++,this.index>this.lastA11yIndex&&(this.index=this.firstA11yIndex)),null==(e=this.allA11yEls[this.index])||e.focus()}}else{const{isOpen:e}=this.state;e&&t.preventDefault()}})),n(this,"handleAutoFocus",(async()=>{var t;if((null==(t=this.parentElement)?void 0:t.tagName.toLowerCase())===Ae.GalleryPortal)return;const{xoAutofocus:e=!1}=this.options;if(this.componentName===Ae.Modal||this.componentName===Ae.Popover){const t=Number(this.getAttribute("xo-duration"))||300;await gt(t)}if(this.focus(),e){const t=this.querySelector('input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="tel"], input[type="url"], input[type="search"], textarea');null==t||t.focus()}})),n(this,"handleShopifySectionSelect",(()=>{const{xoName:t}=this.options;new Ke(this.stateName).open(t)})),n(this,"handleShopifySectionDeselect",(()=>{const{xoName:t}=this.options;new Ke(this.stateName).close(t)})),n(this,"handleDesignMode",(()=>{var t,e,i;(null==(t=window.Shopify)?void 0:t.designMode)&&rt(this,"xo-section-select")&&(null==(e=this.sectionEl)||e.addEventListener("shopify:section:select",this.handleShopifySectionSelect),null==(i=this.sectionEl)||i.addEventListener("shopify:section:deselect",this.handleShopifySectionDeselect))})),n(this,"handleFocusIn",(t=>{const e=Array.from(document.querySelectorAll(Je));this.focusIndex=e.indexOf(t.target)})),n(this,"componentOpen",(()=>{})),n(this,"componentClose",(()=>{})),n(this,"componentMount",(()=>{})),n(this,"componentUnmount",(()=>{})),n(this,"subscribe",(()=>{})),n(this,"componentBeforeMount",(()=>{})),this.sectionEl=this.closest(".shopify-section")}get options(){return qt(this,{pick:["xoName","xoAutofocus","xoSectionSelect","xoEscCloseDisabled"],types:{xoName:"string",xoAutofocus:"boolean",xoSectionSelect:"boolean",xoEscCloseDisabled:"boolean"}})}get state(){var t;const{xoName:e}=this.options;ct(this.componentName,"xo-name",e);const i=Ze.get(this.stateName),n=null==(t=null==i?void 0:i.data)?void 0:t[e];return"object"!=typeof n&&null==n.isOpen?{}:n}async connectedCallback(){var t;this.componentBeforeMount();const{xoName:e}=this.options;ct(this.componentName,"xo-name",e),at(this,"xo-content",!0),null==this.getAttribute("tabindex")&&(null==(t=this.parentElement)?void 0:t.tagName.toLowerCase())!==Ae.GalleryPortal&&(this.tabIndex=0),document.addEventListener("focusin",this.handleFocusIn),Ze.set(this.stateName,(t=>{const i=t;return{...i,data:{...i.data,[e]:{isOpen:!1,...i.data[e]}}}}))(`${this.stateName}/mount`),this.unsubscribe=Ze.subscribe(this.stateName,this.listener,((t,i)=>e!==i.trigger[this.stateName])),await gt(0),this.componentMount(),this.handleDesignMode(),this.initialized=!0}disconnectedCallback(){var t,e,i;null==(t=this.unsubscribe)||t.call(this),this.componentUnmount(),document.removeEventListener("keydown",this.handleA11y),document.removeEventListener("focusin",this.handleFocusIn),null==(e=this.sectionEl)||e.removeEventListener("shopify:section:select",this.handleShopifySectionSelect),null==(i=this.sectionEl)||i.removeEventListener("shopify:section:deselect",this.handleShopifySectionDeselect)}}class ai extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",null),n(this,"initialized",!1),n(this,"prevIsOpen",!1),n(this,"contentTarget",!1),n(this,"bindClick",(()=>{this.addEventListener("click",this.handleTrigger)})),n(this,"bindHover",(()=>{const{xoName:t}=this.options,e=document.querySelector(`[xo-content][xo-name="${t}"]`);this.addEventListener("mouseenter",this.handleMouseEnter),this.addEventListener("mouseleave",this.handleMouseLeave),e&&(e.addEventListener("mouseenter",this.handleMouseEnter),e.addEventListener("mouseleave",this.handleMouseLeave))})),n(this,"handleMouseEnter",(t=>{this.contains(t.target)||(this.contentTarget=!!t.target),this.state.isOpen||this.handleToggle("open")})),n(this,"handleMouseLeave",(async()=>{this.state.isOpen&&(await gt(200),this.contentTarget||this.handleToggle("close"),this.contentTarget=!1)})),n(this,"handleTrigger",(async()=>{await gt(),this.handleToggle(this.actionType)})),n(this,"handleToggle",(t=>{const{xoName:e}=this.options;ct(this.componentName,"xo-name",e);const i=new Ke(this.stateName);"none"!==t&&i[t](e),this.componentTrigger()})),n(this,"listener",(()=>{const{isOpen:t}=this.state;this.initialized&&t!==this.prevIsOpen&&(t?(at(this,"xo-active",!0),this.componentOpen()):(at(this,"xo-active",!1),this.componentClose()),this.prevIsOpen=t)})),n(this,"setState",(t=>Ze.set(this.stateName,(e=>{const i=e;return{...e,data:{...i.data,..."function"==typeof t?t(i.data):t}}})))),n(this,"componentOpen",(()=>{})),n(this,"componentClose",(()=>{})),n(this,"componentMount",(()=>{})),n(this,"componentUnmount",(()=>{})),n(this,"componentTrigger",(()=>{})),n(this,"componentBeforeMount",(()=>{}))}async connectedCallback(){this.componentBeforeMount();const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),"click"===this.eventType?this.bindClick():"hover"===this.eventType&&(Vt?this.bindClick():this.bindHover()),this.unsubscribe=Ze.subscribe(this.stateName,this.listener,((e,i)=>t!==i.trigger[this.stateName])),await gt(0),this.componentMount(),this.initialized=!0}disconnectedCallback(){var t;this.removeEventListener("click",this.handleTrigger),Vt||(this.removeEventListener("mouseenter",this.handleMouseEnter),this.removeEventListener("mouseleave",this.handleMouseLeave)),null==(t=this.unsubscribe)||t.call(this),this.componentUnmount()}get actionType(){return"toggle"}get eventType(){return"click"}get state(){var t;const{xoName:e}=this.options;ct(this.componentName,"xo-name",e);const i=Ze.get(this.stateName),n=null==(t=null==i?void 0:i.data)?void 0:t[e];return"object"!=typeof n&&null==(null==n?void 0:n.isOpen)?{}:n}get options(){const t=qt(this,{pick:["xoName"],types:{xoName:"string"}}),e=this.closest("[xo-name]");return e?{...qt(e,{pick:["xoName"],types:{xoName:"string"}}),...t}:t}}window.xoAnimate=Qe;const li=new Ke("xo-toggle"),ci=class extends ri{constructor(){super(...arguments),n(this,"_options"),n(this,"parentEl",null),n(this,"setOptions",(()=>{var t;const e=qt(this,{pick:["xoName","xoAutofocus","xoOutsideClickEnabled","xoSectionSelect","xoPortal","xoParentSelector","xoBreakpoints"],types:{xoName:"string",xoAutofocus:"boolean",xoOutsideClickEnabled:"boolean",xoSectionSelect:"boolean",xoPortal:"boolean",xoParentSelector:"string",xoBreakpoints:"object"}}),i=ee(null!=(t=e.xoBreakpoints)?t:{});this.options={...e,xoPortal:null!=(null==i?void 0:i.portal)?i.portal:e.xoPortal}})),n(this,"handleOutsideClick",(t=>{const{xoName:e,xoOutsideClickEnabled:i}=this.options,{isOpen:n}=this.state,s=t.target,o=document.querySelector(`${Ae.ToggleTrigger}[xo-name="${e}"]`);n&&i&&!this.contains(s)&&(null==o||!o.contains(s))&&e&&li.close(e)})),n(this,"handleTopSelector",(async()=>{const{xoPortal:t}=this.options;if(t&&this.parentEl){const{width:t,height:e,top:i}=this.parentEl.getBoundingClientRect(),{left:n}=zt(this.parentEl);this.style.setProperty("--xo-top",`${i}px`),this.style.setProperty("--xo-left",`${n}px`),this.style.setProperty("--xo-width",`${t}px`),this.style.setProperty("--xo-height",`${e}px`),await gt(500),this.handleTopSelector()}})),n(this,"handleScroll",(()=>{this.handleTopSelector()})),n(this,"handleResize",St(ie("x",(()=>{this.setOptions(),this.init()})),500)),n(this,"componentBeforeMount",(()=>{this.setOptions()})),n(this,"componentOpen",(async()=>{await gt();const{xoParentSelector:t}=this.options;t&&(this.parentEl=document.querySelector(t)),this.handleTopSelector()})),n(this,"init",(()=>{const{xoPortal:t,xoName:e,xoParentSelector:i}=this.options;i&&(this.parentEl=document.querySelector(i)),t&&e&&i&&(this.setAttribute("popover",e),this.style.setProperty("--xo-right",`${te()}px`),de(this),this.handleTopSelector(),window.addEventListener("scroll",this.handleScroll)),t||(pe(this),this.removeAttribute("popover"),this.style.removeProperty("--xo-top"),this.style.removeProperty("--xo-left"),this.style.removeProperty("--xo-right"),this.style.removeProperty("--xo-width"),this.style.removeProperty("--xo-height")),document.addEventListener("click",this.handleOutsideClick)})),n(this,"componentMount",(()=>{const{xoBreakpoints:t}=this.options;this.init(),t&&mt(t).length>0&&window.addEventListener("resize",this.handleResize)})),n(this,"componentUnmount",(()=>{document.addEventListener("click",this.handleOutsideClick),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),pe(this)}))}static get observedAttributes(){return["xo-portal","xo-breakpoints"]}get options(){return{...ci.defaultOptions,...this._options}}get stateName(){return"xo-toggle"}get componentName(){return Ae.Toggle}set options(t){this._options=t}async attributeChangedCallback(t,e,i){e!==i&&(await gt(100),this.setOptions(),this.init())}};let hi=ci;n(hi,"defaultOptions",{xoName:null,xoOutsideClickEnabled:!1,xoPortal:!1,xoParentSelector:""}),Ze.create("xo-toggle",{initialState:{trigger:{},data:{}}});const ui=new Ke("xo-toggle");window.xoToggle=ui,xt({[Ae.Toggle]:hi,[Ae.ToggleTrigger]:class extends ai{get stateName(){return"xo-toggle"}get componentName(){return Ae.ToggleTrigger}}});const di=(t=!1)=>(e,{value:i,isOpen:n,triggerEl:s,dy:o=0,modalEl:r,easing:a})=>{if(!s)return Qe.zoom(t)(e,{value:i,isOpen:n,easing:a});const l=r.querySelector("img[xo-cropped]"),c=s.getBoundingClientRect(),h=n?[0,1]:[1,0],u=!n,d=c.width/e.offsetWidth,p=c.height/e.offsetHeight,m=c.left+c.width/2-r.scrollWidth/2,x=e.offsetHeight>r.offsetHeight?e.offsetHeight:r.offsetHeight,g=c.top+c.height/2-x/2+r.scrollTop,v=Ht({value:i,inputRange:h,easing:a,reverseEasing:u,outputRange:n?[d,1]:[1,d]}),b=Ht({value:i,inputRange:h,easing:a,reverseEasing:u,outputRange:n?[p,1]:[1,p]}),f=Ht({value:i,inputRange:h,easing:a,reverseEasing:u,outputRange:n?[m,0]:[0,m]}),y=Ht({value:i,inputRange:h,easing:a,reverseEasing:u,outputRange:n?[g,o]:[o,g]});if(t){const t=Ht({value:i,inputRange:h,easing:Pt.ease,reverseEasing:u,outputRange:n?[0,1]:[1,0]});e.style.opacity=`${t}`}e.style.transform=`translateX(${f}px) translateY(${y}px) scaleX(${v}) scaleY(${b})`,e.style.visibility=0===i?"hidden":"visible",l&&(l.style.transform=v>b?`scaleY(${v/b})`:`scaleX(${b/v})`)},pi={none:Qe.none,zoom:Qe.zoom(!0),"smart-zoom":di(),"smart-fade-zoom":di(!0),fade:Qe.move(),"fade-up":Qe.move({dy:100}),"fade-down":Qe.move({dy:-100}),"fade-left":Qe.move({dx:100}),"fade-right":Qe.move({dx:-100}),"slide-up":Qe.move({dy:t=>{const{offsetTop:e}=t;return window.innerHeight-e},opacity:1}),"slide-down":Qe.move({dy:t=>{const{offsetTop:e,offsetHeight:i}=t;return-1*(i+e)},opacity:1}),"slide-left":Qe.move({dx:t=>{const{offsetLeft:e}=t;return window.innerWidth-e},opacity:1}),"slide-right":Qe.move({dx:t=>{const{offsetLeft:e,offsetWidth:i}=t;return-1*(i+e)},opacity:1})},mi=wt(),xi=class extends ri{constructor(){super(...arguments),n(this,"animated",ft()),n(this,"cancel",(()=>{})),n(this,"shadow",this.attachShadow({mode:"open"})),n(this,"dialog",document.createElement("div")),n(this,"currentZIndex",window.getComputedStyle(this).zIndex),n(this,"_options"),n(this,"setOptions",(()=>{var t;const e=qt(this,{pick:["xoName","xoDuration","xoEasing","xoAnimate","xoBackdropColor","xoBackdropBlur","xoBackdropDisabled","xoPortal","xoPlacement","xoDisabled","xoBreakpoints","xoAutofocus","xoSectionSelect","xoVideoAutoplay","xoScrollDisabled","xoEscCloseDisabled","xoBackdropCloseDisabled"],types:{xoName:"string",xoDuration:"number",xoEasing:"string",xoAnimate:"string",xoBackdropColor:"string",xoBackdropBlur:"number",xoBackdropDisabled:"boolean",xoPortal:"boolean",xoPlacement:"string",xoDisabled:"boolean",xoBreakpoints:"object",xoAutofocus:"boolean",xoSectionSelect:"boolean",xoVideoAutoplay:"boolean",xoScrollDisabled:"boolean",xoEscCloseDisabled:"boolean",xoBackdropCloseDisabled:"boolean"}}),i=ee(null!=(t=e.xoBreakpoints)?t:{});this.options=JSON.parse(JSON.stringify({...e,xoDisabled:null!=(null==i?void 0:i.disabled)?i.disabled:e.xoDisabled,xoDuration:null!=(null==i?void 0:i.duration)?i.duration:e.xoDuration,xoEasing:null!=(null==i?void 0:i.easing)?i.easing:e.xoEasing,xoAnimate:null!=(null==i?void 0:i.animate)?i.animate:e.xoAnimate,xoBackdropColor:null!=(null==i?void 0:i.backdropColor)?i.backdropColor:e.xoBackdropColor,xoBackdropBlur:null!=(null==i?void 0:i.backdropBlur)?i.backdropBlur:e.xoBackdropBlur,xoBackdropDisabled:null!=(null==i?void 0:i.backdropDisabled)?i.backdropDisabled:e.xoBackdropDisabled,xoPlacement:null!=(null==i?void 0:i.placement)?i.placement:e.xoPlacement}))})),n(this,"componentOpen",(()=>{const{xoDuration:t,xoVideoAutoplay:e,xoScrollDisabled:i}=this.options;if(de(this),i&&function(){const t=te();document.body.style.setProperty("--scroll-bar-width",`${t}px`),document.body.classList.add("xo-modal-open")}(),this.cancel(),this.cancel=this.animated({from:0,to:1,duration:t}),e){const t=this.querySelector("video");null==t||t.play()}})),n(this,"componentClose",(()=>{const{xoDuration:t,xoVideoAutoplay:e}=this.options;if(function(){const{data:t}=Ze.get("xo-modal");Bt(t).some((t=>t.isOpen&&t.options.xoScrollDisabled))||(document.body.style.removeProperty("--scroll-bar-width"),document.body.classList.remove("xo-modal-open"))}(),this.cancel(),this.animated({from:1,to:0,duration:t,onEnd:()=>{pe(this)}}),e){const t=this.querySelector("video");null==t||t.pause()}})),n(this,"setStyles",(async t=>{const{xoAnimate:e,xoEasing:i,xoBackdropDisabled:n}=this.options,{isOpen:s,triggerElement:o,dy:r,usePan:a=!1}=this.state,l=this.shadow.querySelector(Ae.ModalContent),{cssText:c}=mi`
  ${Ae.ModalContent} * {
    pointer-events: auto;
  }
`,h=this.shadow.querySelector("style");0===t?(this.style.removeProperty("visibility"),this.style.removeProperty("opacity")):(n||(this.style.visibility="visible"),this.style.opacity="1"),1===t?(this.style.removeProperty("pointer-events"),h&&!h.innerText.includes(c)&&(h.innerText=h.innerText+c),this.style.zIndex=this.currentZIndex,await gt(200),at(this,"xo-ready",!0)):(this.style.pointerEvents="none",this.style.zIndex="-1",at(this,"xo-ready",!1),h&&(h.innerText=h.innerText.replace(c,""))),pi[e]&&pi[e](l,{value:t,isOpen:s,triggerEl:o,dy:r,modalEl:this,usePan:a,easing:Pt[i]})})),n(this,"render",(()=>{const{xoName:t,xoBackdropColor:e,xoBackdropBlur:i,xoBackdropDisabled:n,xoPlacement:s,xoDisabled:o}=this.options,{cssText:r}=((t,e)=>mi`
  ${Ae.ModalBackdrop} {
    position: absolute;
    inset: 0;
    z-index: 1;
    background-color: ${t||"var(--xo-backdrop-color, rgba(0, 0, 0, 0.5))"};
    backdrop-filter: blur(${e?`${e}px`:"var(--xo-backdrop-blur, 0px)"});
    pointer-events: auto;
  }
  ${Ae.ModalInner} {
    position: relative;
    display: flex;
    min-height: 100%;
    overflow: hidden;
  }
  ${Ae.ModalInner}[xo-placement="center"] {
    align-items: center;
    justify-content: center;
  }
  ${Ae.ModalInner}[xo-placement="top-center"] {
    justify-content: center;
  }
  ${Ae.ModalInner}[xo-placement="top-right"] {
    justify-content: flex-end;
  }
  ${Ae.ModalInner}[xo-placement="bottom-left"] {
    align-items: flex-end;
  }
  ${Ae.ModalInner}[xo-placement="bottom-center"] {
    align-items: flex-end;
    justify-content: center;
  }
  ${Ae.ModalInner}[xo-placement="bottom-right"] {
    align-items: flex-end;
    justify-content: flex-end;
  }
  ${Ae.ModalContent} {
    position: relative;
    z-index: 9;
    display: block;
    visibility: hidden;
    width: fit-content;
    height: fit-content;
    pointer-events: none;
  }
`)(e,i),a=n?"":`<${Ae.ModalBackdrop} part="backdrop" xo-name="${t}"><slot name="${t}-backdrop"></slot></${Ae.ModalBackdrop}>`;return o?`\n        <${Ae.ModalInner} part="inner" xo-placement="${s}">\n          <${Ae.ModalContent} part="content">\n            <slot name="${t}-inner"></slot>\n          </${Ae.ModalContent}>\n          ${a}\n        </${Ae.ModalInner}>\n      `:`\n      <style>${r}</style>\n      <${Ae.ModalInner} part="inner" xo-placement="${s}">\n        <${Ae.ModalContent} part="content">\n          <slot name="${t}-inner"></slot>\n        </${Ae.ModalContent}>\n        ${a}\n      </${Ae.ModalInner}>\n    `})),n(this,"addSlotName",(t=>{const e=Array.from(this.querySelectorAll(Ae.Modal));pt(Array.from(this.children),(i=>{e.includes(i)||i.setAttribute("slot",`${t}-inner`)}))})),n(this,"setOptionsState",(t=>{this.setState((e=>({...e,[t]:{...e[t],options:this.options}})))})),n(this,"checkSmartAnimateSupport",(()=>{const{xoAnimate:t,xoPlacement:e}=this.options;t.includes("smart-")&&"center"!==e&&lt(`[${Ae.Modal}] xo-placement="${e}" is not supported with xo-animate="${t}"`)})),n(this,"handleImageCropped",(()=>{const t=this.querySelector("img[xo-cropped]");t&&(t.naturalWidth/t.naturalHeight>window.innerWidth/window.innerHeight?(t.style.width="100vw",t.style.height="auto"):(t.style.width="auto",t.style.height="100vh",t.style.maxWidth="none"))})),n(this,"componentBeforeMount",(()=>{this.setOptions(),this.style.pointerEvents="none",this.style.zIndex="-1"})),n(this,"handleResize",St(ie("x",(()=>{const{xoName:t}=this.options;this.setOptions(),this.animated.off(),Ci.close(t),this.mounted()})),500)),n(this,"setCurrentDisabled",(()=>{const{xoDisabled:t}=this.options;at(this,"xo-current-disabled",t)})),n(this,"handleDialogCancel",(t=>{t.preventDefault()})),n(this,"appendCursor",(()=>{const{xoName:t}=this.options,e=function(){const t=document.querySelector("template[xo-modal-backdrop-cursor]");return t?t.innerHTML:""}(),i=e?`<div slot="${t}-backdrop" is="xo-cursor" xo-backdrop-cursor xo-absolute xo-lerp-ease="0.2"><xo-cursor-item>${e}</xo-cursor-item></div>`:"";this.insertAdjacentHTML("beforeend",i)})),n(this,"mounted",(()=>{const{xoName:t,xoDisabled:e,xoBreakpoints:i,xoPortal:n}=this.options;ct(this.componentName,"xo-name",t),this.addSlotName(t),this.setCurrentDisabled(),n&&ue()&&this.setAttribute("popover",t),this.shadow.innerHTML=this.render(),this.setCssVariables(),this.appendCursor(),i&&mt(i).length>0&&pt(mt(i).sort(),(t=>{const e=i[t];this.setCssVariables(Number(t),e)})),e||(this.setOptionsState(t),this.checkSmartAnimateSupport(),this.animated.onUpdate(this.setStyles),this.handleImageCropped())})),n(this,"componentMount",(()=>{const{xoBreakpoints:t}=this.options;this.mounted(),t&&mt(t).length>0&&window.addEventListener("resize",this.handleResize)})),n(this,"componentUnmount",(()=>{this.animated.off(),window.removeEventListener("resize",this.handleResize),this.dialog.removeEventListener("cancel",this.handleDialogCancel)})),n(this,"handleClose",(()=>{const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),this.setState((e=>({...e,[t]:{...e[t],triggerElement:e[t].triggerElement,usePan:!1,isOpen:!1}})))}))}get stateName(){return"xo-modal"}get componentName(){return Ae.Modal}get options(){var t,e,i,n;const{xoPlacement:s}=this._options,o=s&&"center"!==s?{xoDuration:null!=(e=null==(t=window.settings)?void 0:t.drawer_duration)?e:300,xoEasing:null!=(n=null==(i=window.settings)?void 0:i.drawer_easing)?n:"decay",xoAnimate:"smart-fade-zoom"}:{},r={...xi.defaultOptions,...o,...this._options};return{...r,xoDuration:"none"===r.xoAnimate?0:r.xoDuration}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}getShadow(){return this.shadow}async attributeChangedCallback(t,e,i){"xo-observed"===t&&null!=e&&e!==i&&(await gt(100),this.setOptions(),this.componentUnmount(),this.componentMount(),this.handleClose(),pt(Array.from(document.querySelectorAll(`${Ae.ModalTrigger}[xo-name="${this.options.xoName}"]`)),(t=>{t.setAttribute("xo-observed",i)})))}};let gi=xi;n(gi,"defaultOptions",{xoName:null,xoDuration:null!=(r=null==(o=window.settings)?void 0:o.modal_duration)?r:300,xoEasing:null!=(l=null==(a=window.settings)?void 0:a.modal_easing)?l:"decay",xoAnimate:null!=(h=null==(c=window.settings)?void 0:c.modal_animate)?h:"smart-fade-zoom",xoBackdropDisabled:!1,xoPortal:ue(),xoPlacement:"center",xoDisabled:!1,xoBreakpoints:{},xoScrollDisabled:!0,xoAutofocus:!1,xoVideoAutoplay:!1});const vi=1e3/60,bi=class extends ai{constructor(){super(...arguments),n(this,"timeId",-1),n(this,"timeId2",-1),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoName","xoSync"],types:{xoName:"string",xoSync:"boolean"}})})),n(this,"setTriggerElement",(()=>{const{xoName:t}=this.options,{isOpen:e}=this.state;ct(this.componentName,"xo-name",t),this.setState((i=>{var n;return{...i,[t]:{...i[t],triggerElement:e?this:null==(n=i[t])?void 0:n.triggerElement,usePan:!1}}}))})),n(this,"componentTrigger",(()=>{const{isOpen:t}=this.state,{xoSync:e}=this.options;this.setTriggerElement(),e&&t&&(this.timeId2=window.setTimeout((()=>{this.style.visibility="hidden"}),vi))})),n(this,"componentBeforeMount",(()=>{this.setOptions()})),n(this,"componentMount",(()=>{this.setTriggerElement()})),n(this,"componentUnmount",(()=>{clearTimeout(this.timeId),clearTimeout(this.timeId2)})),n(this,"componentClose",(()=>{const{xoSync:t}=this.options;if(t){const{options:t}=this.state,{xoDuration:e}=t;this.timeId=window.setTimeout((()=>{this.style.visibility="visible"}),e-vi)}}))}get stateName(){return"xo-modal"}get componentName(){return Ae.ModalTrigger}get options(){const t=this.closest("[xo-name]");if(t){const e=qt(t,{pick:["xoName"],types:{xoName:"string"}});return{...bi.defaultOptions,...e,...this._options}}return{...bi.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}async attributeChangedCallback(t,e,i){"xo-observed"===t&&null!=e&&e!==i&&(await gt(100),this.setOptions())}};let fi=bi;n(fi,"defaultOptions",{xoName:null,xoSync:!1});const yi="idle",Ei="target",wi=class extends ai{constructor(){super(...arguments),n(this,"animated",ft()),n(this,"panAnimated",ft()),n(this,"panCloseAnimated",ft()),n(this,"cancel",(()=>{})),n(this,"modalEl",null),n(this,"backdropEl",null),n(this,"contentEl",null),n(this,"distance",0),n(this,"opacity",1),n(this,"timeId",-1),n(this,"pan",null),n(this,"axis",yi),n(this,"componentOpen",(()=>{const{options:t}=this.state,{xoDuration:e}=t;this.cancel(),this.cancel=this.animated({from:0,to:1,duration:e})})),n(this,"componentClose",(()=>{const{options:t}=this.state,{xoDuration:e}=t;this.cancel(),this.cancel=this.animated({from:1,to:0,duration:e})})),n(this,"componentUnmount",(()=>{clearTimeout(this.timeId),this.pan&&this.pan.destroy(),this.animated.off(),this.panAnimated.off(),this.panCloseAnimated.off()})),n(this,"resetModalMeasure",(()=>{const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),this.setState((e=>({...e,[t]:{...e[t],dy:0,opacity:1}})))(`${this.stateName}/resetModalContentMeasure`)})),n(this,"componentMount",(()=>{const{xoName:t,xoVertical:e,xoThreshold:i,xoIntentionalAxis:n}=this.options,{options:s}=this.state,{xoEasing:o,xoAnimate:r}=s,a=new Ke(this.stateName);ct(this.componentName,"xo-name",t),this.pan=Wt({element:this,onMove:({dx:t,dy:s})=>{var o,a,l,c,h,u,d;const p=this.querySelector(Ae.ImageZoomItem);if(!(Number(null!=(o=null==p?void 0:p.getAttribute("xo-zoom"))?o:"1")>1))if(this.modalEl=this.closest(Ae.Modal),this.backdropEl=null==(c=null==(l=null==(a=this.modalEl)?void 0:a.shadowRoot)?void 0:l.querySelector)?void 0:c.call(l,Ae.ModalBackdrop),this.contentEl=null==(d=null==(u=null==(h=this.modalEl)?void 0:h.shadowRoot)?void 0:u.querySelector)?void 0:d.call(u,Ae.ModalContent),this.axis===yi&&(Math.abs(e?t:s)/i>=Math.abs(e?s:t)?this.axis=Ei:this.axis="lock"),this.axis!==Ei&&n)this.pan&&this.pan.setValue({dx:0,dy:0});else{this.style.touchAction="none";const i=(e?window.innerWidth-this.offsetWidth:window.innerHeight-this.offsetHeight)/2,n=(e?this.offsetWidth:this.offsetHeight)+i;this.backdropEl&&(this.opacity=Ht({value:e?t:s,inputRange:[-n,0,n],outputRange:[0,1,0]}),this.backdropEl.style.opacity=`${this.opacity}`),this.contentEl&&(r.includes("smart-"),this.contentEl.style.transform=e?`translateX(${t}px)`:`translateY(${s}px)`)}},onEnd:({dx:i,dy:s,vx:o,vy:r})=>{var l;const c=this.querySelector(Ae.ImageZoomItem);if(Number(null!=(l=null==c?void 0:c.getAttribute("xo-zoom"))?l:"1")>1)return;const{options:h}=this.state,{xoDuration:u,xoAnimate:d}=h;if((this.axis===Ei||!n)&&(this.style.pointerEvents="none",this.distance=e?i:s,this.contentEl)){let i=(e?window.innerWidth:window.innerHeight)/3;n&&(i=(e?this.contentEl.offsetWidth:this.contentEl.offsetHeight)/2);const l=Math.abs(this.distance)>i||Math.abs(e?o:r)>8;this.setState((e=>({...e,[t]:{...e[t],dy:s,opacity:this.opacity}})))(`${this.stateName}/setModalContentMeasure`),l?d.includes("smart-")?a.close(t):this.panCloseAnimated({from:0,to:1,duration:300}):this.panAnimated({from:0,to:1,duration:300}),this.pan&&this.pan.setValue({dx:0,dy:0}),this.timeId=window.setTimeout((()=>{this.resetModalMeasure(),clearTimeout(this.timeId),this.style.removeProperty("pointer-events")}),u)}this.style.removeProperty("touch-action"),this.axis=yi}}),this.panAnimated.onUpdate((t=>{if(this.backdropEl){const e=Ht({value:t,inputRange:[0,1],outputRange:[this.opacity,1]});this.backdropEl.style.opacity=`${e}`}if(this.contentEl){const i=Ht({value:t,inputRange:[0,1],outputRange:[this.distance,0],easing:Pt[o]});this.contentEl.style.transform=e?`translateX(${i}px) translateY(0px) scale(1)`:`translateX(0px) translateY(${i}px) scale(1)`}})),this.panCloseAnimated.onUpdate((t=>{if(this.backdropEl){const e=Ht({value:t,inputRange:[0,1],outputRange:[this.opacity,0]});this.backdropEl.style.opacity=`${e}`}if(this.contentEl){const{offsetTop:i,offsetLeft:n,offsetWidth:s,offsetHeight:r}=this.contentEl;let a=-1*(e?s+n:r+i);this.distance>=0&&(a=e?window.innerWidth-n:window.innerHeight-i);const l=Ht({value:t,inputRange:[0,1],outputRange:[this.distance,a],easing:Pt[o]});this.contentEl.style.transform=e?`translateX(${l}px) translateY(0px) scale(1)`:`translateX(0px) translateY(${l}px) scale(1)`}})),this.panCloseAnimated.onEnd((()=>{this.setState((e=>({...e,[t]:{...e[t],usePan:!0}}))),a.close(t)}))}))}get stateName(){return"xo-modal"}get componentName(){return Ae.ModalPan}get actionType(){return"none"}get options(){const t=qt(this,{pick:["xoName","xoVertical","xoThreshold","xoIntentionalAxis"],types:{xoName:"string",xoVertical:"boolean",xoThreshold:"number",xoIntentionalAxis:"boolean"}}),e=this.closest("[xo-name]");if(e){const i=qt(e,{pick:["xoName"],types:{xoName:"string"}});return{...wi.defaultOptions,...i,...t}}return{...wi.defaultOptions,...t}}};let Si=wi;n(Si,"defaultOptions",{xoName:null,xoVertical:!1,xoThreshold:1.5,xoIntentionalAxis:!1}),Ze.create("xo-modal",{initialState:{trigger:{},data:{}}});const Ci=new Ke("xo-modal");window.xoModal=Ci,xt({[Ae.Modal]:gi,[Ae.ModalTrigger]:fi,[Ae.ModalBackdrop]:class extends ai{constructor(){super(...arguments),n(this,"animated",ft()),n(this,"cancel",(()=>{})),n(this,"componentOpen",(()=>{const{options:t}=this.state,{xoDuration:e}=t;this.cancel(),this.cancel=this.animated({from:0,to:1,duration:e,easing:Pt.decay})})),n(this,"componentClose",(()=>{const{options:t,opacity:e=1,usePan:i=!1}=this.state,{xoDuration:n}=t;this.cancel(),this.cancel=this.animated({from:e,to:0,duration:i?0:n,easing:Pt.decay})})),n(this,"componentMount",(()=>{const{options:t}=this.state,{xoAnimate:e}=t;this.style.visibility="hidden",this.animated.onUpdate((t=>{"none"!==e&&(this.style.opacity=`${t}`),this.style.visibility=0===t?"hidden":"visible"}))})),n(this,"componentUnmount",(()=>{this.animated.off()}))}get stateName(){return"xo-modal"}get componentName(){return Ae.ModalBackdrop}get actionType(){const{options:t}=this.state,{xoBackdropCloseDisabled:e}=t;return e?"none":"close"}},[Ae.ModalPan]:Si});const Pi=wt()`
  ${Ae.ScrollXInner} {
    display: block;
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
  }
`;class ki extends HTMLElement{constructor(){super(),n(this,"shadow"),n(this,"instance"),n(this,"elementStyle",(t=>{this.style.height=100*t+"vh",this.shadow.innerHTML=`\n      <style>${Pi.cssText}</style>\n      <${Ae.ScrollXInner} part="inner"><slot></slot></${Ae.ScrollXInner}>\n    `})),n(this,"handleChild",((t,e)=>{if(t.tagName.toLowerCase()===Ae.ScrollXItem&&e>0){const i=zt(this).top;this.instance.add(t,{from:()=>i-2*window.innerHeight+window.innerHeight*(e+1),to:()=>i-window.innerHeight+window.innerHeight*(e+1),keyframes:{"0%":{width:"0%"},"100%":{width:"100%"}}})}})),this.shadow=this.attachShadow({mode:"open"}),this.instance=ze({setStyles({element:t,createValue:e}){const i=e("width");t.style.width=`${i}`}})}connectedCallback(){const t=Array.from(this.children);this.elementStyle(t.length),pt(t,this.handleChild),this.instance.run()}}xt({[Ae.ScrollX]:ki});const Ai={set(t,e){Ze.set("xo-circle-bar",(i=>({...i,[t]:e})))},animate(t,{value:e,duration:i=1e3,easing:n}){const s=ft();return s({from:0,to:e,duration:i,easing:n?Pt[n]:void 0,onUpdate(e){Ze.set("xo-circle-bar",(i=>({...i,[t]:e})))}}),s.off}},Ti={},Mi=new IntersectionObserver((t=>{const e=requestAnimationFrame((()=>{t.forEach((async t=>{const i=t.target,{xoDuration:n,xoName:s,xoEasing:o,xoValue:r}=i.getOptions();if(t.isIntersecting&&s&&r){const t=Ti[s];null==t||t();const a=Ai.animate(s,{value:r,duration:n,easing:o});Ti[s]=a,cancelAnimationFrame(e),Mi.unobserve(i)}}))}))}),{rootMargin:"0px 0px -50px 0px"}),Li=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",null),n(this,"getOptions",(()=>{const t=qt(this,{pick:["xoName","xoFill","xoStrokeWidth","xoSize","xoTrackColor","xoThumbColor","xoStrokeLinecap","xoAnimateOnScroll","xoEasing","xoValue","xoDuration"],types:{xoName:"string",xoFill:"string",xoStrokeWidth:"number",xoSize:"number",xoTrackColor:"string",xoThumbColor:"string",xoStrokeLinecap:"string",xoAnimateOnScroll:"boolean",xoEasing:"string",xoValue:"number",xoDuration:"number"}});return{...Li.defaultOptions,...t}})),n(this,"listener",(()=>{var t;const{xoName:e,xoSize:i,xoStrokeWidth:n}=this.getOptions();this.closest(Ae.Carousel)||ct(Ae.CircleBar,"xo-name",e);const s=this.querySelector(".circle-bar-thumb"),o=null==(t=Ze.get("xo-circle-bar"))?void 0:t[e];if(null!=o){const t=Ht({value:o,inputRange:[0,100],outputRange:[i*Math.PI,n*Math.PI]});s.style.strokeDashoffset=`${t}`}})),n(this,"render",(()=>{const{xoSize:t,xoStrokeWidth:e,xoTrackColor:i,xoThumbColor:n,xoStrokeLinecap:s,xoFill:o}=this.getOptions();return`\n      <svg width="${t}" height="${t}" viewport="0 0 ${t} ${t}" version="1.1" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle">\n        <circle\n          fill="${o}"\n          stroke-width="${e}"\n          r="${(t-e)/2}"\n          cx="${t/2}"\n          cy="${t/2}"\n          stroke="${i}"\n        >\n        </circle>\n        <circle\n          class="circle-bar-thumb"\n          stroke-width="${e}"\n          r="${(t-e)/2}"\n          cx="${t/2}"\n          cy="${t/2}"\n          stroke="${n}"\n          stroke-linecap="${s}"\n          stroke-dashoffset="${t*Math.PI}"\n          stroke-dasharray="${t*Math.PI}"\n          fill="transparent"\n          transform="rotate(-90)"\n          transform-origin="50% 50%"\n        >\n        </circle>\n      </svg>\n    `}))}static get observedAttributes(){return["xo-observed"]}connectedCallback(){const t=this.getOptions();this.innerHTML=this.render(),this.style.display="block",t.xoAnimateOnScroll&&Mi.observe(this),this.unsubscribe=Ze.subscribe("xo-circle-bar",this.listener)}async attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(await gt(100),this.disconnectedCallback(),this.connectedCallback())}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this),Mi.unobserve(this)}};let $i=Li;n($i,"defaultOptions",{xoName:null,xoFill:"transparent",xoSize:100,xoStrokeWidth:2,xoTrackColor:"#ebebeb",xoThumbColor:"#ea5b5b",xoStrokeLinecap:"round",xoAnimateOnScroll:!1,xoEasing:"ease",xoValue:0,xoDuration:1e3}),Ze.create("xo-circle-bar",{initialState:{}}),window.xoCircleBar=Ai,xt({[Ae.CircleBar]:$i});const Ii=new bt,Ni=class{constructor(){n(this,"placements",["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"]),n(this,"frames",{}),n(this,"elements",{}),n(this,"getOptions",(t=>"string"==typeof t?{...Ni.defaultOptions,content:t}:{...Ni.defaultOptions,...t})),n(this,"handleFrame",(t=>{var e;const i=this.elements[t];""===(null==i?void 0:i.innerHTML.trim())&&(i.removeAttribute("popover"),pe(i),null==(e=this.frames[t])||e.remove(this.handleFrames[t]),i.remove())})),n(this,"handleFrames",{"top-left":()=>{this.handleFrame("top-left")},"top-center":()=>{this.handleFrame("top-center")},"top-right":()=>{this.handleFrame("top-right")},"bottom-left":()=>{this.handleFrame("bottom-left")},"bottom-center":()=>{this.handleFrame("bottom-center")},"bottom-right":()=>{this.handleFrame("bottom-right")}}),n(this,"createToastRoot",(t=>{this.elements[t]=document.querySelector(`${Ae.ToastPortal}[xo-placement="${t}"]`),this.elements[t]||(this.elements[t]=document.createElement(Ae.ToastPortal),this.elements[t].setAttribute("xo-placement",t),this.elements[t].setAttribute("popover","true"),document.body.appendChild(this.elements[t]),de(this.elements[t]),this.frames[t]=Lt.add(this.handleFrames[t],!0))})),n(this,"push",(t=>{const e=this.getOptions(t);for(const t of this.placements)this.createToastRoot(t);Ii.emit("toast:push",e)})),n(this,"remove",(t=>{Ii.emit("toast:remove",t)}))}};let Oi=Ni;n(Oi,"defaultOptions",{name:"",content:"",duration:200,delay:2e3,className:"",style:{},placement:"bottom-center",easing:"decay",closeButtonDisabled:!1,closeButtonClassName:"",closeButtonPlacement:"top-right",onShow(){},onHide(){}});const Di=new Oi,qi=Object.assign((function(t){return Di.push(t)}),{push:Di.push,remove:Di.remove});class Fi extends HTMLElement{constructor(){super(...arguments),n(this,"offId",-1),n(this,"renderCloseButton",(t=>`\n      <${Ae.ToastCloseButton} class="${t.closeButtonClassName}" xo-placement="${t.closeButtonPlacement}"><svg viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M6.707 5.293a1 1 0 0 0-1.414 1.414l3.293 3.293-3.293 3.293a1 1 0 1 0 1.414 1.414l3.293-3.293 3.293 3.293a1 1 0 0 0 1.414-1.414l-3.293-3.293 3.293-3.293a1 1 0 0 0-1.414-1.414l-3.293 3.293-3.293-3.293Z"></path></svg></${Ae.ToastCloseButton}>\n    `)),n(this,"listener",(t=>{if(t.name){const e=document.querySelector(`${Ae.Toast}[xo-name="${t.name}"]`);if(e&&e.parentNode!==this){const i=qt(e,{pick:["xoDuration","xoClassName","xoDelay","xoEasing","xoPlacement","xoCloseButtonClassName","xoCloseButtonDisabled","xoCloseButtonPlacement"],types:{xoDuration:"number",xoClassName:"string",xoDelay:"number",xoEasing:"string",xoPlacement:"string",xoCloseButtonClassName:"string",xoCloseButtonDisabled:"boolean",xoCloseButtonPlacement:"string"},propTransformer:t=>Nt.pascalToCamel(t.replace(/^xo/,""))}),n={...t,...i},s=Array.from(this.querySelectorAll(`${Ae.Toast}[xo-name="${t.name}"]`)).some((t=>{var e;return(null==(e=t.message)?void 0:e.name)===n.name}));if(n.placement===this.getAttribute("xo-placement")&&!s){!n.closeButtonDisabled&&!e.querySelector(Ae.ToastCloseButton)&&e.insertAdjacentHTML("beforeend",this.renderCloseButton(n));const t=null==e?void 0:e.cloneNode(!0);e.message=n,t.message=n,at(t,"xo-cloned",!0),n.placement.includes("top-")?this.insertAdjacentElement("beforeend",t):this.insertAdjacentElement("afterbegin",t)}}}else if(t.placement===this.getAttribute("xo-placement")){const e=document.createElement(Ae.Toast);t.closeButtonDisabled?e.innerHTML=t.content:e.innerHTML=t.content+this.renderCloseButton(t),e.message=t,t.placement.includes("top-")?this.insertAdjacentElement("beforeend",e):this.insertAdjacentElement("afterbegin",e)}}))}connectedCallback(){this.offId=Ii.on("toast:push",this.listener)}disconnectedCallback(){Ii.off(this.offId)}}class Hi extends HTMLElement{constructor(){super(...arguments),n(this,"timeId",-1),n(this,"animatedIn",ft()),n(this,"animatedOut",ft()),n(this,"message",null),n(this,"prevTimestamp",null),n(this,"delayFromMouseEnter",0),n(this,"closeEl",null),n(this,"unmounted",!1),n(this,"offId",-1),n(this,"initialized",!1),n(this,"cleanup",(()=>{const t=this.getAttribute("xo-name");pt(Array.from(document.querySelectorAll(`${Ae.Toast}[xo-name="${t}"]`)),(t=>{t.remove()}))})),n(this,"destroy",(()=>{clearTimeout(this.timeId),this.animatedIn.off(),this.animatedOut.off(),this.removeEventListener("mouseenter",this.handleMouseEnter),this.removeEventListener("mouseleave",this.handleMouseLeave),this.closeEl&&this.closeEl.removeEventListener("click",this.handleCloseClick),Ii.off(this.offId)})),n(this,"getHeight",(()=>{var t,e;const{placement:i}=this.message,{marginTop:n,marginBottom:s}=window.getComputedStyle(this),o=null!=(t=parseInt(n))?t:0,r=null!=(e=parseInt(s))?e:0;return i.includes("top-")?this.offsetHeight+r:this.offsetHeight+o})),n(this,"getValueY",(t=>{const{placement:e}=this.message;return(e.includes("top-")?-1:1)*(t+20)})),n(this,"handleMouseEnter",(()=>{this.delayFromMouseEnter=Math.max(0,this.delayFromMouseEnter-(Date.now()-this.prevTimestamp)),clearTimeout(this.timeId)})),n(this,"handleMouseLeave",(()=>{this.delayFromMouseEnter!==1/0&&(this.timeId=window.setTimeout((()=>{this.unmount()}),this.delayFromMouseEnter)),this.prevTimestamp=Date.now()})),n(this,"handleCloseClick",(()=>{this.unmount()})),n(this,"setStyles",(()=>{var t,e;const{closeButtonPlacement:i}=this.message,{className:n,style:s}=this.message;if(n&&(this.className=n),Object.assign(this.style,s),this.closeEl){const n=this.closeEl.offsetWidth+(null!=(t=parseInt(window.getComputedStyle(this.closeEl).marginRight))?t:0)+(null!=(e=parseInt(window.getComputedStyle(this.closeEl).marginLeft))?e:0);i.includes("left")?this.style.paddingLeft=`${n}px`:this.style.paddingRight=`${n}px`}})),n(this,"setCssVariables",(()=>{for(const t in this.message){const e=this.message[t];null!=e&&!/onShow|onHide|className|closeButtonClassName|style|content/g.test(t)&&this.style.setProperty(`--xo-${Nt.camelToKebab(t)}`,` ${JSON.stringify(e)}`)}})),n(this,"mount",(()=>{const{duration:t,onShow:e,easing:i}=this.message,n=this.getHeight(),s=this.getValueY(n);this.closeEl=this.querySelector(Ae.ToastCloseButton),this.prevTimestamp=Date.now(),e(this),this.setStyles(),this.setCssVariables(),this.closeEl&&this.closeEl.addEventListener("click",this.handleCloseClick),this.addEventListener("mouseenter",this.handleMouseEnter),this.addEventListener("mouseleave",this.handleMouseLeave),this.animatedIn({from:s,to:0,duration:t,easing:Pt[i],onUpdate:t=>{this.style.transform=`translateY(${t}px)`}}),this.unmounted=!1})),n(this,"unmount",(()=>{const{duration:t,placement:e,onHide:i,easing:n,name:s}=this.message,o=this.getHeight();this.unmounted||(this.unmounted=!0,this.style.pointerEvents="none",this.animatedOut({from:0,to:1,duration:t,onUpdate:t=>{const i=Ht({value:t,inputRange:[0,1],outputRange:[0,-o],easing:Pt[n]}),s=Ht({value:t,inputRange:[0,1],outputRange:[0,20],easing:Pt[n]});e.includes("top-")?(this.style.marginTop=`${i}px`,this.style.transform=`translateY(-${s}px)`):(this.style.marginBottom=`${i}px`,this.style.transform=`translateY(${s}px)`)},onEnd:()=>{this.style.removeProperty("pointer-events"),s?(this.destroy(),this.closest(Ae.ToastPortal)&&this.remove()):this.remove(),i(this)}}))}))}connectedCallback(){if(this.closest(Ae.ToastPortal)&&this.message){const{delay:t}=this.message;this.initialized=!0,this.delayFromMouseEnter=t,this.mount(),t!==1/0&&(this.timeId=window.setTimeout((()=>{this.unmount()}),t)),this.offId=Ii.on("toast:remove",(()=>{this.unmount()}))}}disconnectedCallback(){rt(this,"xo-cloned")?this.initialized&&(this.destroy(),this.unmount()):this.cleanup()}}window.xoToast=qi,xt({[Ae.ToastPortal]:Fi,[Ae.Toast]:Hi});const Ri=new Ke("xo-popover"),Vi={none:Qe.none,zoom:Qe.zoom(!0),fade:Qe.move(),"fade-up":Qe.move({dy:50}),"fade-down":Qe.move({dy:-50}),"fade-left":Qe.move({dx:50}),"fade-right":Qe.move({dx:-50})};function Bi(t){const e=t.closest(Ae.Modal),i=t.closest(Ae.Sticky);return"function"==typeof HTMLDialogElement&&!e&&!i}const zi=class extends ri{constructor(){super(...arguments),n(this,"animated",ft()),n(this,"canClose",!1),n(this,"_options"),n(this,"setOptions",(()=>{var t;const e=qt(this,{pick:["xoName","xoAnimate","xoEasing","xoDuration","xoPlacement","xoPortal","xoDisabled","xoBreakpoints","xoAutofocus","xoSectionSelect","xoModalScrollSelector","xoOffset"],types:{xoName:"string",xoAnimate:"string",xoEasing:"string",xoDuration:"number",xoPlacement:"string",xoPortal:"boolean",xoDisabled:"boolean",xoBreakpoints:"object",xoAutofocus:"boolean",xoSectionSelect:"boolean",xoModalScrollSelector:"string",xoOffset:"number"}}),i=ee(null!=(t=e.xoBreakpoints)?t:{});this.options=JSON.parse(JSON.stringify({...e,xoDisabled:null!=(null==i?void 0:i.disabled)?i.disabled:e.xoDisabled,xoDuration:null!=(null==i?void 0:i.duration)?i.duration:e.xoDuration,xoEasing:null!=(null==i?void 0:i.easing)?i.easing:e.xoEasing,xoAnimate:null!=(null==i?void 0:i.animate)?i.animate:e.xoAnimate,xoPlacement:null!=(null==i?void 0:i.placement)?i.placement:e.xoPlacement,xoOffset:null!=(null==i?void 0:i.offset)?i.offset:e.xoOffset}))})),n(this,"handleCalTopLeft",(()=>{var t,e;const{xoPlacement:i,xoOffset:n,xoModalScrollSelector:s}=this.options,{triggerElement:o}=this.state;if(o){const r=Yt(o,{placement:i,offset:n,element:this}),a=this.closest(Ae.Modal),l=this.closest(`${Ae.Sticky}:not([xo-disabled])`);if(a){const e=null==(t=a.shadowRoot)?void 0:t.querySelector(Ae.ModalContent),i=(s?a.querySelector(s):null)||e,{left:n,top:o}=zt(i),{x:l,y:c}=this.getValueWithBoundary(r.left-n,r.top-o);this.style.top=`${c}px`,this.style.left=`${l}px`}else if(l){const t=null==(e=l.shadowRoot)?void 0:e.querySelector(Ae.StickyContent),{left:i,top:n}=zt(t),{x:s,y:o}=this.getValueWithBoundary(r.left-i,r.top-n);this.style.top=`${o}px`,this.style.left=`${s}px`}else{const{x:t,y:e}=this.getValueWithBoundary(r.left,r.top-window.scrollY);this.style.top=`${e}px`,this.style.left=`${t}px`}this.style.setProperty("--xo-popover-trigger-width",`${o.offsetWidth}px`)}})),n(this,"handleScroll",(()=>{this.handleCalTopLeft()})),n(this,"subscribe",(()=>{const{xoDuration:t,xoDisabled:e}=this.options,{triggerElement:i,isOpen:n}=this.state;e||(this.handleCalTopLeft(),i&&this.animated({from:n?0:1,to:n?1:0,duration:t}))})),n(this,"handleClose",(()=>{const{xoDuration:t,xoName:e}=this.options;this.animated({from:1,to:0,duration:t}),e&&Ri.close(e,"empty")})),n(this,"handleOutsideClick",(t=>{const{xoDisabled:e}=this.options,{isOpen:i,triggerElement:n}=this.state,s=t.target;this.canClose&&i&&!e&&!this.contains(s)&&(null==n||!n.contains(s))&&this.handleClose()})),n(this,"resetStyles",(()=>{const{xoDisabled:t}=this.options;t&&(this.style.removeProperty("top"),this.style.removeProperty("left"),this.style.removeProperty("opacity"),this.style.removeProperty("visibility"),this.style.removeProperty("transform"))})),n(this,"handleResize",St((()=>{this.setOptions(),this.resetStyles(),this.handleCalTopLeft(),this.componentUnmount(),this.componentMount()}),500)),n(this,"setCurrentDisabled",(()=>{const{xoDisabled:t}=this.options;at(this,"xo-current-disabled",t)})),n(this,"componentOpen",(()=>{const{xoPortal:t}=this.options;t&&Bi(this)&&de(this)})),n(this,"componentClose",(()=>{const{xoDuration:t}=this.options;this.animated.getValue()>0&&this.animated.getValue()<1&&(this.animated({from:1,to:0,duration:t}),this.style.removeProperty("pointer-events"))})),n(this,"componentBeforeMount",(()=>{this.setOptions()})),n(this,"componentMount",(async()=>{const{xoName:t,xoAnimate:e,xoEasing:i,xoPortal:n,xoBreakpoints:s,xoModalScrollSelector:o}=this.options;ct(this.componentName,"xo-name",t),n&&Bi(this)&&this.setAttribute("popover",t),this.setCurrentDisabled(),this.setCssVariables(),s&&pt(mt(s).sort(),(t=>{const e=s[t];this.setCssVariables(Number(t),e)}));const r=this.closest(Ae.Modal),a=this.closest(`${Ae.Sticky}:not([xo-disabled])`);this.style.position=r||a?"absolute":"fixed",document.addEventListener("click",this.handleOutsideClick),this.animated.onUpdate((t=>{const{isOpen:n}=this.state;(n?1===t:0===t)?this.style.removeProperty("pointer-events"):this.style.pointerEvents="none",Vi[e]&&Vi[e](this,{isOpen:n,easing:Pt[i],value:t}),this.canClose=1===t})),this.animated.onEnd((()=>{const{isOpen:t}=this.state;!t&&n&&Bi(this)&&pe(this)})),window.addEventListener("resize",this.handleResize),r?(o&&r.querySelector(o)||window).addEventListener("scroll",this.handleScroll):window.addEventListener("scroll",this.handleScroll)})),n(this,"componentUnmount",(()=>{const{xoModalScrollSelector:t}=this.options;this.animated.off(),document.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("resize",this.handleResize);const e=this.closest(Ae.Modal);e?(t&&e.querySelector(t)||window).removeEventListener("scroll",this.handleScroll):window.removeEventListener("scroll",this.handleScroll)}))}static get observedAttributes(){return["xo-placement","xo-offset","xo-breakpoints"]}get stateName(){return"xo-popover"}get componentName(){return Ae.Popover}get options(){return{...zi.defaultOptions,...this._options}}set options(t){this._options=t}getValueWithBoundary(t,e){const i=this.closest("[xo-popover-boundary]");if(i){const{left:n,top:s}=i.getBoundingClientRect();return{x:ht(t,n,n+i.offsetWidth-this.offsetWidth),y:ht(e,s,s+i.offsetHeight-this.offsetHeight)}}return{x:t,y:e}}async attributeChangedCallback(t,e,i){e!==i&&(await gt(100),this.setOptions(),this.resetStyles(),this.handleCalTopLeft())}};let _i=zi;n(_i,"defaultOptions",{xoName:null,xoAnimate:"fade-up",xoEasing:"decay",xoDuration:300,xoPlacement:"bottom-center",xoPortal:!1,xoOffset:10,xoDisabled:!1,xoBreakpoints:{},xoAutofocus:!1});const Wi=class extends ai{constructor(){super(...arguments),n(this,"componentTrigger",(()=>{const{xoName:t,xoType:e}=this.options,{isOpen:i}=this.state;ct(this.componentName,"xo-name",t),this.setState((n=>({...n,[t]:{...n[t],triggerElement:i?this:n[t].triggerElement,eventType:e}})))(`${this.componentName}/setTriggerElement`)}))}get stateName(){return"xo-popover"}get componentName(){return Ae.PopoverTrigger}get eventType(){return this.options.xoType}get actionType(){return"toggle"}get options(){const t=qt(this,{pick:["xoName","xoType"],types:{xoName:"string",xoType:"string"}}),e=this.closest("[xo-name]");if(e){const i=qt(e,{pick:["xoName"],types:{xoName:"string"}});return{...Wi.defaultOptions,...i,...t}}return{...Wi.defaultOptions,...t}}};let Ui=Wi;function Yi(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r}function Gi(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}n(Ui,"defaultOptions",{xoName:null,xoType:"click"}),Ze.create("xo-popover",{initialState:{trigger:{},data:{}}}),"function"==typeof SuppressedError&&SuppressedError;let ji=(u=class extends le{constructor(){super(),n(this,"handleToggle",(t=>{t.target.closest(Ae.BuilderPopoverContent)||this.setState({isOpen:!this.state.isOpen})})),n(this,"handleDocumentClick",(t=>{const e=t.target;this.contains(e)||this.setState({isOpen:!1})})),n(this,"bindEvent",(()=>{const{xoType:t}=this.props;"click"===t&&(this.addEventListener("click",this.handleToggle),document.addEventListener("click",this.handleDocumentClick))})),n(this,"addCssVars",(()=>{const{xoDuration:t}=this.props;this.style.setProperty("--xo-popover-duration",`${t}ms`)})),this.state={isOpen:!1}}mount(){this.addCssVars(),this.bindEvent()}unmount(){this.removeEventListener("click",this.handleToggle)}stateUpdate(t){if(t.isOpen!==this.state.isOpen){const t=this.querySelector(Ae.BuilderPopoverContent);at(this,"xo-open",this.state.isOpen),t&&at(t,"xo-open",this.state.isOpen)}}propUpdate({name:t,prevProp:e,nextProp:i}){"xoDuration"===t&&e!==i&&this.addCssVars(),"xoType"===t&&e!==i&&(this.removeEventListener("click",this.handleToggle),this.bindEvent())}},n(u,"propTypes",{xoAnimate:"string",xoDuration:"number",xoPlacement:"string",xoType:"string"}),n(u,"defaultProps",{xoType:"click",xoPlacement:"bottom-center",xoAnimate:"fade-up",xoDuration:300}),n(u,"observedProps",["xoType","xoDuration"]),u);ji=Yi([ce(Ae.BuilderPopover),Gi("design:paramtypes",[])],ji),window.xoPopover=Ri,xt({[Ae.Popover]:_i,[Ae.PopoverTrigger]:Ui});const Xi=class extends HTMLElement{constructor(){super(...arguments),n(this,"contentEl",null),n(this,"_options"),n(this,"intervalId",-1),n(this,"isShowing",!1),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoTitle","xoAnimate","xoDuration","xoPlacement","xoPortalClass","xoMobileDisabled"],types:{xoTitle:"string",xoAnimate:"string",xoDuration:"number",xoPlacement:"string",xoPortalClass:"string",xoMobileDisabled:"boolean"}})})),n(this,"handleShow",(async t=>{var e;t&&(this.isShowing=!0),window.removeEventListener("scroll",this.handleHide,!1),window.addEventListener("scroll",this.handleHide,!1);const i=null!=(e=this.closest(`${Ae.Popover}, ${Ae.Modal}`))?e:document.body;this.contentEl||(this.contentEl=this.createPortal(),i.appendChild(this.contentEl));const{xoPlacement:n,xoAnimate:s,xoDuration:o,xoOffset:r,xoTitle:a,xoPortalClass:l}=this.options;this.contentEl.innerHTML=a,this.contentEl.style.removeProperty("transition-duration"),this.contentEl.setAttribute("xo-placement",n),this.contentEl.setAttribute("xo-animate",s),l&&this.contentEl.classList.add(l),i.tagName.toLowerCase()===Ae.Modal&&this.contentEl.setAttribute("slot",`${i.getAttribute("xo-name")}-inner`);const c=Yt(this,{placement:n,offset:r,element:this.contentEl});let h=`${c.top}px`,u=`${c.left}px`;if([Ae.Modal,Ae.Popover].includes(i.tagName.toLowerCase()))if(i.tagName.toLowerCase()===Ae.Modal){const t=i.getShadow().querySelector(Ae.ModalContent),{left:e,top:n}=zt(t);h=c.top-n+"px",u=c.left-e+"px"}else{const{left:t,top:e}=zt(i);h=c.top-e+"px",u=c.left-t+"px"}this.contentEl.style.top!==h&&(this.contentEl.style.top=h),this.contentEl.style.left!==u&&(this.contentEl.style.left=u),await gt(0),this.contentEl.style.transitionDuration=`${s?o:0}ms`,at(this.contentEl,"xo-active",!0),this.intervalId=window.setInterval((()=>{"none"===window.getComputedStyle(this).display&&(this.handleHide(),clearInterval(this.intervalId))}),1e3)})),n(this,"handleHide",(async()=>{this.contentEl&&(at(this.contentEl,"xo-active",!1),clearInterval(this.intervalId))})),n(this,"handleTooltip",(t=>{!this.contains(t.target)&&this.isShowing&&(this.handleHide(),this.isShowing=!1)})),n(this,"handleClick",(t=>{this.isShowing=!0,this.handleTooltip(t)})),n(this,"createPortal",(()=>document.createElement(Ae.TooltipContent))),n(this,"show",(()=>{this.handleShow()})),n(this,"hide",(()=>{this.handleHide()}))}get options(){return{...Xi.defaultOptions,...this._options}}set options(t){this._options=t}connectedCallback(){this.setOptions();const{xoMobileDisabled:t}=this.options;Vt&&t||(this.addEventListener("mouseenter",this.handleShow,!1),window.addEventListener("mousemove",this.handleTooltip,!1),window.addEventListener("click",this.handleClick,!1))}disconnectedCallback(){var t;null==(t=this.contentEl)||t.remove(),clearInterval(this.intervalId),window.removeEventListener("mousemove",this.handleTooltip,!1),window.removeEventListener("scroll",this.handleHide,!1),this.removeEventListener("mouseenter",this.handleShow,!1),window.removeEventListener("click",this.handleClick,!1)}};let Qi=Xi;n(Qi,"defaultOptions",{xoTitle:"",xoAnimate:"fade-down",xoDuration:400,xoPlacement:"top-center",xoPortalClass:"",xoOffset:10,xoMobileDisabled:!1}),xt({[Ae.Tooltip]:Qi});const Zi=new class{constructor(){n(this,"stateName","xo-collapse"),n(this,"toggle",(t=>{Ze.set(this.stateName,(e=>({...e,[t]:{...e[t],isOpen:!e[t].isOpen}})))(`${this.stateName}/toggle`)})),n(this,"open",(t=>{Ze.set(this.stateName,(e=>({...e,[t]:{...e[t],isOpen:!0}})))(`${this.stateName}/open`)})),n(this,"close",(t=>{Ze.set(this.stateName,(e=>({...e,[t]:{...e[t],isOpen:!1}})))(`${this.stateName}/close`)}))}};function Ki(t){return t&&t.tagName.toLowerCase()===Ae.CollapseProvider}const Ji=class extends HTMLElement{constructor(){super(...arguments),n(this,"animated",ft()),n(this,"unsubscribe",null),n(this,"frameId",-1),n(this,"clear",(()=>{})),n(this,"initialized",!1),n(this,"prevIsOpen",!1),n(this,"_options"),n(this,"componentOpen",(()=>{const{xoDuration:t,xoEasing:e}=this.options,i=this.scrollHeight;this.animated({from:0,to:i,duration:t,easing:Pt[e],onUpdate:t=>{this.style.height=0===i?"auto":`${t}px`},onEnd:()=>{this.style.height="auto"}})})),n(this,"componentClose",(()=>{const{xoDuration:t,xoEasing:e}=this.options,i=this.scrollHeight;this.animated({from:i,to:0,duration:t,easing:Pt[e],onUpdate:t=>{this.style.height=`${t}px`}})})),n(this,"listener",(t=>{const{xoName:e}=this.options;if(ct(this.componentName,"xo-name",e),t[e]){const{isOpen:i}=t[e];ei(this,!i),this.initialized&&i!==this.prevIsOpen&&(i?(at(this,"xo-active",!0),this.componentOpen()):(at(this,"xo-active",!1),this.componentClose()),this.prevIsOpen=i)}})),n(this,"setOptions",(()=>{const t=qt(this,{pick:["xoName","xoDuration","xoEasing"],types:{xoName:"string",xoDuration:"number",xoEasing:"string"}});if(Ki(this.providerElement)&&function(t){return t&&t.tagName.toLowerCase()===Ae.CollapseTrigger}(this.triggerElement)){const e={xoName:this.triggerElement.xoNameProp,xoDuration:Number(this.providerElement.getAttribute("xo-duration")||300)};this.options={...Ji.defaultOptions,...e,...t}}else this.options={...Ji.defaultOptions,...t}}))}static get observedAttributes(){return["xo-observed"]}get componentName(){return Ae.Collapse}get options(){return{...Ji.defaultOptions,...this._options}}set options(t){this._options=t}get providerElement(){return this.closest(Ae.CollapseProvider)}get triggerElement(){return this.previousElementSibling}async connectedCallback(){this.setOptions();const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),this.initialized=!0,"xoSections"==={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_BUILD_MODE?(this.clear=await gt(200),rt(this,"xo-active")&&Zi.open(t)):rt(this,"xo-active")&&(await gt(),Zi.open(t)),this.unsubscribe=Ze.subscribe("xo-collapse",this.listener)}attributeChangedCallback(t,e,i){if("xo-observed"===t&&e!==i){this.setOptions();const t=rt(this,"xo-active");t?this.style.height="auto":this.style.removeProperty("height");const{xoName:e}=this.options;ct(this.componentName,"xo-name",e),Ze.set("xo-collapse",(i=>({...i,[e]:{...null==i?void 0:i[e],isOpen:t}})))}}disconnectedCallback(){var t;this.animated.off(),null==(t=this.unsubscribe)||t.call(this),this.clear(),cancelAnimationFrame(this.frameId)}};let tn=Ji;n(tn,"defaultOptions",{xoName:null,xoDuration:300,xoEasing:"decay"});let en=0;const nn=class extends HTMLElement{constructor(){super(...arguments),n(this,"xoNameProp",""),n(this,"_options"),n(this,"handleCollapseHasProvider",(()=>{const{xoName:t}=this.options;Ki(this.providerElement)||ct(this.componentName,"xo-name",t),pt(Array.from(this.providerElement.querySelectorAll(Ae.CollapseTrigger)),(t=>{const e=t.getAttribute("xo-name")||t.xoNameProp;this!==t||this.hasAttribute("xo-active")?(at(t,"xo-active",!1),ii(t,"xo-active-binding",!1)):(at(t,"xo-active",!0),ii(t,"xo-active-binding",!0)),e&&Ze.set("xo-collapse",(i=>{var n;return{...i,[e]:{...null==i?void 0:i[e],isOpen:this===t&&!(null!=(n=null==i?void 0:i[e])&&n.isOpen)}}}))}))})),n(this,"handleCollapse",(()=>{const{xoName:t}=this.options;Ki(this.providerElement)||ct(this.componentName,"xo-name",t),rt(this,"xo-active")?at(this,"xo-active",!1):at(this,"xo-active",!0),Zi.toggle(t)})),n(this,"handleClick",(()=>{var t,e;const{xoName:i}=this.options,n=Number(null==(t=this.providerElement)?void 0:t.getAttribute("xo-duration"))||Number(null==(e=document.querySelector(`${Ae.Collapse}[xo-name="${i}"]`))?void 0:e.getAttribute("xo-duration"))||300,s=Date.now();s-en<n||(en=s,Ki(this.providerElement)?this.handleCollapseHasProvider():this.handleCollapse())}))}get componentName(){return Ae.CollapseTrigger}get options(){return{...nn.defaultOptions,...this._options}}set options(t){this._options=t}setOptions(){const t=qt(this,{pick:["xoName"],types:{xoName:"string"}});if(Ki(this.providerElement)){const e=Array.from(this.providerElement.querySelectorAll(Ae.CollapseTrigger)).indexOf(this),i={xoName:`${this.providerElement.xoName}-${e}`};this.options={...nn.defaultOptions,...i,...t}}else this.options={...nn.defaultOptions,...t}}get providerElement(){return this.closest(Ae.CollapseProvider)}connectedCallback(){var t;if(this.setOptions(),null!=(t=this.providerElement)&&t.xoName){const t=Array.from(this.providerElement.querySelectorAll(Ae.CollapseTrigger)).indexOf(this);this.xoNameProp=`${this.providerElement.xoName}-${t}`}const{xoName:e}=this.options;ct(this.componentName,"xo-name",e),Ze.set("xo-collapse",(t=>{var i,n;return{...t,[e]:{...null==t?void 0:t[e],isOpen:null!=(n=null==(i=null==t?void 0:t[e])?void 0:i.isOpen)&&n}}})),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}};let sn=nn;n(sn,"defaultOptions",{xoName:null});let on=0;class rn extends HTMLElement{constructor(){super(),n(this,"xoName"),on++,this.xoName=`collapse-${on}`}static get observedAttributes(){return["xo-observed"]}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&pt([...Array.from(this.querySelectorAll(Ae.CollapseTrigger)),...Array.from(this.querySelectorAll(Ae.Collapse))],(t=>{t.setAttribute("xo-observed",i)}))}}function an(t){return t&&t.tagName.toLowerCase()===Ae.Tabs}Ze.create("xo-collapse",{initialState:{}}),window.xoCollapse=Zi,xt({[Ae.CollapseProvider]:rn,[Ae.CollapseTrigger]:sn,[Ae.Collapse]:tn});const ln=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",null),n(this,"listener",(t=>{const{xoName:e}=this.options;if(ct(this.componentName,"xo-name",e),t[this.providerElement.xoName]){const{name:i}=t[this.providerElement.xoName];ei(this,i!==e),at(this,"xo-active",i===e)}}))}get componentName(){return Ae.TabsPane}get providerElement(){return this.closest(Ae.Tabs)}get options(){const t=qt(this,{pick:["xoName"],types:{xoName:"string"}});return{...ln.defaultOptions,...t}}connectedCallback(){const{xoName:t}=this.options;ct(this.componentName,"xo-name",t),an(this.providerElement)||lt(`The ${this.componentName} component must be a child of the ${Ae.Tabs} component`),this.unsubscribe=Ze.subscribe("xo-tabs",this.listener)}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this)}};let cn=ln;function hn(t,{name:e,width:i=0,left:n}){Ze.set("xo-tabs",(s=>{var o,r,a,l;return{...s,[t]:{...s[t],name:e,width:null==i?null!=(r=null==(o=s[t])?void 0:o.width)?r:0:i,left:null==n?null!=(l=null==(a=s[t])?void 0:a.left)?l:0:n}}}))}n(cn,"defaultOptions",{xoName:null});const un={active:hn},dn=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",null),n(this,"providerName",null),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoName","xoTrigger","xoActive"],types:{xoName:"string",xoTrigger:"string",xoActive:"boolean"}})})),n(this,"listener",(t=>{const{xoName:e}=this.options;if(ct(this.componentName,"xo-name",e),this.providerName&&t[this.providerName]){const{name:i}=t[this.providerName];at(this,"xo-active",i===e),ii(this,"xo-active-binding",i===e)}})),n(this,"handleActive",(async t=>{const{xoName:e}=this.options;if(ct(this.componentName,"xo-name",e),await gt(0),this.providerName)if(this.providerElement){const t=this.providerElement.querySelector(Ae.TabsActive),i=null==t?void 0:t.parentElement,n=i?zt(this).left-zt(i).left:0;i&&"static"===window.getComputedStyle(i).position&&(i.style.position="relative"),hn(this.providerName,{name:e,left:n,width:this.offsetWidth})}else pt(Array.from(document.querySelectorAll(Ae.ListPortal)),(i=>{if(t&&t.target instanceof HTMLElement&&i.contains(t.target)){const i=t.currentTarget,n=setTimeout((()=>{this.providerName&&hn(this.providerName,{name:e,width:i.offsetWidth,left:i.offsetLeft}),clearTimeout(n)}),0)}}))})),n(this,"addTrigger",(()=>{"hover"!==this.options.xoTrigger||Vt?this.addEventListener("click",this.handleActive):this.addEventListener("mouseenter",this.handleActive)})),n(this,"removeTrigger",(()=>{this.removeEventListener("mouseenter",this.handleActive),this.removeEventListener("click",this.handleActive)}))}get componentName(){return Ae.TabsTrigger}get providerElement(){return this.closest(Ae.Tabs)}get options(){return{...dn.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}connectedCallback(){var t;this.setOptions(),null!=(t=this.providerElement)&&t.xoName&&(this.providerName=this.providerElement.xoName),rt(this,"xo-active")&&this.handleActive(),this.unsubscribe=Ze.subscribe("xo-tabs",this.listener),this.addTrigger()}disconnectedCallback(){var t;this.removeTrigger(),null==(t=this.unsubscribe)||t.call(this)}async attributeChangedCallback(t,e,i){var n;"xo-observed"===t&&e!==i&&(await gt(100),this.setOptions(),null!=(n=this.providerElement)&&n.xoName&&(this.providerName=this.providerElement.xoName),rt(this,"xo-active")&&this.handleActive(),this.removeTrigger(),this.addTrigger(),this.listener(Ze.get("xo-tabs")))}};let pn=dn;n(pn,"defaultOptions",{xoName:null,xoTrigger:"click"});let mn=0;class xn extends HTMLElement{constructor(){super(),n(this,"xoName"),mn++,this.xoName=`tabs-${mn}`}static get observedAttributes(){return["xo-observed"]}attributeChangedCallback(t,e,i){"xo-observed"===t&&null!=e&&e!==i&&pt([...Array.from(this.querySelectorAll(Ae.TabsActive)),...Array.from(this.querySelectorAll(Ae.TabsTrigger)),...Array.from(this.querySelectorAll(Ae.TabsPane))],(t=>{t.setAttribute("xo-observed",i)}))}}const gn=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"animated",ft()),n(this,"prevLeft",0),n(this,"prevWidth",0),n(this,"initialized",!1),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoDuration","xoEasing"],types:{xoDuration:"number",xoEasing:"string"}})})),n(this,"listener",(t=>{const{xoDuration:e,xoEasing:i}=this.options;if(an(this.providerElement)&&t[this.providerElement.xoName]){const{width:n=0,left:s=0}=t[this.providerElement.xoName];if(this.initialized){const t=s+100;this.animated.off(),this.animated({from:this.prevLeft,to:t,duration:e,onUpdate:e=>{const o=Ht({value:e,inputRange:[this.prevLeft,t],outputRange:[this.prevWidth,n],reverseEasing:this.prevLeft>s,easing:Pt[i]}),r=Ht({value:e,inputRange:[this.prevLeft,t],outputRange:[this.prevLeft,s],reverseEasing:this.prevLeft>s,easing:Pt[i]});this.style.width=`${o}px`,this.style.transform=`translateX(${r}px)`},onEnd:()=>{this.prevLeft=s,this.prevWidth=n}})}else this.style.width=`${n}px`,this.style.transform=`translateX(${s}px)`,this.prevLeft=s,this.prevWidth=n;this.initialized=!0}}))}get options(){return{...gn.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}get providerElement(){return this.closest(Ae.Tabs)}connectedCallback(){this.setOptions(),this.unsubscribe=Ze.subscribe("xo-tabs",this.listener)}disconnectedCallback(){this.unsubscribe(),this.animated.off()}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(this.setOptions(),this.initialized=!1,this.listener(Ze.get("xo-tabs")||{}))}};let vn=gn;n(vn,"defaultOptions",{xoDuration:200,xoEasing:"ease"}),Ze.create("xo-tabs",{initialState:{}}),window.xoTabs=un,xt({[Ae.Tabs]:xn,[Ae.TabsActive]:vn,[Ae.TabsTrigger]:pn,[Ae.TabsPane]:cn});class bn extends HTMLElement{constructor(){super(...arguments),n(this,"keyframes",{}),n(this,"parallax",null),n(this,"setStyleCallback",null),n(this,"customEffects",(t=>{this.setStyleCallback=t})),n(this,"beautyAttr",(()=>{const t=this.getAttribute("xo-breakpoints"),e=this.getAttribute("xo-keyframes");t&&this.setAttribute("xo-breakpoints",t.replace(/\s+/g," ").trim()),e&&this.setAttribute("xo-keyframes",e.replace(/\s+/g," ").trim())})),n(this,"init",(async()=>{const t=this.closest(`${Ae.Parallax}, [${Ae.Parallax}]`);if(this.getAttribute("xo-keyframes")||lt(`The ${Ae.ParallaxScroll} component must have the "xo-keyframes" attribute`),t&&(t.tagName.toLowerCase()===Ae.Parallax||t.hasAttribute(Ae.Parallax))){const{xoLerpEase:e=.08,xoBackfaceVisibility:i="hidden",xoFitContent:n}=this.getOptions();"hidden"===i&&(this.style.backfaceVisibility="hidden"),null==n&&at(this,"xo-fit-content",!0),this.setKeyframes(),this.parallax=ze({lerpEase:e,setStyles:({element:t,createValue:e,EMPTY:i})=>{var n;null==(n=this.setStyleCallback)||n.call(this,{element:t,createValue:e,EMPTY:i})}}),this.beautyAttr(),this.parallax.add(this,{from:()=>zt(t).top-window.innerHeight,to:()=>zt(t).top+t.offsetHeight,keyframes:this.keyframes}).run(),await gt(50),this.dispatchEvent(new CustomEvent("xo:parallax-scroll:init",{bubbles:!0}))}})),n(this,"handleResize",St(ie("x",(()=>{var t;null==(t=this.parallax)||t.destroy(),this.init()})),500))}static get observedAttributes(){return["xo-observed","xo-keyframes","xo-breakpoints","xo-lerp-ease","xo-backface-visibility","xo-fit-content"]}getOptions(){return qt(this,{pick:["xoKeyframes","xoBreakpoints","xoLerpEase","xoBackfaceVisibility","xoFitContent"],types:{xoKeyframes:"object",xoBreakpoints:"object",xoLerpEase:"number",xoBackfaceVisibility:"string",xoFitContent:"boolean"}})}setKeyframes(){var t;const{xoKeyframes:e,xoBreakpoints:i}=this.getOptions();this.keyframes=null!=(t=ee(i))?t:e}connectedCallback(){this.init(),this.dispatchEvent(new CustomEvent("xo:parallax-scroll:init",{bubbles:!0})),window.addEventListener("resize",this.handleResize)}disconnectedCallback(){var t;null==(t=this.parallax)||t.destroy(),window.removeEventListener("resize",this.handleResize)}async attributeChangedCallback(t,e,i){("xo-observed"===t||"xo-keyframes"===t||"xo-breakpoints"===t||"xo-lerp-ease"===t||"xo-backface-visibility"===t)&&e!==i&&(await gt(100),this.disconnectedCallback(),this.connectedCallback())}}const fn=1e3/60,yn=class extends HTMLElement{constructor(){super(...arguments),n(this,"shadow",this.attachShadow({mode:"open"})),n(this,"providerEl",null),n(this,"targetValueX",0),n(this,"targetValueY",0),n(this,"currentValueX",0),n(this,"currentValueY",0),n(this,"handleParallax",(t=>{var e;const{xoStrength:i,xo3d:n}=this.getOptions();let s=t/fn;const o=Math.round(s);o>=1&&(s=o);const r=Number((null==(e=this.providerEl)?void 0:e.getAttribute("xo-lerp-ease"))||"0.08"),a=De(this.currentValueX,this.targetValueX,r*s),l=De(this.currentValueY,this.targetValueY,r*s),c=this.shadow.querySelector(Ae.ParallaxHoverInner);n?(c.style.transformStyle="preserve-3d",c.style.transform=`perspective(2000px) rotateX(${-l/4*i}deg) rotateY(${a/4*i}deg)`):c.style.transform=`translate3d(${a*i}px, ${l*i}px, 0)`,this.currentValueX=a,this.currentValueY=l})),n(this,"handleFrameSyncUpdate",(({delta:t})=>{const e=Math.abs(this.targetValueX-this.currentValueX),i=Math.abs(this.targetValueY-this.currentValueY);e<.001&&i<.001||this.handleParallax(t)})),n(this,"setTargetValue",((t,e,i,n,s)=>{const o=zt(this).left+this.offsetWidth/2,r=zt(this).top+this.offsetHeight/2;this.targetValueX=Ht({value:t.pageX-e,inputRange:[0,o-e,n],outputRange:[-1,0,1]}),this.targetValueY=Ht({value:t.pageY-i,inputRange:[0,r-i,s],outputRange:[-1,0,1]})})),n(this,"handleMouseMove",(t=>{const e=zt(this.providerEl).left,i=zt(this.providerEl).top,n=this.providerEl.offsetWidth,s=this.providerEl.offsetHeight;this.setTargetValue(t,e,i,n,s)})),n(this,"handleMouseLeave",(()=>{const{xoResetPosition:t}=this.getOptions();t&&(this.targetValueX=0,this.targetValueY=0)}))}static get observedAttributes(){return["xo-observed","xo-strength","xo-reset-position","xo-3d","xo-inner-width"]}getOptions(){const t=qt(this,{pick:["xoStrength","xoResetPosition","xo3d","xoInnerWidth"],types:{xoStrength:"number",xoResetPosition:"boolean",xo3d:"boolean",xoInnerWidth:"string"}});return{...yn.defaultOptions,...t}}connectedCallback(){if(Lt.remove(this.handleFrameSyncUpdate),Lt.add(this.handleFrameSyncUpdate,!0),this.providerEl=this.closest(`${Ae.Parallax}, [${Ae.Parallax}]`),!this.providerEl)throw new Error(`The ${Ae.ParallaxHover} component must be a child of ${Ae.Parallax}`);if(!this.shadow.innerHTML){const{xoInnerWidth:t}=this.getOptions();this.shadow.innerHTML=`<${Ae.ParallaxHoverInner} part="inner" style="display: block; width: ${t}"><slot></slot></${Ae.ParallaxHoverInner}>`}this.handleParallax(1/60*1e3),this.providerEl.addEventListener("mousemove",this.handleMouseMove),this.providerEl.addEventListener("mouseleave",this.handleMouseLeave)}disconnectedCallback(){var t,e;Lt.remove(this.handleFrameSyncUpdate),null==(t=this.providerEl)||t.removeEventListener("mousemove",this.handleMouseMove),null==(e=this.providerEl)||e.removeEventListener("mouseleave",this.handleMouseLeave)}async attributeChangedCallback(t,e,i){("xo-observed"===t||"xo-strength"===t||"xo-reset-position"===t||"xo-3d"===t||"xo-inner-width"===t)&&e!==i&&(await gt(100),this.disconnectedCallback(),this.connectedCallback())}};let En=yn;function wn(t,e){pt(t,(t=>{Ze.set("xo-carousel",(i=>{var n,s,o,r,a,l,c,h,u,d,p,m,x,g,v,b,f;const y=null!=(s=null==(n=i[t])?void 0:n.slideLength)?s:0,E=null!=(a=null==(r=null==(o=i[t])?void 0:o.options)?void 0:r.xoPerView)?a:0,w=null!=(h=null==(c=null==(l=i[t])?void 0:l.options)?void 0:c.xoRewind)&&h,S=null!=(p=null==(d=null==(u=i[t])?void 0:u.options)?void 0:d.xoLoop)&&p&&"slide"!==(null==(x=null==(m=i[t])?void 0:m.options)?void 0:x.xoType),C=null!=(v=null==(g=i[t])?void 0:g.activeIndex)?v:0,P=null!=(f=null==(b=i[t])?void 0:b.thumbnailActiveIndex)?f:0;let k=S?ae(C+e,0,y-E):ht(C+e,0,y-E),A=ht(P+e,0,y-1);return w&&C===y-E&&(k=0),w&&P===y-1&&(A=0),{...i,[t]:{...i[t],activeIndex:k,thumbnailActiveIndex:A,useAnimated:!0,timestamp:Date.now()}}}))("xo-carousel/nextSlide")}))}function Sn(t,e){pt(t,(t=>{Ze.set("xo-carousel",(i=>{var n,s,o,r,a,l,c,h,u,d,p,m,x,g,v;const b=null!=(o=null==(s=null==(n=i[t])?void 0:n.options)?void 0:s.xoPerView)?o:0,f=null!=(a=null==(r=i[t])?void 0:r.slideLength)?a:b,y=null!=(c=null==(l=i[t])?void 0:l.activeIndex)?c:0,E=null!=(d=null==(u=null==(h=i[t])?void 0:h.options)?void 0:u.xoRewind)&&d;let w=null!=(x=null==(m=null==(p=i[t])?void 0:p.options)?void 0:m.xoLoop)&&x&&"slide"!==(null==(v=null==(g=i[t])?void 0:g.options)?void 0:v.xoType)?ae(y-e,0,f-b):Math.max(y-e,0);return E&&0===y&&(w=f-b),{...i,[t]:{...i[t],activeIndex:w,thumbnailActiveIndex:w,useAnimated:!0,timestamp:Date.now()}}}))("xo-carousel/prevSlide")}))}function Cn(t,e,i){pt(t,(t=>{Ze.set("xo-carousel",(n=>{var s,o,r,a,l;const c=null!=(r=null==(o=null==(s=n[t])?void 0:s.options)?void 0:o.xoPerView)?r:0,h=null!=(l=null==(a=n[t])?void 0:a.slideLength)?l:c;let u=ht(e,0,h-c),d=ht(e,0,h-1);return{...n,[t]:{...n[t],activeIndex:u,thumbnailActiveIndex:d,useAnimated:i,timestamp:Date.now()}}}))("xo-carousel/goToSlide")}))}function Pn(t){var e;return{activeIndex:0,thumbnailActiveIndex:0,...null==(e=Ze.get("xo-carousel"))?void 0:e[t]}}function kn(t,e,i){return Ze.subscribe("xo-carousel",(i=>e(i[t])),((e,n)=>i?i(e,n):kt(null==e?void 0:e[t],null==n?void 0:n[t])))}n(En,"defaultOptions",{xoStrength:100,xoResetPosition:!0,xo3d:!1,xoInnerWidth:"fit-content"}),xt({[Ae.ParallaxScroll]:bn,[Ae.ParallaxHover]:En});const An={next:(t,e)=>wn([t],e),prev:(t,e)=>Sn([t],e),goTo:(t,e)=>{const{options:i}=Pn(t);let n=e;i.xoLoop&&(n=e+2*i.xoPerView),Cn([t],n,!0)}},Tn=(t,e,i)=>{t.dispatchEvent(new CustomEvent("xo:carousel:resize",{bubbles:!1,detail:{width:e,height:i}}))},Mn=4===window.navigator.hardwareConcurrency?1e3:500;function Ln(t){pt(Array.from(t.querySelectorAll(`${Ae.Popover}, ${Ae.PopoverTrigger}`)),(t=>{const e=t.getAttribute("xo-name");t.setAttribute("xo-name",`${e}-${Date.now()}`)}))}let $n=0;function In(t){$n=t}function Nn(){return $n}function On(t){return t.options.xoSyncId?Array.from(document.querySelectorAll(`${Ae.Carousel}[xo-sync-id="${t.options.xoSyncId}"]`)).map((t=>t.xoName)):[t.xoName]}let Dn=0;const qn=class extends HTMLElement{constructor(){super(),n(this,"unsubscribe",(()=>{})),n(this,"xoName"),n(this,"_options"),n(this,"prevActiveIndex",-1),n(this,"prevPaginationProgress",0),n(this,"animated1",ft()),n(this,"animated2",ft()),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoName","xoActiveIndex","xoPerView","xoPerMove","xoGap","xoSpeed","xoEasing","xoOverflow","xoVertical","xoAutoplay","xoHoverPause","xoRewind","xoRtl","xoBreakpoints","xoRenderBullet","xoAutoheight","xoType","xoLoop","xoColumnWidth","xoSnake","xoStopAutoplayOnInteraction","xoProgress","xoSyncId","xoDragable"],types:{xoName:"string",xoActiveIndex:"number",xoPerView:"number",xoPerMove:"number",xoGap:"number",xoSpeed:"number",xoEasing:"string",xoOverflow:"string",xoVertical:"boolean",xoAutoplay:"number",xoHoverPause:"boolean",xoRewind:"boolean",xoRtl:"boolean",xoBreakpoints:"object",xoRenderBullet:"string",xoAutoheight:"boolean",xoType:"string",xoLoop:"boolean",xoColumnWidth:"number",xoSnake:"boolean",xoStopAutoplayOnInteraction:"boolean",xoProgress:"boolean",xoSyncId:"string",xoDragable:"boolean"}}),"xoSections"==={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_BUILD_MODE&&(this.options={...this.options,xoAutoplay:0,xoLoop:!1})})),n(this,"setOptionsForStore",(()=>{var t,e,i,n,s;const{xoBreakpoints:o,xoPerView:r,xoPerMove:a,xoGap:l,xoOverflow:c,xoType:h,xoColumnWidth:u,xoSnake:d,xoVertical:p}=this.options,m=ee(o),x="slide"===h,g=!!this.querySelector(Ae.CarouselThumbnail),v=this.querySelector(Ae.CarouselInner);let b={...this.options,xoPerView:x?null!=(t=null==m?void 0:m.perView)?t:r:1,xoPerMove:x?null!=(e=null==m?void 0:m.perMove)?e:Math.min(a,r):1,xoGap:x?null!=(i=null==m?void 0:m.gap)?i:l:0,xoAutoheight:!x||this.options.xoAutoheight,xoOverflow:null!=(n=null==m?void 0:m.overflow)?n:c,xoVertical:null!=(s=null==m?void 0:m.vertical)?s:p,xoRewind:this.options.xoRewind,xoLoop:!g&&this.options.xoLoop};if(b.xoPerView&&b.xoLoop&&v&&v.querySelectorAll(`${Ae.CarouselSlide}:not([xo-cloned]), [${Ae.CarouselSlide}]:not([xo-cloned])`).length<=b.xoPerView&&(b={...b,xoLoop:!1}),u){const t=this.hasAttribute("xo-per-view"),e=Math.floor((this.offsetWidth+l)/(u+l)),i=t?Math.min(r,e):e;b={...b,xoPerView:i,xoPerMove:Math.min(i,a)}}d&&(b={...b,xoPerMove:b.xoPerView}),function(t,e){Ze.set("xo-carousel",(i=>({...i,[t]:{...i[t],options:e}})))}(this.xoName,b),this.style.setProperty("--xo-per-view",`${b.xoPerView}`),this.style.setProperty("--xo-gap",`${b.xoGap}px`),this.style.setProperty("--xo-speed",`${b.xoSpeed}ms`);let f=0;b.xoLoop&&"slide"===b.xoType&&(f=4*b.xoPerView),v&&(function(t,e){Ze.set("xo-carousel",(i=>({...i,[t]:{...i[t],slideLength:e}})))}(this.xoName,v.querySelectorAll(`${Ae.CarouselSlide}:not([xo-cloned]), [${Ae.CarouselSlide}]:not([xo-cloned])`).length+f),"visible"===b.xoOverflow?v.style.overflow="visible":v.style.overflow="hidden"),Cn(On(this),this.options.xoActiveIndex+(b.xoLoop&&"slide"===b.xoType?2*r:0),!0)})),n(this,"beautyBreakpoints",(()=>{const t=this.getAttribute("xo-breakpoints");t&&this.setAttribute("xo-breakpoints",t.replace(/\s+/g," ").trim())})),n(this,"init",(()=>{this.setOptionsForStore(),((t,e)=>{t.dispatchEvent(new CustomEvent("xo:carousel:init",{bubbles:!1,detail:e}))})(this,this.options)})),n(this,"handleResize",St((t=>{for(let e of t){const t=e.contentRect.width,i=e.contentRect.height;t!==this.prevWidth&&(this.init(),this.prevWidth=t,Tn(this,t,i))}}),Mn)),Dn++,this.setOptions(),this.options.xoName?this.xoName=this.options.xoName:this.xoName=`carousel-${Dn}`}static get observedAttributes(){return["xo-observed"]}get options(){return{...qn.defaultOptions,...this._options}}set options(t){this._options=t}connectedCallback(){this.setOptions(),"xoSections"==={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_BUILD_MODE&&this.options.xoName&&(this.xoName=this.options.xoName),this.init(),this.beautyBreakpoints(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this),this.unsubscribe=kn(this.xoName,(({options:t,slideLength:e,activeIndex:i})=>{if(this.prevActiveIndex!==i){const n=t.xoLoop&&"slide"===t.xoType?e-4*t.xoPerView:e,s=t.xoLoop&&"slide"===t.xoType?Math.min(Math.max(i-2*t.xoPerView,0),n-t.xoPerView):i,o=Ht({value:s,inputRange:[0,n-t.xoPerView],outputRange:[0,100]});this.animated1.off(),this.animated1({from:this.prevPaginationProgress,to:o,duration:100===this.prevPaginationProgress&&0===o?0:t.xoSpeed,onUpdate:t=>{this.style.setProperty("--xo-pagination-progress",`${t}%`)},onEnd:()=>{this.prevPaginationProgress=o}}),t.xoAutoplay&&t.xoProgress&&(this.animated2.off(),this.animated2({from:0,to:100,duration:t.xoAutoplay,onUpdate:t=>{this.style.setProperty("--xo-autoplay-progress",`${t}%`)}})),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{activeIndex:s}})),this.prevActiveIndex=i}}))}async attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(await gt(50),this.setOptions(),this.setOptionsForStore(),pt(Array.from(this.querySelectorAll(Ae.CarouselList)),(t=>{t.closest(Ae.CarouselThumbnail)||t.setAttribute("xo-observed",i)})))}disconnectedCallback(){var t;this.unsubscribe(),this.animated1.off(),this.animated2.off(),null==(t=this.resizeObserver)||t.disconnect(),(t=>{t.dispatchEvent(new CustomEvent("xo:carousel:destroy",{bubbles:!1}))})(this)}};let Fn=qn;n(Fn,"defaultOptions",{xoName:"",xoActiveIndex:0,xoPerView:1,xoPerMove:1,xoGap:20,xoSpeed:200,xoEasing:"easeOutQuad",xoOverflow:"hidden",xoVertical:!1,xoAutoplay:0,xoHoverPause:!1,xoRewind:!1,xoRtl:"rtl"===getComputedStyle(document.documentElement).direction,xoRenderBullet:"<span></span>",xoBreakpoints:{},xoAutoheight:!1,xoType:"slide",xoLoop:!1,xoColumnWidth:0,xoSnake:!1,xoStopAutoplayOnInteraction:!1,xoProgress:!1,xoSyncId:"",xoDragable:!0});const Hn=class extends HTMLElement{constructor(){super(...arguments),n(this,"_options"),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoPerView","xoPerMove","xoGap","xoBreakpoints","xoVertical"],types:{xoPerView:"number",xoPerMove:"number",xoGap:"number",xoBreakpoints:"object",xoVertical:"boolean"}})})),n(this,"setOptionsForStore",(async()=>{var t,e,i,n;const{xoBreakpoints:s,xoPerView:o,xoPerMove:r,xoGap:a,xoVertical:l}=this.options,c=ee(s),h={...this.options,xoPerView:null!=(t=null==c?void 0:c.perView)?t:o,xoPerMove:null!=(e=null==c?void 0:c.perMove)?e:Math.min(r,o),xoGap:null!=(i=null==c?void 0:c.gap)?i:a,xoVertical:null!=(n=null==c?void 0:c.vertical)?n:l};this.style.setProperty("--xo-per-view",`${h.xoPerView}`),this.style.setProperty("--xo-gap",`${h.xoGap}px`),await gt(50);const u=this.getProviderElement();if(u){const{xoName:t}=u;!function(t,e){Ze.set("xo-carousel",(i=>({...i,[t]:{...i[t],thumbnailOptions:e}})))}(t,h)}})),n(this,"handleResize",St((t=>{for(let e of t){const t=e.contentRect.width;t!==this.prevWidth&&(this.setOptionsForStore(),this.prevWidth=t)}}),Mn))}static get observedAttributes(){return["xo-observed"]}getProviderElement(){return this.closest(Ae.Carousel)}get options(){return{...Hn.defaultOptions,...this._options}}set options(t){this._options=t}async connectedCallback(){this.setOptions(),this.setOptionsForStore(),await gt(50);const t=this.getProviderElement();!t||(this.prevWidth=t.clientWidth,this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(t))}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(this.setOptions(),this.setOptionsForStore())}disconnectedCallback(){var t;null==(t=this.resizeObserver)||t.disconnect()}};let Rn=Hn;n(Rn,"defaultOptions",{xoPerView:5,xoPerMove:1,xoGap:10,xoBreakpoints:{},xoVertical:!1});const Vn="idle",Bn="target",zn="lock";class _n extends HTMLElement{constructor(){super(...arguments),n(this,"isThumbMoving",!1),n(this,"unsubscribe",(()=>{})),n(this,"animated",ft()),n(this,"thumbAnimated",ft()),n(this,"snakeAnimated",ft()),n(this,"prevTranslate",0),n(this,"prevThumbTranslate",0),n(this,"axis",Vn),n(this,"pan",null),n(this,"thumbPan",null),n(this,"dEnd",0),n(this,"prevDx",null),n(this,"prevDy",null),n(this,"prevThumbDx",null),n(this,"prevThumbDy",null),n(this,"isMove",!1),n(this,"timeoutId",-1),n(this,"anchorEls",[]),n(this,"_options"),n(this,"initialized",!1),n(this,"autoPlayStart",Date.now()),n(this,"autoPlayNext",Date.now()),n(this,"tempStop",!1),n(this,"prevScrollY",-1),n(this,"startClientX",0),n(this,"isNextForSnake",!1),n(this,"isSnakeUpdated",!1),n(this,"resizeObserver",null),n(this,"intersectionObserver",null),n(this,"prevWidth",0),n(this,"wheelEndTimeId",-1),n(this,"wheelStarting",!1),n(this,"isHorizontalSwipeState"),n(this,"prevActiveIndex",null),n(this,"setOptions",(()=>{const{options:t,thumbnailOptions:e}=Pn(this.providerElement.xoName);this.isThumbnail?this.options={...t,...e}:this.options=t})),n(this,"withRtl",(t=>this.options.xoRtl?-1*t:t)),n(this,"setTranslate",(t=>{if(this.providerElement&&!isNaN(t)){const{xoType:e,xoVertical:i}=this.options;"slide"===e&&(this.style.transform=i?`translate3d(0, ${t}px, 0)`:`translate3d(${this.withRtl(t)}px, 0, 0)`)}})),n(this,"handleSlide",(t=>{if(!this.providerElement)return;const{options:e,activeIndex:i}=this,{slideLength:n}=Pn(this.providerElement.xoName),s=this.isThumbnail?n:n-e.xoPerView,o=this.isThumbnail?Math.floor(e.xoPerView/2):0,r=this.isThumbnail?e.xoPerView-o:0,a=this.isThumbnail?ht(i,o,s-r):i;if(a<=s-r){const r=this.isThumbnail?ht(a-o,0,s):i,l=n>e.xoPerView?-r*this.slideSize:0;"slide"===e.xoType&&this.animated({from:this.isThumbnail?this.prevThumbTranslate:this.prevTranslate,to:l,duration:t,easing:Pt[e.xoEasing],onUpdate:this.setTranslate,onEnd:t=>{if(this.pan&&(e.xoVertical?this.pan.setValue({dy:t}):this.pan.setValue({dx:this.withRtl(t)})),this.thumbPan&&(e.xoVertical?this.thumbPan.setValue({dy:t}):this.thumbPan.setValue({dx:this.withRtl(t)})),this.isThumbnail?this.prevThumbTranslate=t:this.prevTranslate=t,e.xoLoop){const t=r-2*e.xoPerView,i=On(this.providerElement);t<=-1*e.xoPerView?Cn(i,s-(2*e.xoPerView+-1*e.xoPerView-t),!1):t>=s-3*e.xoPerView&&Cn(i,2*e.xoPerView+t-(s-3*e.xoPerView),!1)}}}),this.handleActiveSlide(r)}})),n(this,"handleSnake",(()=>{const{activeIndex:t,options:e}=Pn(this.providerElement.xoName),{xoSpeed:i,xoEasing:n,xoPerView:s}=e;this.snakeAnimated({from:0,to:1,duration:i,easing:Pt[n],onUpdate:e=>{const i=Ht({value:e,inputRange:[0,.5,1],outputRange:[0,15,0]});this.style.gap=`${i}rem`,this.isNextForSnake?this.style.marginLeft=`-${i*t}rem`:this.style.marginLeft=`-${i*(t+s-1)}rem`,this.isSnakeUpdated=!0},onEnd:()=>{this.isSnakeUpdated=!1}})})),n(this,"listener",(()=>{if(this.initialized){const{xoSpeed:t,xoSnake:e,xoPerView:i,xoLoop:n,xoType:s}=this.options,{useAnimated:o}=Pn(this.providerElement.xoName);if(this.autoPlayStart=Date.now(),this.handleSlide(o?t:0),!this.isSnakeUpdated&&e&&this.handleSnake(),this.providerElement){const t=n&&"slide"===s?this.activeIndex-2*i:this.activeIndex;null!=this.prevActiveIndex&&t!==this.prevActiveIndex&&((t,e)=>{t.dispatchEvent(new CustomEvent("xo:carousel:change",{bubbles:!1,detail:{activeIndex:e}}))})(this.providerElement,t),this.prevActiveIndex=t}}})),n(this,"rubberBandClamp",(t=>{const{slideLength:e}=Pn(this.providerElement.xoName),i=this.slideSize*e;return Qt(this.getContainerSize()-i,0,t,.2)})),n(this,"lockScroll",(t=>(null==this.isHorizontalSwipeState&&(this.isHorizontalSwipeState=t),!Vt||this.isHorizontalSwipeState))),n(this,"panMove",(({dx:t,dy:e,vx:i,vy:n,isHorizontalSwipe:s},o)=>{if(o.target.closest("model-viewer"))return;const{options:r}=this;if(!r.xoVertical){if(!this.lockScroll(s))return;o.preventDefault()}if(this.isMove=!0,null==this.prevDx&&(this.prevDx=-this.slideSize*this.activeIndex),null==this.prevDy&&(this.prevDy=0),r.xoVertical?this.axis=Bn:Vt?this.axis===Vn&&(Math.abs(t-this.prevDx)>2.5*Math.abs(e-this.prevDy)?this.axis=Bn:this.axis=zn):this.axis=Bn,this.axis===Bn){Vt&&window.scrollY!==this.prevScrollY&&-1!==this.prevScrollY&&this.panEnd({dx:t,dy:e,vx:i,vy:n},o);const s=r.xoVertical?e:this.withRtl(t),a=this.rubberBandClamp(s);r.xoSnake?this.isNextForSnake=!0:this.setTranslate(a),this.prevTranslate=a}else Vt&&this.style.removeProperty("touch-action")})),n(this,"magnet",((t,e,i,n,s)=>ht(Math.round(t+(s?n:-n)),e,i))),n(this,"panEnd",((t,e)=>{if(!this.providerElement)return;const{options:i}=this;if(i.xoSnake){const t=e instanceof MouseEvent?e.clientX:e.changedTouches[0].clientX;this.isNextForSnake=this.startClientX>=t;const n=On(this.providerElement);this.isNextForSnake?wn(n,i.xoPerMove):Sn(n,i.xoPerMove)}else{const{d:e,v:n}=this.getDxy(t),{slideLength:s,activeIndex:o}=Pn(this.providerElement.xoName),r=this.slideSize*s,a=s-i.xoPerView,l=i.xoPerView>2?i.xoPerView:1,c=0===n?e:this.dEnd>e?e-n*l:e+n*l,h=(i.xoVertical?t.vy:t.vx)<0,u=(()=>"slide"===i.xoType?this.magnet(Ht({value:c,inputRange:[0,-r],outputRange:[0,s]}),0,a,.4,this.dEnd>e):i.xoLoop?ae(h?o+1:o-1,0,a):ht(h?o+1:o-1,0,a))();if(this.axis===Bn&&Cn(On(this.providerElement),u,!0),u>0&&u<=a){if(this.pan)if(this.axis===Bn){if(i.xoVertical){const t=-u*this.slideSize;this.pan.setValue({dx:0,dy:t}),this.dEnd=t,this.prevDx=0,this.prevDy=t}else{const t=this.withRtl(-u*this.slideSize);this.pan.setValue({dx:t,dy:0}),this.dEnd=t,this.prevDx=t,this.prevDy=0}this.handleAutoPlay()}else this.pan.setValue({dx:this.prevDx,dy:this.prevDy})}else 0===u?this.pan&&(this.pan.setValue({dx:0,dy:0}),this.dEnd=0,this.prevDx=0,this.prevDy=0,this.handleAutoPlay()):this.animated({from:this.prevTranslate,to:-(s-i.xoPerView)*this.slideSize,duration:i.xoSpeed,easing:Pt[i.xoEasing],onUpdate:t=>{this.handlePause(),this.setTranslate(t)},onEnd:t=>{this.pan&&(i.xoVertical?(this.pan.setValue({dx:0,dy:t}),this.dEnd=t,this.prevDx=0,this.prevDy=t):(this.pan.setValue({dx:this.withRtl(t),dy:0}),this.dEnd=this.withRtl(t),this.prevDx=this.withRtl(t),this.prevDy=0),this.handleAutoPlay()),this.prevTranslate=t}});this.axis=Vn,clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.style.removeProperty("touch-action")}),300),this.prevScrollY=window.scrollY}})),n(this,"thumbPanMove",(({dx:t,dy:e,vx:i,vy:n,isHorizontalSwipe:s},o)=>{var r,a;const{options:l}=this;if(!l.xoVertical){if(!this.lockScroll(s))return;o.preventDefault()}const{slideLength:c}=Pn(this.providerElement.xoName);if(null==this.prevThumbDx&&(this.prevThumbDx=-this.slideSize*this.activeIndex),null==this.prevThumbDy&&(this.prevThumbDy=0),l.xoVertical?this.axis=Bn:Vt?this.axis===Vn&&(Math.abs(t-this.prevThumbDx)>2.5*Math.abs(e-this.prevThumbDy)?this.axis=Bn:this.axis=zn):this.axis=Bn,this.axis===Bn){this.isThumbMoving=!0,Vt&&window.scrollY!==this.prevScrollY&&this.thumbPanEnd({dx:t,dy:e,vx:i,vy:n});const s=ht(l.xoVertical?e:this.withRtl(t),-this.slideSize*(c-l.xoPerView),0);this.setTranslate(s),l.xoVertical?null==(r=this.thumbPan)||r.setValue({dx:0,dy:s}):null==(a=this.thumbPan)||a.setValue({dx:s,dy:0}),this.prevThumbTranslate=s}})),n(this,"thumbPanEnd",(({vx:t,vy:e})=>{const{options:i}=this,{slideLength:n}=Pn(this.providerElement.xoName),s=i.xoVertical?e:this.withRtl(t);this.thumbAnimated({from:this.prevThumbTranslate,to:this.prevThumbTranslate+10*s,duration:i.xoSpeed,easing:Pt.easeOutQuad,onUpdate:t=>{if(this.isThumbMoving){const e=ht(t,-this.slideSize*(n-i.xoPerView),0);this.setTranslate(e)}},onEnd:t=>{const e=ht(t,-this.slideSize*(n-i.xoPerView),0);this.thumbPan&&this.isThumbMoving&&(i.xoVertical?(this.thumbPan.setValue({dx:0,dy:e}),this.prevThumbDx=0,this.prevThumbDy=e):(this.thumbPan.setValue({dx:e,dy:0}),this.prevThumbDx=this.withRtl(e),this.prevThumbDy=0)),this.axis=Vn,clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.style.removeProperty("touch-action")}),300),this.isThumbMoving&&(this.prevThumbTranslate=e),this.isThumbMoving=!1,this.prevScrollY=window.scrollY}}),this.isHorizontalSwipeState=void 0})),n(this,"frameAutoPlay",(()=>{if(this.providerElement&&!this.isThumbnail){const t=On(this.providerElement),{options:e}=this;this.tempStop?this.autoPlayStart=Date.now():(this.autoPlayNext=Date.now(),this.autoPlayNext-this.autoPlayStart>=e.xoAutoplay&&(wn(t,e.xoPerMove),this.autoPlayStart=Date.now()))}})),n(this,"removeFrameAutoPlay",(()=>{Lt.remove(this.frameAutoPlay)})),n(this,"handlePause",(()=>{this.autoPlayNext=Date.now(),this.tempStop=!0})),n(this,"handlePauseHover",(()=>{const{options:t}=this;t.xoHoverPause&&this.handlePause()})),n(this,"handleAutoPlay",(()=>{this.tempStop=!1})),n(this,"handleActiveSlide",(t=>{let e=-1,i=0;const{options:n,activeIndex:s}=this,{slideLength:o}=Pn(this.providerElement.xoName),r=n.xoLoop&&"slide"===n.xoType?s-2*n.xoPerView:s,a=this.isThumbnail&&null!=t?t:r;pt(Array.from(this.children),(async s=>{if((s.tagName.toLowerCase()===Ae.CarouselSlide||s.hasAttribute(Ae.CarouselSlide))&&!rt(s,"xo-cloned"))if(e++,s.index=e,s.setAttribute("aria-label",`${e+1} / ${n.xoLoop&&"slide"===n.xoType?o-4*n.xoPerView:o}`),s.setAttribute("role","tabpanel"),at(s,"xo-active",r===e),e>=a&&e<a+n.xoPerView)if(at(s,"xo-visible",!0),n.xoAutoheight){if(s.children[0]instanceof HTMLElement){t||await gt(500);const e=function(t){const e=t.offsetHeight,i=getComputedStyle(t),n=parseInt(i.marginTop||"0",10),s=parseInt(i.marginBottom||"0",10),{boxShadow:o}=window.getComputedStyle(t),[r,a,l]=o.split(" ").reverse();return e+n+s+(parseInt(a||"0",10)+parseInt(l||"0",10))}(s.children[0]);if(i<e){i=e;const t=this.closest(Ae.CarouselInner),s=null==t?void 0:t.closest(Ae.CarouselThumbnail);t&&!s&&(t.style.height=`${i}px`,t.style.transition=`height ${n.xoSpeed}ms`)}}}else{const t=this.closest(Ae.CarouselInner);t&&!n.xoVertical&&t.style.removeProperty("height")}else at(s,"xo-visible",!1)}))})),n(this,"setContainerSize",(()=>{this.parentElement&&function(t,e,i){Ze.set("xo-carousel",(n=>({...n,[t]:{...n[t],containerWidth:e,containerHeight:i}})))}(this.providerElement.xoName,this.parentElement.offsetWidth,this.parentElement.offsetHeight)})),n(this,"handleResize",St((t=>{for(let e of t){const t=e.contentRect.width;t!==this.prevWidth&&(this.disconnectedCallback(),this.connectedCallback(),this.prevWidth=t)}}),Mn)),n(this,"handleWindowResize",St(ie("x",(()=>{Cn(On(this.providerElement),0,!1)})),Mn)),n(this,"handleIntersection",(t=>{for(const e of t)e.isIntersecting&&this.handleActiveSlide()})),n(this,"handleAnchor",(t=>{this.isMove&&t.preventDefault()})),n(this,"bindAnchor",(()=>{this.anchorEls=Array.from(this.querySelectorAll("a")),pt(this.anchorEls,(t=>{t.addEventListener("click",this.handleAnchor)}))})),n(this,"handleLoop",(()=>{const{xoPerView:t,xoLoop:e,xoType:i}=this.options;!e||"slide"===i&&function(t,e){const i=Array.from(t.children),n=[...i.slice(0,2*e),...i.slice(0,2*e)],s=[...i.slice(2*-e),...i.slice(2*-e)];pt(n,((i,n)=>{const s=i.tagName.toLowerCase()===Ae.CarouselSlide||i.hasAttribute(Ae.CarouselSlide);if(n<2*e&&s){const e=i.cloneNode(!0);e.removeAttribute("xo-active"),e.removeAttribute("xo-visible"),Ge(e),at(e,"xo-cloned",!0),Ln(e),t.appendChild(e)}})),pt(s,((n,o)=>{const r=n.tagName.toLowerCase()===Ae.CarouselSlide||n.hasAttribute(Ae.CarouselSlide);if(o>=s.length-2*e&&r){const e=n.cloneNode(!0);e.removeAttribute("xo-active"),e.removeAttribute("xo-visible"),Ge(e),at(e,"xo-cloned",!0),Ln(e),t.insertBefore(e,i[0])}}))}(this,t)})),n(this,"removeSlideCloned",(()=>{pt(Array.from(this.children),(t=>{(t.tagName.toLowerCase()===Ae.CarouselSlide||t.hasAttribute(Ae.CarouselSlide))&&rt(t,"xo-cloned")&&this.removeChild(t)}))})),n(this,"handleSlideClick",(()=>{this.options.xoStopAutoplayOnInteraction&&this.removeFrameAutoPlay()})),n(this,"handleWheel",(t=>{const{xoPerView:e,xoVertical:i}=this.options;if(!i){if(!this.wheelStarting&&Math.abs(t.deltaX)>Math.abs(t.deltaY)){const i=On(this.providerElement);t.deltaX>0?wn(i,e):Sn(i,e)}this.wheelStarting=!0,clearTimeout(this.wheelEndTimeId),this.wheelEndTimeId=window.setTimeout((()=>{this.wheelStarting=!1}),50)}})),n(this,"reset",(()=>{var t,e,i,n;this.unsubscribe(),this.removeFrameAutoPlay(),this.removeSlideCloned(),null==(t=this.pan)||t.destroy(),null==(e=this.thumbPan)||e.destroy(),clearTimeout(this.timeoutId),clearTimeout(this.wheelEndTimeId),this.animated.off(),this.snakeAnimated.off(),null==(i=this.resizeObserver)||i.disconnect(),null==(n=this.intersectionObserver)||n.disconnect(),this.providerElement&&(this.providerElement.removeEventListener("click",this.handleSlideClick),this.providerElement.removeEventListener("mouseenter",this.handlePauseHover),this.providerElement.removeEventListener("mouseleave",this.handleAutoPlay),this.providerElement.removeEventListener("touchstart",this.handlePauseHover),this.providerElement.removeEventListener("touchend",this.handleAutoPlay),this.providerElement.removeEventListener("wheel",this.handleWheel)),pt(this.anchorEls,(t=>{t.removeEventListener("click",this.handleAnchor)})),Vt||window.removeEventListener("resize",this.handleWindowResize)}))}get providerElement(){return this.closest(Ae.Carousel)}static get observedAttributes(){return["xo-observed"]}get slideSize(){const{slideLength:t}=Pn(this.providerElement.xoName);return this.options.xoVertical?this.scrollHeight/t:this.scrollWidth/t}getContainerSize(){const{containerWidth:t,containerHeight:e}=Pn(this.providerElement.xoName);return this.options.xoVertical?e:t}get isThumbnail(){return!!this.closest(Ae.CarouselThumbnail)}get options(){return this._options}set options(t){this._options=t}get activeIndex(){const{activeIndex:t,thumbnailActiveIndex:e}=Pn(this.providerElement.xoName);return this.isThumbnail?e:t}getDxy({dx:t,dy:e,vx:i,vy:n}){return this.options.xoVertical?{d:e,v:Math.abs(n)}:{d:this.withRtl(t),v:Math.abs(i)}}async connectedCallback(){if(await gt(100),!this.providerElement)return;this.reset(),this.setOptions(),this.handleLoop(),this.setContainerSize(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.providerElement),Vt||window.addEventListener("resize",this.handleWindowResize),this.providerElement.addEventListener("click",this.handleSlideClick);const{options:t}=this;if(t.xoAutoheight&&(this.intersectionObserver=new IntersectionObserver(this.handleIntersection),this.intersectionObserver.observe(this)),this.handleSlide(0),this.isThumbnail)this.thumbPan=Wt({element:this,onStart:()=>{this.style.touchAction="none"},onMove:this.thumbPanMove,onEnd:this.thumbPanEnd});else{const{slideLength:e}=Pn(this.providerElement.xoName);if(e<=t.xoPerView&&!this.isThumbnail)return;this.pan=Wt({element:this,onStart:t=>{t.target.closest("model-viewer")||(this.isMove=!1,this.autoPlayStart=Date.now(),this.tempStop=!0,this.startClientX=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,this.style.touchAction="none")},onMove:t.xoSnake||!t.xoDragable?void 0:this.panMove,onEnd:(t,e)=>{const i=e.target.closest(Ae.CarouselNext),n=e.target.closest(Ae.CarouselPrev);i||n||e.target.closest("model-viewer")||(this.panEnd(t,e),this.isHorizontalSwipeState=void 0)}})}t.xoAutoplay&&Lt.add(this.frameAutoPlay,!0),this.handleActiveSlide(),this.bindAnchor(),this.unsubscribe=kn(this.providerElement.xoName,this.listener),this.providerElement.addEventListener("mouseenter",this.handlePauseHover),this.providerElement.addEventListener("mouseleave",this.handleAutoPlay),Vt&&(this.providerElement.addEventListener("touchstart",this.handlePauseHover),this.providerElement.addEventListener("touchend",this.handleAutoPlay)),this.providerElement.addEventListener("wheel",this.handleWheel),at(this.providerElement,"xo-initialized",!0),this.initialized=!0}async attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(await gt(100),this.connectedCallback())}disconnectedCallback(){this.reset()}}class Wn{constructor(t){n(this,"el"),n(this,"unsubscribe",(()=>{})),n(this,"handleClick",(()=>{const{index:t}=this.el,e=this.el.closest(Ae.CarouselList);null!=e&&e.isThumbMoving||Cn(On(this.providerElement),t,!0)})),this.el=t}get providerElement(){return this.el.closest(Ae.Carousel)}get isThumbnail(){return!!this.el.closest(Ae.CarouselThumbnail)}mount(){var t;!this.providerElement||(null==(t=this.el.parentElement)?void 0:t.tagName.toLowerCase())===Ae.CarouselList&&(at(this.el,"xo-carousel-slide",!0),this.isThumbnail&&(-1===this.el.tabIndex&&(this.el.tabIndex=0),Vt?this.el.addEventListener("touchend",this.handleClick):this.el.addEventListener("click",this.handleClick)))}unmount(){!this.providerElement||(this.unsubscribe(),this.isThumbnail&&(Vt?this.el.removeEventListener("touchend",this.handleClick):this.el.removeEventListener("click",this.handleClick)))}}class Un extends HTMLElement{constructor(){super(...arguments),n(this,"carouselItem",null),n(this,"index",0)}connectedCallback(){this.carouselItem=new Wn(this),this.carouselItem.mount()}disconnectedCallback(){var t;null==(t=this.carouselItem)||t.unmount()}}class Yn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"setAttrDisabled",(({options:t,activeIndex:e,slideLength:i})=>{t.xoLoop||(t.xoRewind||e!==i-t.xoPerView?at(this,"xo-disabled",!1):at(this,"xo-disabled",!0)),i<=t.xoPerView?at(this,"xo-hide",!0):at(this,"xo-hide",!1)})),n(this,"listener",(t=>{this.setAttrDisabled(t)})),n(this,"nextSlide",(t=>{var e;if(!this.providerElement)return;this.closest("a")&&t.preventDefault();const{options:i}=Pn(this.providerElement.xoName),n=Date.now();if(!(n-Nn()<i.xoSpeed+100)&&(In(n),wn(On(this.providerElement),i.xoPerMove),i.xoSnake)){const t=null==(e=this.providerElement)?void 0:e.querySelector(Ae.CarouselList);t&&(t.isNextForSnake=!0)}}))}get providerElement(){return this.closest(Ae.Carousel)}async connectedCallback(){var t;if(null!=(t=window.xbEditor)&&t.designMode&&await gt(100),!this.providerElement)return;const e=Pn(this.providerElement.xoName);this.setAttrDisabled(e),this.addEventListener("click",this.nextSlide),this.unsubscribe=kn(this.providerElement.xoName,this.listener)}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.nextSlide)}}class Gn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"setAttrDisabled",(({options:t,activeIndex:e,slideLength:i})=>{t.xoLoop||(t.xoRewind||0!==e?at(this,"xo-disabled",!1):at(this,"xo-disabled",!0)),i<=t.xoPerView?at(this,"xo-hide",!0):at(this,"xo-hide",!1)})),n(this,"listener",(t=>{this.setAttrDisabled(t)})),n(this,"prevSlide",(t=>{var e;if(!this.providerElement)return;this.closest("a")&&t.preventDefault();const{options:i}=Pn(this.providerElement.xoName),n=Date.now();if(!(n-Nn()<i.xoSpeed+100)&&(In(n),Sn(On(this.providerElement),i.xoPerMove),i.xoSnake)){const t=null==(e=this.providerElement)?void 0:e.querySelector(Ae.CarouselList);t&&(t.isNextForSnake=!1)}}))}get providerElement(){return this.closest(Ae.Carousel)}async connectedCallback(){var t;if(null!=(t=window.xbEditor)&&t.designMode&&await gt(100),!this.providerElement)return;const e=Pn(this.providerElement.xoName);this.setAttrDisabled(e),this.addEventListener("click",this.prevSlide),this.unsubscribe=kn(this.providerElement.xoName,this.listener)}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.prevSlide)}}class jn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(t=>{this.renderBullet(t.slideLength,t.options)})),n(this,"renderBullet",((t,e)=>{const i=e.xoLoop&&"slide"===e.xoType?t-4*e.xoPerView:t,n=Array(Math.ceil(i/e.xoPerView)).fill(0);i<=e.xoPerView?this.innerHTML="":this.innerHTML=Tt(n,((t,i)=>`\n        <${Ae.CarouselBullet} xo-index="${i}" xo-page="${i+1}" role="button" tabindex="0" aria-label="Bullet ${i+1}">\n          ${e.xoRenderBullet}\n        </${Ae.CarouselBullet}>\n      `)).join("")}))}get providerElement(){return this.closest(Ae.Carousel)}async connectedCallback(){if(await gt(100),!this.providerElement)return;const t=Pn(this.providerElement.xoName);this.renderBullet(t.slideLength,t.options),this.unsubscribe=kn(this.providerElement.xoName,this.listener,((t,e)=>{var i,n;return kt(null==(i=t[this.providerElement.xoName])?void 0:i.options,null==(n=e[this.providerElement.xoName])?void 0:n.options)})),this.dispatchEvent(new CustomEvent("xo:carousel:pagination:connected",{bubbles:!0}))}disconnectedCallback(){this.unsubscribe()}}let Xn=0;class Qn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"circleEl",null),n(this,"listener",(t=>{this.handler(t)})),n(this,"handler",(async({activeIndex:t,options:e,slideLength:i})=>{var n;const s=Number(null!=(n=this.getAttribute("xo-index"))?n:0),o=e.xoLoop&&"slide"===e.xoType?i-4*e.xoPerView:i,r=e.xoLoop&&"slide"===e.xoType?Math.min(t-2*e.xoPerView,o-e.xoPerView):t,a=Math.ceil(r/e.xoPerView);await gt(0),s===a?(at(this,"xo-active",!0),Ai.animate(this.getCircleBarName(),{duration:e.xoAutoplay,value:100})):(at(this,"xo-active",!1),Ai.animate(this.getCircleBarName(),{duration:e.xoAutoplay,value:0}))})),n(this,"handleClick",(()=>{var t,e;const i=this.getProviderElement(),{options:n,slideLength:s,activeIndex:o}=Pn(i.xoName),r=Date.now();if(r-Xn<n.xoSpeed+200)return;Xn=r;const a=s%n.xoPerView,l=n.xoLoop&&"slide"===n.xoType?2*n.xoPerView:0,c=Number(null!=(t=this.getAttribute("xo-index"))?t:0)*n.xoPerView+l;let h=ht(c,l,s-1-(1===n.xoPerView?0:n.xoPerView-a));const u=null==(e=this.getProviderElement())?void 0:e.querySelector(Ae.CarouselList);Cn(On(i),c,!0),n.xoSnake&&u&&(u.isNextForSnake=h>o)})),n(this,"getCircleBarName",(()=>this.getProviderElement()?`${this.getProviderElement().xoName}-${this.getAttribute("xo-index")}`:"")),n(this,"handleCircleBar",(()=>{this.circleEl=this.querySelector(Ae.CircleBar),this.circleEl&&this.circleEl.setAttribute("xo-name",this.getCircleBarName())}))}getProviderElement(){return this.closest(Ae.Carousel)}connectedCallback(){const t=this.getProviderElement();if(!t)return;const e=Pn(t.xoName);this.handler(e),this.handleCircleBar(),this.addEventListener("click",this.handleClick),this.unsubscribe=kn(t.xoName,this.listener)}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.handleClick)}}class Zn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(({options:t,slideLength:e})=>{t.xoLoop?this.innerText=""+(e-4*t.xoPerView):this.innerText=`${e}`}))}get providerElement(){return this.closest(Ae.Carousel)}connectedCallback(){!this.providerElement||(this.unsubscribe=kn(this.providerElement.xoName,this.listener))}disconnectedCallback(){this.unsubscribe()}}class Kn extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(({options:t,activeIndex:e,slideLength:i})=>{const n=t.xoLoop&&"slide"===t.xoType?i-4*t.xoPerView:i,s=t.xoLoop&&"slide"===t.xoType?Math.min(e-2*t.xoPerView,n-t.xoPerView):e,o=Math.ceil(s/t.xoPerView);this.innerText=`${o+1}`}))}get providerElement(){return this.closest(Ae.Carousel)}connectedCallback(){!this.providerElement||(this.unsubscribe=kn(this.providerElement.xoName,this.listener))}disconnectedCallback(){this.unsubscribe()}}let Jn=(d=class extends le{constructor(){super(...arguments),n(this,"carouselEls",[]),n(this,"handleCarouselChange",(t=>{const{xoIndex:e}=this.props,{activeIndex:i}=t.detail;this.setProps({xoActive:e===i})})),n(this,"handleChange",(t=>{t.preventDefault(),pt(this.carouselEls,(t=>{Cn([t.xoName],this.props.xoIndex,!0)}))}))}mount(){var t;const{xoType:e,xoCarouselSelector:i}=this.props,n=null!=(t=this.closest(".shopify-section"))?t:document;this.carouselEls=Array.from(n.querySelectorAll(i)),this.addEventListener("click"===e?"click":"mouseenter",this.handleChange),pt(this.carouselEls,(t=>{t.addEventListener("xo:carousel:change",this.handleCarouselChange)}))}unmount(){const{xoType:t}=this.props;this.removeEventListener("click"===t?"click":"mouseenter",this.handleChange),pt(this.carouselEls,(t=>{t.removeEventListener("xo:carousel:change",this.handleCarouselChange)}))}},n(d,"propTypes",{xoIndex:"number",xoType:"string",xoCarouselSelector:"string",xoActive:"boolean"}),n(d,"defaultProps",{xoIndex:0,xoType:"click",xoCarouselSelector:"xo-carousel",xoActive:!1}),d);Jn=Yi([ce(Ae.CarouselTrigger)],Jn);const ts="--xo-size";let es=(p=class extends le{constructor(){super(...arguments),n(this,"paginationEl",this.querySelector(Ae.CarouselPagination)),n(this,"unsubscribe",(()=>{})),n(this,"handlePaginationConnected",(()=>{const{xoPerView:t}=this.props,e=Math.min(t,5),i=this.querySelector(Ae.CarouselBullet);if(!i)return;const n=i.offsetWidth*e;this.style.width=`${n}px`})),n(this,"listener",(async t=>{const{xoPerView:e}=this.props,{xoSpeed:i}=this.providerElement.options,n=this.querySelector(`${Ae.CarouselBullet}[xo-index="${t.activeIndex}"]`);if(!n)return;const s=Math.min(e,5),o=s%2==1?s-1:s,r=n.offsetWidth*o/2,a=t.activeIndex>=Math.floor(s/2),l=t.activeIndex<=t.slideLength-Math.round(s/2);a&&l&&(this.paginationEl.style.transition=`transform ${i}ms`,this.paginationEl.style.transform=`translateX(${r-(null==n?void 0:n.offsetLeft)}px)`);const c=oe(t.activeIndex-o,t.activeIndex+s),h=oe(-o,s).map((t=>(t=-1===Math.sign(t)?t:-t,Math.trunc(100*(t/s+1))/100)));pt(Array.from(this.querySelectorAll(Ae.CarouselBullet)),(t=>{t.style.removeProperty(ts)})),pt(c,(t=>{var e;const i=this.querySelector(`${Ae.CarouselBullet}[xo-index="${t}"]`),n=Ht({value:t,inputRange:c,outputRange:h});null==(e=null==i?void 0:i.style)||e.setProperty(ts,`${n}`)}))}))}get providerElement(){return this.closest(Ae.Carousel)}async mount(){!this.paginationEl||!this.providerElement||(this.style.opacity="1",await gt(),this.style.removeProperty("opacity"),this.paginationEl.addEventListener("xo:carousel:pagination:connected",this.handlePaginationConnected),this.listener(Pn(this.providerElement.xoName)),this.unsubscribe=kn(this.providerElement.xoName,this.listener))}unmount(){var t;null==(t=this.paginationEl)||t.removeEventListener("xo:carousel:pagination:connected",this.handlePaginationConnected),this.unsubscribe()}},n(p,"propTypes",{xoPerView:"number"}),n(p,"defaultProps",{xoPerView:5}),p);es=Yi([ce(Ae.CarouselDynamicBullets)],es),Ze.create("xo-carousel",{initialState:{},useDeepEqual:!0}),window.xoCarousel=An;const is=An;function ns(){Ze.set("xo-filters",(t=>{const{formData:e}=t,i=Array.from(ps(e)),n=Mt(Array.from(i),((t,[e,i])=>""===i||null==i?t:[...t,{name:e,value:i}]),[]);return{...t,refine:n}}))("xo-filters/setRefine")}function ss(t,e,i){Ze.set("xo-filters",(n=>{const{formData:s}=n;return s.set(t,e),i||s.delete("page"),{...n,formData:s}}))("xo-filters/updateFormDataItem")}function os(t,e){const i=null!=e;Ze.set("xo-filters",(n=>{const{formData:s}=n;s.delete("page");const o=Mt(Array.from(ps(s)),((n,[s,o])=>{if(i){if(s===t&&o===e)return n}else if(s===t)return n;return n.append(s,o),n}),new FormData);return{...n,formData:o}}))("xo-filters/removeFormDataItem")}function rs(t,e){const i=null!=e;Ze.set("xo-filters",(n=>({...n,refine:vt(n.refine,(n=>i?!(n.name===t&&n.value===e):n.name!==t))})))("xo-filters/removeRefineItem")}xt({[Ae.Carousel]:Fn,[Ae.CarouselThumbnail]:Rn,[Ae.CarouselSlide]:Un,[Ae.CarouselNext]:Yn,[Ae.CarouselPrev]:Gn,[Ae.CarouselList]:_n,[Ae.CarouselPagination]:jn,[Ae.CarouselBullet]:Qn,[Ae.CarouselSize]:Zn,[Ae.CarouselPage]:Kn});const as=new Map;async function ls(t){as.size>10&&as.delete(as.keys().next().value);try{if(Ze.set("xo-filters",(t=>({...t,status:"request"})))("xo-filters/getHtml/request"),as.has(t))await gt(10),Ze.set("xo-filters",(e=>({...e,status:"success",html:as.get(t),prevHtml:e.html})))("xo-filters/getHtml/success");else{const e=await(await fetch(t)).text();as.set(t,e),Ze.set("xo-filters",(t=>({...t,status:"success",html:e,prevHtml:t.html})))("xo-filters/getHtml/success")}}catch{Ze.set("xo-filters",(t=>({...t,status:"failure"})))("xo-filters/getHtml/failure")}}function cs(){return Ze.get("xo-filters")}function hs(t,e){return Ze.subscribe("xo-filters",t,e)}const us={sort:"sort_by",page:"page",price:"['filter.v.price.gte', 'filter.v.price.lte']"};function ds(t,e){if(!t)return!1;const i=t.tagName.toLowerCase();return"input"===i?t.getAttribute("type")===e:i===e}function ps(t){var e,i;if(!t.get("filter.v.price.gte"))return t;const n=null!=(e=Number(t.get("filter.v.price.gte")))?e:0,s=null!=(i=Number(t.get("filter.v.price.lte")))?i:0;return t.delete("filter.v.price.gte"),t.delete("filter.v.price.lte"),t.set(us.price,`[${n}, ${s}]`),t}function ms(t){if(!t.get(us.price))return t;const e=t.get(us.price);t.delete(us.price);const[i,n]=Ot(e);return t.set("filter.v.price.gte",String(i)),t.set("filter.v.price.lte",String(n)),t}async function xs(){const{formData:t,sectionId:e}=cs(),i=new URL(window.location.href.replace(window.location.search,""));i.search=jt(ms(t)),await ls(e?i.href.includes("?")?`${i.href}&section_id=${e}`:`${i.href}?section_id=${e}`:i.href),i.href!==window.location.href&&window.history.pushState(null,"",i.href)}function gs(t,e){var i,n,s;const o=document.documentElement.getAttribute("xo-money-format"),r=null!=(s=null!=(n=null==(i=t.closest(Ae.Filters))?void 0:i.getAttribute("xo-money-format"))?n:t.getAttribute("xo-money-format"))?s:"";return o?o.replace(/\{\{\s*(\w+)\s*\}\}/g,`${e}`):r.replace(/{.*}|(\d+(,|\.)?)+/g,`${e}`)}const vs=class extends HTMLElement{constructor(){super(),n(this,"inputEl1",null),n(this,"inputEl2",null),n(this,"trackEl",null),n(this,"thumbEl1",null),n(this,"thumbEl2",null),n(this,"progressEl",null),n(this,"priceEls",[]),n(this,"valueEls",[]),n(this,"initialized",!1),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"_value",[0,100]),n(this,"min",0),n(this,"max",100),n(this,"createChildComponent",(t=>document.createElement(t))),n(this,"createRange",((t,e)=>{const{xoName:i,xoMin:n,xoMax:s,xoStep:o,xoValue:r}=this.options,a=document.createElement("input");return a.type="range",a.name=`${i}`,a.min=`${n}`,a.max=`${s}`,a.step=`${o}`,a.value=`${r[t]}`,a.setAttribute("aria-label",e),a.addEventListener("input",this.handleInput),a.addEventListener("click",this.handleInput),a.addEventListener("mouseup",this.handleChangeEnd),a.addEventListener("touchend",this.handleChangeEnd),a})),n(this,"handleInput",(t=>{var e,i,n,s;const o=null!=(i=Number(null==(e=this.inputEl1)?void 0:e.value))?i:0,r=null!=(s=Number(null==(n=this.inputEl2)?void 0:n.value))?s:0;this.inputEl1&&t.target===this.inputEl1&&o>=r?this.inputEl1.value=`${r}`:this.inputEl2&&t.target===this.inputEl2&&r<=o?this.inputEl2.value=`${o}`:(this.setAttribute("xo-value",`[${o}, ${r}]`),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{value:[o,r]}})))})),n(this,"handler",(([t,e])=>{if(!(this.inputEl1&&this.inputEl2&&this.thumbEl1&&this.thumbEl2&&this.progressEl))return;const{xoMin:i,xoMax:n,xoName:s,xoComponentName:o}=this.options;this.inputEl1.setAttribute("value",`${t}`),this.inputEl1.value=`${t}`,this.inputEl2.setAttribute("value",`${e}`),this.inputEl2.value=`${e}`,this.inputEl1.setAttribute("name",`${s[0]}`),this.inputEl2.setAttribute("name",`${s[1]}`),pt(this.priceEls,(i=>{i.getAttribute("xo-component-name")===o&&("min"===i.getAttribute("xo-type")?i.innerHTML=gs(i,t):"max"===i.getAttribute("xo-type")&&(i.innerHTML=gs(i,e)))})),pt(this.valueEls,(i=>{i.getAttribute("xo-component-name")===o&&("min"===i.getAttribute("xo-type")?(i.setAttribute("value",`${t}`),i.value=`${t}`):"max"===i.getAttribute("xo-type")&&(i.setAttribute("value",`${e}`),i.value=`${e}`))}));const r=Ht({value:t,inputRange:[i,n],outputRange:[0,this.offsetWidth-this.thumbEl1.offsetWidth]}),a=Ht({value:e,inputRange:[i,n],outputRange:[0,this.offsetWidth-this.thumbEl2.offsetWidth]});this.thumbEl1.style.transform=`translateX(${r}px)`,this.thumbEl2.style.transform=`translateX(${a}px)`,this.progressEl.style.transform=`translateX(${r}px)`,this.progressEl.style.width=a-r+"px"})),n(this,"handleValueInput",(t=>{const e=t.currentTarget,i=Number(e.value);if(null!==i){if("min"===e.getAttribute("xo-type")){const t=e.value?Math.min(i,this.value[1]-10):0;this.value=[t,this.value[1]]}else if("max"===e.getAttribute("xo-type")){const t=e.value?Math.max(i,this.value[0]+10):0;this.value=[this.value[0],t]}this.handleChangeEnd()}})),n(this,"handleChangeEnd",(()=>{this.dispatchEvent(new CustomEvent("changed",{bubbles:!0,detail:{value:this.value}}))})),n(this,"setSize",(()=>{this.style.setProperty("--size",`${this.thumbEl1.offsetHeight}`)})),this.innerHTML=""}get options(){const t=qt(this,{pick:["xoComponentName","xoName","xoMin","xoMax","xoStep","xoValue"],types:{xoComponentName:"string",xoName:"array",xoMin:"number",xoMax:"number",xoStep:"number",xoValue:"array"}});return{...vs.defaultOptions,...t}}get value(){return this._value}set value(t){this._value=t,this.setAttribute("xo-value",`[${t[0]}, ${t[1]}]`)}static get observedAttributes(){return["xo-value","xo-observed"]}async connectedCallback(){const{xoValue:t,xoMin:e,xoMax:i,xoComponentName:n}=this.options;this.innerHTML="",this.inputEl1=this.appendChild(this.createRange(0,"Min")),this.inputEl2=this.appendChild(this.createRange(1,"Max")),this.trackEl=this.appendChild(this.createChildComponent(Ae.RangeTrack)),this.thumbEl1=this.appendChild(this.createChildComponent(Ae.RangeThumb)),this.thumbEl2=this.appendChild(this.createChildComponent(Ae.RangeThumb)),this.progressEl=this.trackEl.appendChild(this.createChildComponent(Ae.RangeProgress)),await gt(0),this.thumbEl1.setAttribute("xo-index","0"),this.thumbEl2.setAttribute("xo-index","1"),this.value=t,this.setSize(),this.min=e,this.max=i,this.priceEls=Array.from(document.querySelectorAll(`${Ae.RangePrice}[xo-component-name=${n}]`)),this.valueEls=Array.from(document.querySelectorAll(`input[xo-component-name=${n}]`)),this.handler(this.value),pt(this.valueEls,(t=>{t.getAttribute("xo-component-name")===n&&t.addEventListener("input",this.handleValueInput)})),this.resizeObserver=new ResizeObserver((t=>{for(let e of t){const t=e.contentRect.width;t!==this.prevWidth&&(this.setSize(),this.handler(this.value),this.prevWidth=t)}})),this.resizeObserver.observe(this)}attributeChangedCallback(t,e,i){if((null!=e&&null!=i||"xo-observed"===t)&&e!==i){const t=Ot(i);this.value=t,this.handler(t),this.initialized&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{value:t}})),this.initialized=!0}}disconnectedCallback(){var t;!this.inputEl1||!this.inputEl2||(this.inputEl1.removeEventListener("input",this.handleInput),this.inputEl2.removeEventListener("input",this.handleInput),this.inputEl1.removeEventListener("mouseup",this.handleChangeEnd),this.inputEl2.removeEventListener("mouseup",this.handleChangeEnd),this.inputEl1.removeEventListener("touchend",this.handleChangeEnd),this.inputEl2.removeEventListener("touchend",this.handleChangeEnd),this.inputEl1.removeEventListener("click",this.handleInput),this.inputEl2.removeEventListener("click",this.handleInput),pt(this.valueEls,(t=>{t.removeEventListener("input",this.handleValueInput)})),null==(t=this.resizeObserver)||t.disconnect())}};let bs=vs;n(bs,"defaultOptions",{xoComponentName:"xo-range",xoName:["",""],xoMin:0,xoMax:100,xoStep:1,xoValue:[0,100]}),xt({[Ae.Range]:bs});const fs=wt()`
  ${Ae.StickyInner} {
    position: relative;
  }
  ${Ae.StickyInner}[xo-is-sticky] {
    position: fixed;
    left: 0;
    right: 0;
    z-index: 1000;
    transition: all 0.3s;
    backface-visibility: hidden;
  }
  ${Ae.StickyInner}[xo-lock] {
    transform: translateY(0) !important;
  }
  ${Ae.StickyContent} {
    display: block;
  }
  ${Ae.StickyInner}[xo-hidden] {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }
`;function ys(t){const e=Ze.get("xo-sticky");return"top"===t?e.topNodes:e.bottomNodes}function Es(t){return"top"===t?"topNodes":"bottomNodes"}function ws(t,e,i){Ze.set("xo-sticky",(n=>{const s=ys(i);return{...n,[Es(i)]:Tt(s,(i=>i.element===t?{...i,isSticky:e}:i))}}))}function Ss(t,e,i){Ze.set("xo-sticky",(n=>{const s=ys(i);return{...n,[Es(i)]:Tt(s,(i=>i.element===t?{...i,directionDownHide:e}:i))}}))}const Cs=new Map;function Ps(t,e){var i;const n=ys(e),s=At(n,(e=>e.element===t)),o=Mt(vt(n,((t,e)=>e<s&&t.isSticky)),((t,e)=>t+e.height),0);return Cs.set(t,o),null!=(i=Cs.get(t))?i:0}function ks(t,e){const i=ys(e),n=At(i,(e=>e.element===t));return Mt(i,((t,e,i)=>i<n&&"up"===e.direction&&e.isSticky?t+e.height:t),0)}function As(t){return Mt(ys(t),((t,e)=>e.directionDownHide?t:e.isSticky?t+e.height:t),0)}function Ts(t,e){return Ze.subscribe("xo-sticky",t,e)}const Ms=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"frameId",-1),n(this,"shadow",null),n(this,"innerEl"),n(this,"contentEl"),n(this,"prevScrollY",window.scrollY),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoDirection","xoPlacement","xoDisabled","xoName"],types:{xoDirection:"string",xoPlacement:"string",xoDisabled:"boolean",xoName:"string"}})})),n(this,"addSticky",(()=>{const{xoPlacement:t}=this.options,e=Ps(this.contentEl,t);at(this.innerEl,"xo-is-sticky",!0),"top"===t?this.innerEl.style.top=`${e}px`:this.innerEl.style.bottom=`${e}px`})),n(this,"removeStick",(()=>{const{xoPlacement:t}=this.options;at(this.innerEl,"xo-is-sticky",!1),"top"===t?this.innerEl.style.removeProperty("top"):this.innerEl.style.removeProperty("bottom")})),n(this,"handleStickyTop",(()=>{const{xoDirection:t}=this.options,e=Ps(this.contentEl,"top"),i=ks(this.contentEl,"top"),{top:n}=this.getBoundingClientRect(),s=window.scrollY<this.prevScrollY,o=this.contentEl.offsetHeight;"up"===t?s?(n<e-o?(this.addSticky(),ws(this.contentEl,!0,"top"),Ss(this.contentEl,!1,"top"),at(this,"xo-is-sticky",!0)):n>=e&&(this.removeStick(),ws(this.contentEl,!1,"top"),Ss(this.contentEl,!0,"top"),at(this,"xo-is-sticky",!1)),this.innerEl.style.transform="translateY(0px)"):(n<e-o&&(this.innerEl.style.transform=`translateY(-${o+e}px)`),Ss(this.contentEl,!0,"top")):(n<e-i?(this.addSticky(),ws(this.contentEl,!0,"top"),at(this,"xo-is-sticky",!0)):n>=e&&(this.removeStick(),ws(this.contentEl,!1,"top"),at(this,"xo-is-sticky",!1)),this.innerEl.style.transform=s?"translateY(0px)":`translateY(-${i}px)`)})),n(this,"handleStickyBottom",(()=>{const{xoDirection:t}=this.options,e=Ps(this.contentEl,"bottom"),i=ks(this.contentEl,"bottom"),{top:n}=this.getBoundingClientRect(),s=window.scrollY<this.prevScrollY,o=this.contentEl.offsetHeight,r=n-window.innerHeight+o;"up"===t?(r<e-i+o?(this.addSticky(),ws(this.contentEl,!0,"bottom"),Ss(this.contentEl,!1,"bottom"),this.innerEl.style.transform="translateY(0px)",s&&at(this,"xo-is-sticky",!0)):r>=e+o&&(ws(this.contentEl,!1,"bottom"),Ss(this.contentEl,!0,"bottom"),this.innerEl.style.transform=`translateY(${o+e}px)`,at(this,"xo-is-sticky",!1)),s||(this.innerEl.style.transform=`translateY(${o+e}px)`,Ss(this.contentEl,!0,"bottom"))):(r<e-i?(this.addSticky(),ws(this.contentEl,!0,"bottom"),at(this,"xo-is-sticky",!0)):r>=e&&(this.removeStick(),ws(this.contentEl,!1,"bottom"),at(this,"xo-is-sticky",!1)),this.innerEl.style.transform=s?"translateY(0px)":`translateY(${i}px)`)})),n(this,"handleHidden",(()=>{const{xoName:t}=this.options,e=document.querySelector(`${Ae.StickyHidden}[xo-name="${t}"]`);if(e){const{top:t}=e.getBoundingClientRect();at(this.innerEl,"xo-hidden",t<window.innerHeight)}})),n(this,"handler",(()=>{this.frameId=requestAnimationFrame((()=>{const{xoPlacement:t}=this.options,e=this.contentEl.offsetHeight;this.contentEl.style.height=`${e}px`,this.innerEl.style.height=`${e}px`,"top"===t?this.handleStickyTop():this.handleStickyBottom(),this.handleHidden(),this.prevScrollY=window.scrollY}))})),n(this,"render",(()=>{const{cssText:t}=fs;return`\n      <style>${t}</style>\n      <${Ae.StickyInner} part="inner">\n        <${Ae.StickyContent} part="content"><slot></slot></${Ae.StickyContent}>\n      </${Ae.StickyInner}>\n    `})),n(this,"init",(async()=>{const{xoDirection:t,xoPlacement:e}=this.options;this.shadow=this.shadow||this.attachShadow({mode:"open"}),this.shadow.innerHTML||(this.shadow.innerHTML=this.render()),this.innerEl=this.shadow.querySelector(Ae.StickyInner),this.contentEl=this.shadow.querySelector(Ae.StickyContent),await gt(100),function(t,e,i){Ze.set("xo-sticky",(n=>{const s=ys(i),o=s.find((e=>e.element===t)),r={element:t,height:t.offsetHeight,isSticky:!1,direction:e,directionDownHide:!1},a=o?s:"top"===i?[...s,r]:[r,...s];return{...n,[Es(i)]:a}}))}(this.contentEl,t,e),"top"===e&&(this.style.height=`${this.contentEl.offsetHeight}px`),this.handler(),window.addEventListener("scroll",this.handler),window.addEventListener("resize",this.handler)}))}get options(){return{...Ms.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed","xo-direction","xo-placement"]}connectedCallback(){this.setOptions();const{xoDisabled:t}=this.options;t||(this.init(),this.unsubscribe=Ze.subscribe("xo-popover",(t=>{const e=Bt(t.data).find((t=>t.isOpen)),i=!(null==e||!e.isOpen),n=null==e?void 0:e.triggerElement;(null==n?void 0:n.closest(Ae.Sticky))?at(this.innerEl,"xo-lock",i&&!!this.innerEl):at(this.innerEl,"xo-lock",!1)})))}disconnectedCallback(){const{xoPlacement:t}=this.options;this.innerEl&&(this.innerEl.style.removeProperty("height"),this.innerEl.style.removeProperty("transform"),this.innerEl.style.removeProperty("top"),this.innerEl.style.removeProperty("bottom")),this.contentEl&&this.contentEl.style.removeProperty("height"),this.style.removeProperty("height"),at(this,"xo-is-sticky",!1),this.innerEl&&at(this.innerEl,"xo-is-sticky",!1),window.removeEventListener("scroll",this.handler),window.removeEventListener("resize",this.handler),cancelAnimationFrame(this.frameId),this.contentEl&&function(t,e){Ze.set("xo-sticky",(i=>{const n=vt(ys(e),(e=>e.element!==t));return{...i,[Es(e)]:n}}))}(this.contentEl,t),this.unsubscribe()}async attributeChangedCallback(t,e,i){e!==i&&(this.disconnectedCallback(),await gt(100),this.connectedCallback())}};let Ls=Ms;n(Ls,"defaultOptions",{xoDirection:"up",xoPlacement:"top",xoDisabled:!1,xoName:""});const $s=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",null),n(this,"prevStickyHeight",0)}get options(){const t=qt(this,{pick:["xoPlacement"],types:{xoPlacement:"string"}});return{...$s.defaultOptions,...t}}connectedCallback(){const{xoPlacement:t}=this.options;this.unsubscribe=Ts((()=>{const e=As(t);this.prevStickyHeight!==e&&(this.style.height=`${e}px`,this.prevStickyHeight=e)}))}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this)}};let Is=$s;n(Is,"defaultOptions",{xoPlacement:"top"}),Ze.create("xo-sticky",{initialState:{topNodes:[],bottomNodes:[]}});const Ns={subscribe:Ts,getStickyHeight:As,getNodes:ys};window.xoSticky=Ns,xt({[Ae.Sticky]:Ls,[Ae.StickySpace]:Is});const Os=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"unsubscribe2",(()=>{})),n(this,"timeId",-1),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoScrollTop","xoSectionId"],types:{xoScrollTop:"boolean",xoSectionId:"string"}})})),n(this,"getStickyHeight",(()=>Mt(Ns.getNodes("top"),((t,e)=>t+e.height),0))),n(this,"listener",(async()=>{const{xoScrollTop:t}=this.options;if(await gt(100),t){const t=document.querySelector(Ae.FiltersTop);t?window.scrollY>zt(t).top&&window.scrollTo({top:zt(t).top-this.getStickyHeight(),behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})}})),n(this,"listener2",(()=>{const{status:t}=cs();"request"===t?at(this,"xo-loading",!0):"success"===t&&at(this,"xo-loading",!1)})),n(this,"handlePopState",(async t=>{t.preventDefault();const{search:e}=window.location,i=Gt(e),n=new FormData;pt(i,(([t,e])=>{n.append(t,e)})),function(t){const e=t instanceof FormData?t:new FormData(t);Ze.set("xo-filters",(t=>(Number(e.get("filter.v.price.gte"))===t.priceMin&&Number(e.get("filter.v.price.lte"))===t.priceMax&&(e.delete("filter.v.price.gte"),e.delete("filter.v.price.lte")),{...t,formData:ps(e)})))("xo-filters/setFormData")}(n),await ls(window.location.href),ns()})),n(this,"setDefaultFieldsFromParams",(()=>{const{search:t}=window.location,e=Gt(t),i=new FormData;pt(e,(([t,e])=>{i.append(t,e)}));const n=ps(i);pt(Gt(n),(([t,e])=>{pt(Array.from(this.querySelectorAll(`${Ae.FiltersField} [name="${t}"], ${Ae.FiltersField} xo-range[xo-name="${us.price}"]`)),(i=>{if(i)if((ds(i,"checkbox")||ds(i,"radio"))&&t===i.getAttribute("name")){const i=this.querySelector(`[name='${t}'][value='${e}']`);i.checked=!0,ds(i,"radio")&&pt(Array.from(this.querySelectorAll(Ae.FiltersSortBySelected)),(t=>{var n;i.name===us.sort&&(t.textContent=null!=(n=i.getAttribute("xo-label"))?n:e)}))}else if(ds(i,"xo-range")&&t===i.getAttribute("xo-name")){const[t,n]=Ot(e);i.setAttribute("xo-value",`[${t}, ${n}]`),i.value=[t,n]}else i instanceof HTMLSelectElement&&(i.value=e)}))}))}))}get options(){return{...Os.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}async connectedCallback(){this.setOptions(),this.timeId=window.setTimeout((()=>{(function(){const t=new URL(window.location.href),e=Gt(t.search),i=new FormData;pt(e,(([t,e])=>{i.append(t,e)})),Ze.set("xo-filters",(t=>(Number(i.get("filter.v.price.gte"))===t.priceMin&&Number(i.get("filter.v.price.lte"))===t.priceMax&&(i.delete("filter.v.price.gte"),i.delete("filter.v.price.lte")),{...t,formData:ps(i)})))("xo-filters/setDefaultFormData")})(),this.setDefaultFieldsFromParams(),ns(),function(){const{formData:t}=cs(),e=new URL(window.location.href.replace(window.location.search,""));e.search=jt(ms(t)),e.href!==window.location.href&&window.history.pushState(null,"",e.href)}(),function(t){Ze.set("xo-filters",(e=>({...e,sectionId:t})))("xo-filters/setSectionId")}(this.options.xoSectionId),clearTimeout(this.timeId)}),50),window.addEventListener("popstate",this.handlePopState),this.unsubscribe=hs(this.listener,((t,e)=>!(null!=t&&(null==t?void 0:t.html)!==(null==e?void 0:e.html)&&null!=t||null!=t&&!kt(null==t?void 0:t.refine,null==e?void 0:e.refine)))),this.unsubscribe2=hs(this.listener2,((t,e)=>(null==t?void 0:t.status)===(null==e?void 0:e.status)))}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&this.setOptions()}disconnectedCallback(){this.unsubscribe(),this.unsubscribe2(),window.removeEventListener("popstate",this.handlePopState),clearTimeout(this.timeId)}};let Ds=Os;n(Ds,"defaultOptions",{xoScrollTop:!0,xoSectionId:""});class qs extends HTMLElement{constructor(){super(...arguments),n(this,"handleInput",(async t=>{var e,i;const n=t.target;if(n instanceof HTMLInputElement&&"range"!==n.type)if(ds(n,"checkbox"))n.checked?function(t,e){Ze.set("xo-filters",(i=>{const{formData:n}=i;return n.append(t,e),{...i,formData:n}}))("xo-filters/pushFormDataItem")}(n.name,n.value):os(n.name,n.value);else{const t=document.querySelector(Ae.Filters);if(t&&ds(n,"radio")){const e=n.closest(Ae.Popover),i=null==e?void 0:e.getAttribute("xo-name"),s=document.querySelector(`${Ae.PopoverTrigger}[xo-name="${i}"]`);pt(Array.from((null!=s?s:t).querySelectorAll(Ae.FiltersSortBySelected)),(t=>{var e;n.name===us.sort&&(t.textContent=null!=(e=n.getAttribute("xo-label"))?e:n.value)})),n.name===us.sort&&e&&i&&Ri.close(i)}ss(n.name,n.value)}else if(n instanceof HTMLSelectElement)ss(n.name,n.value);else if(ds(n,"xo-range")){const[t,s]=n.value,o=null!=(e=Number(n.getAttribute("xo-min")))?e:0,r=null!=(i=Number(n.getAttribute("xo-max")))?i:0;t===o&&s===r?os(us.price):ss(us.price,`[${t}, ${s}]`)}const s=Gt(window.location.search,!0);s.page&&ss("page",s.page),xs(),ns()})),n(this,"handleRange",St(this.handleInput)),n(this,"handler",(t=>{var e,i;!t||(ds(t,"xo-range")?(function(t,e){Ze.set("xo-filters",(i=>({...i,priceMin:t,priceMax:e})))("xo-filters/setPriceMinMax")}(null!=(e=Number(t.getAttribute("xo-min")))?e:0,null!=(i=Number(t.getAttribute("xo-max")))?i:0),t.addEventListener("changed",this.handleRange)):t.addEventListener("change",this.handleInput))}))}connectedCallback(){!function(t){if(1!==t.children.length&&!/input|select|xo-range/g.test(t.children[0].tagName.toLowerCase()))throw new Error(`${Ae.FiltersField}: field must have one child and it must be an input, select or ${Ae.Range}`)}(this),pt(Array.from(this.querySelectorAll("input, select, xo-range")),this.handler)}disconnectedCallback(){pt(Array.from(this.querySelectorAll("input, select, xo-range")),(t=>{ds(t,"xo-range")?t.removeEventListener("change",this.handleRange):t.removeEventListener("change",this.handleInput)}))}}const Fs=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(()=>{const{refine:t,priceMin:e,priceMax:i}=cs(),{xoName:n,xoClearAll:s}=this.options;if(s){const e=!!vt(t,(t=>/filter./g.test(t.name))).length;at(this,"xo-visible",e)}else at(this,"xo-visible",!1);pt(t,(t=>{if(t.name.includes("filter.v.price.")||t.name!==n){if(t.name.includes("filter.v.price.")&&n.includes("filter.v.price.")){const[n,s]=Ot(t.value);(n!==e||s!==i)&&at(this,"xo-visible",!0)}}else at(this,"xo-visible",!0)}))})),n(this,"resetFields",(()=>{const{xoName:t,xoValue:e,xoClearAll:i}=this.options;let n=Array.from(document.querySelectorAll(`${Ae.FiltersField} input[type="radio"][name="${t}"]${e?`[value="${ni(e)}"]`:""}, ${Ae.FiltersField} input[type="checkbox"][name="${t}"]${e?`[value="${ni(e)}"]`:""}, ${Ae.FiltersField} xo-range[xo-name="${t}"], ${Ae.FiltersField} select[name="${t}"]`));i&&(n=Array.from(document.querySelectorAll(`${Ae.FiltersField} input[type="radio"], ${Ae.FiltersField} input[type="checkbox"], ${Ae.FiltersField} xo-range, ${Ae.FiltersField} select`))),pt(n,(t=>{if(t&&ds(t,"checkbox")||ds(t,"radio"))t.removeAttribute("checked"),t.checked=!1;else if(ds(t,"xo-range"))t.value=[t.min,t.max];else if(ds(t,"select")){const e=t.querySelector("option");t.value=(null==e?void 0:e.value)||""}}))})),n(this,"handleClick",(async()=>{const{xoName:t,xoValue:e,xoClearAll:i}=this.options;i?Ze.set("xo-filters",(t=>{const{formData:e}=t,i=e.get("q"),n=new FormData;return i&&n.append("q",i),{...t,refine:[],formData:n}}))("xo-filters/removeAllRefineAndFormData"):(rs(t,e),os(t,e),t.includes("filter.v.price.")&&(rs(us.price),os(us.price))),await xs(),this.resetFields()}))}get options(){const t=qt(this,{pick:["xoName","xoValue","xoClearAll"],types:{xoName:"string",xoValue:"string",xoClearAll:"boolean"}});return{...Fs.defaultOptions,...t}}connectedCallback(){this.addEventListener("click",this.handleClick),this.unsubscribe=hs(this.listener)}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.handleClick)}};let Hs=Fs;n(Hs,"defaultOptions",{xoName:"",xoClearAll:!1});class Rs extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"childEls",[]),n(this,"setEmpty",(()=>{const{refine:t}=cs(),e=!vt(t,(t=>/filter./g.test(t.name))).length;at(this,"xo-empty",e)})),n(this,"render",(()=>{const{refine:t}=cs();return Tt(t,(t=>{var e,i,n;if(!/filter./g.test(t.name))return"";const s=document.querySelector(`${Ae.FiltersField} input[type="radio"][name="${t.name}"][value="${ni(t.value)}"], ${Ae.FiltersField} input[type="checkbox"][name="${t.name}"][value="${t.value}"], ${Ae.FiltersField} xo-range[xo-name="${t.name}"]`),o=t.name.includes("filter.v.price.")?Tt(Ot(t.value),(t=>gs(this,t))).join(" - "):null!=(e=null==s?void 0:s.getAttribute("xo-label"))?e:"",r=null!=(n=null==(i=this.querySelector(Ae.FiltersRefineClearIcon))?void 0:i.innerHTML)?n:"<span>&times;</span>";return`\n        <${Ae.FiltersClear} xo-name="${t.name}" xo-value="${t.value}" role="button" tabindex="0">\n          ${o} ${r}\n        </${Ae.FiltersClear}>\n      `}))})),n(this,"listener",(()=>{this.setEmpty(),this.innerHTML=this.render().join(""),pt(this.childEls,(t=>{this.appendChild(t)}))}))}connectedCallback(){0===this.childEls.length&&(this.childEls=Array.from(this.childNodes)),this.setEmpty(),this.unsubscribe=hs(this.listener)}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this)}}const Vs=new bt;class Bs extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"callback",null),n(this,"handleContent",(t=>{this.callback=t})),n(this,"listener",(()=>{const{html:t,prevHtml:e,status:i}=cs(),n=Array.from(this.closest(Ae.Filters).querySelectorAll(Ae.FiltersContent)).indexOf(this);if("success"===i&&t!==e){const e=(new DOMParser).parseFromString(t,"text/html"),i=Array.from(e.querySelectorAll(Ae.FiltersContent))[n];if(i){const t=i.cloneNode(!0);pt(Array.from(t.querySelectorAll('[xo-animate="scroll"]')),(t=>{t.setAttribute("xo-animate","none")})),this.callback?this.innerHTML=this.callback(t.innerHTML):this.innerHTML=t.innerHTML,Vs.emit("done",void 0),Ze.set("xo-filters",(t=>({...t,status:"idle"})))("xo-filters/resetStatus")}}}))}connectedCallback(){this.unsubscribe=hs(this.listener)}disconnectedCallback(){this.unsubscribe()}}class zs extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(()=>{const{status:t}=cs();"request"===t?at(this,"xo-visible",!0):"success"===t&&at(this,"xo-visible",!1)}))}connectedCallback(){this.unsubscribe=hs(this.listener,((t,e)=>t.status===e.status))}disconnectedCallback(){this.unsubscribe()}}const _s=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"queueId",-1),n(this,"listener",(()=>{(function(t){"cancelIdleCallback"in window?cancelIdleCallback(t):clearTimeout(t)})(this.queueId),this.queueId=function(t){let e=-1;return e="requestIdleCallback"in window&&"cancelIdleCallback"in window?requestIdleCallback((()=>{t(),cancelIdleCallback(e)})):setTimeout((()=>{t(),clearTimeout(e)}),0),e}((()=>{var t;const{xoUniqueId:e}=this.options,{html:i}=cs(),n=(new DOMParser).parseFromString(i,"text/html").querySelector(`${Ae.FiltersCount}[xo-unique-id="${e}"]`);if(n&&n.textContent&&this.textContent!==n.textContent){const e=null!=(t=Number(n.textContent.trim().replace(/\D*/g,"")))?t:0;this.textContent=n.textContent;const i=this.closest(Ae.FiltersField);i&&at(i,"xo-disabled",0===e)}}))}))}get options(){const t=qt(this,{pick:["xoUniqueId"],types:{xoUniqueId:"string"}});return{..._s.defaultOptions,...t}}connectedCallback(){const{xoUniqueId:t}=this.options,e=this.closest(Ae.FiltersField);if(!t)throw new Error(`${Ae.FiltersCount}: Attribute xo-unique-id is required (Note: xo-unique-id is unique)`);if(!e)throw new Error(`${Ae.FiltersCount} must be inside ${Ae.FiltersField}`);this.unsubscribe=hs(this.listener)}disconnectedCallback(){this.unsubscribe()}};let Ws=_s;n(Ws,"defaultOptions",{xoUniqueId:""});const Us=class extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"listener",(()=>{const{xoUniqueId:t}=this.options,{html:e}=cs(),i=(new DOMParser).parseFromString(e,"text/html").querySelector(`${Ae.FiltersActiveSize}[xo-unique-id="${t}"]`);i&&i.textContent&&(this.textContent=i.textContent)}))}get options(){const t=qt(this,{pick:["xoUniqueId"],types:{xoUniqueId:"string"}});return{...Us.defaultOptions,...t}}connectedCallback(){const{xoUniqueId:t}=this.options;if(!t)throw new Error(`${Ae.FiltersActiveSize}: Attribute xo-unique-id is required (Note: xo-unique-id is unique)`);this.unsubscribe=hs(this.listener)}disconnectedCallback(){this.unsubscribe()}};let Ys=Us;n(Ys,"defaultOptions",{xoUniqueId:""});class Gs extends HTMLElement{constructor(){super(),n(this,"unsubscribe",(()=>{})),n(this,"anchorEls"),n(this,"observer"),n(this,"handleClick",(t=>{t.preventDefault();const e=new URL(t.currentTarget.href);ss("page",Gt(e.search,!0).page,!0),xs(),ns()})),n(this,"listener",(()=>{const{html:t}=cs(),e=(new DOMParser).parseFromString(t,"text/html").querySelector(Ae.FiltersPaginate);e&&e.innerHTML&&(this.innerHTML=e.innerHTML)})),this.anchorEls=Array.from(this.querySelectorAll("a")),this.observer=new MutationObserver((()=>{this.anchorEls=Array.from(this.querySelectorAll("a")),pt(this.anchorEls,(t=>{t.removeEventListener("click",this.handleClick),t.addEventListener("click",this.handleClick)}))})),this.observer.observe(this,{childList:!0})}connectedCallback(){this.unsubscribe=hs(this.listener),pt(this.anchorEls,(t=>{t.removeEventListener("click",this.handleClick),t.addEventListener("click",this.handleClick)}))}disconnectedCallback(){this.unsubscribe(),this.observer.disconnect(),pt(this.anchorEls,(t=>{t.removeEventListener("click",this.handleClick)}))}}(function(){let t=0;const e=()=>{var t;const e="::disabled",i=document.querySelector(Ae.Filters),n=document.querySelector(Ae.FiltersMobile);if(i&&n){const s=Array.from(n.querySelectorAll(`${Ae.FiltersField} input[type="radio"]`)),o=Array.from(i.querySelectorAll(`${Ae.FiltersField} input[type="radio"]`)).filter((t=>!t.closest(Ae.FiltersMobile))),r=null!=(t=qt(n,{pick:["xoMobileMaxWidth"],types:{xoMobileMaxWidth:"number"}}).xoMobileMaxWidth)?t:767;window.innerWidth<=r||Vt?(pt(s,(t=>{const i=t.getAttribute("name");i&&(t.hasAttribute("checked")&&(t.checked=!0),t.setAttribute("name",i.replace(e,"")))})),pt(o,(t=>{const i=t.getAttribute("name");i&&!i.includes(e)&&(t.checked=!1,t.setAttribute("name",i+e))}))):(pt(o,(t=>{const i=t.getAttribute("name");i&&(t.hasAttribute("checked")&&(t.checked=!0),t.setAttribute("name",i.replace(e,"")))})),pt(s,(t=>{const i=t.getAttribute("name");i&&!i.includes(e)&&(t.checked=!1,t.setAttribute("name",i+e))})))}},i=St((i=>{for(let n of i){const i=n.contentRect.width;i!==t&&(e(),t=i)}}),300);e(),new ResizeObserver(i).observe(document.body)})(),Ze.create("xo-filters",{initialState:{fieldInfo:{},formData:new FormData,refine:[],status:"idle",html:"",prevHtml:"",priceMax:0,priceMin:0,sectionId:""}}),window.xoFilters=Vs,xt({[Ae.Filters]:Ds,[Ae.FiltersField]:qs,[Ae.FiltersClear]:Hs,[Ae.FiltersRefine]:Rs,[Ae.FiltersContent]:Bs,[Ae.FiltersFallback]:zs,[Ae.FiltersCount]:Ws,[Ae.FiltersActiveSize]:Ys,[Ae.FiltersPaginate]:Gs});const js='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#fff" x="0px" y="0px" width="18" viewBox="0 0 263.7 473.1" xml:space="preserve">\n  <path d="M244.5,473.1c-4.9,0-9.8-1.9-13.6-5.6L0,236.5L230.9,5.6c7.5-7.5,19.7-7.5,27.2,0c7.5,7.5,7.5,19.7,0,27.2L54.3,236.5 l203.7,203.7c7.5,7.5,7.5,19.7,0,27.2C254.3,471.2,249.4,473.1,244.5,473.1z"/>\n</svg>';let Xs=0;const Qs=class extends HTMLElement{constructor(){super(),n(this,"itemEls",[]),n(this,"portalEl",null),n(this,"portalContent"),n(this,"_options"),n(this,"setOptions",(()=>{this.options={...qt(this,{pick:["xoPortalType","xoAnimate","xoDuration","xoEasing","xoBackdropColor","xoSync","xoPortalClass"],types:{xoPortalType:"string",xoAnimate:"string",xoDuration:"number",xoEasing:"string",xoBackdropColor:"string",xoSync:"boolean",xoPortalClass:"string"}})}})),n(this,"renderPortal",((t,e)=>{const{xoAnimate:i,xoDuration:n,xoEasing:s,xoBackdropColor:o,xoPortalType:r}=this.options;t.setAttribute("xo-name",`${Xs}`),t.setAttribute("xo-index",`${e}`);const a=t.getAttribute("xo-intrinsic-width"),l=t.getAttribute("xo-src"),c=/\.(mp4|webm|ogg)$/i.test(l),h=a?Ft(l,{width:a}):l,u="carousel"===r?`<${Ae.ImageZoom} xo-zoom="1" xo-zoom-src="${h}" xo-zoom-full><img xo-cropped src="${l}" alt="" width="1000" height="1000"></${Ae.ImageZoom}>`:`<img src="${l}" alt="" width="1000" height="1000" loading="lazy">`,d=c?`<video src="${l}" controls title="Video" />`:u;return`\n      <${Ae.Modal} xo-video-autoplay="false" xo-portal="false" xo-name="${Xs}" xo-duration="${n}" xo-animate="${"scroll"===r&&i.includes("smart")?"zoom":i}" xo-easing="${s}" xo-backdrop-color="${o}" xo-backdrop-disabled="${"scroll"===r}">\n        ${"carousel"===r?`\n          <${Ae.ModalPan} xo-intentional-axis>\n            ${d}\n          </${Ae.ModalPan}>\n        `:d}\n      </${Ae.Modal}>\n    `})),n(this,"renderContent",(()=>{const{xoPortalType:t}=this.options;return`\n      ${this.portalContent}\n      ${"carousel"===t?`\n            <${Ae.GalleryPrev}>\n                ${js}\n              </${Ae.GalleryPrev}>\n              <${Ae.GalleryNext}>\n                ${js}\n              </${Ae.GalleryNext}>\n            <${Ae.GalleryCounter} xo-name="${Xs}"></${Ae.GalleryCounter}>\n            `:""}\n      <${Ae.ModalTrigger} xo-name="${Xs}">\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#fff"  width="18" x="0px" y="0px" viewBox="0 0 56.213 55.962" xml:space="preserve">\n  <path d="M48.82,53.907,27.483,32.572,6.146,53.907a3.6,3.6,0,0,1-5.091-5.09L22.393,27.481,1.055,6.145a3.6,3.6,0,0,1,5.09-5.09L27.483,22.391,48.82,1.055a3.6,3.6,0,0,1,5.09,5.09L32.573,27.482,53.911,48.818a3.6,3.6,0,1,1-5.09,5.09Z" transform="translate(0.747 0.5)"/>\n</svg>\n      </${Ae.ModalTrigger}>\n    `})),n(this,"handlePortal",(()=>{const{xoPortalClass:t,xoPortalType:e,xoBackdropColor:i}=this.options,n=document.querySelector(`${Ae.GalleryPortal}[xo-name="${Xs}"]`);n&&n.remove(),this.itemEls=Array.from(this.querySelectorAll(Ae.GalleryItem)),this.portalContent=Tt(this.itemEls,this.renderPortal).join(""),this.portalEl=document.createElement(Ae.GalleryPortal),this.portalEl.className=t,this.portalEl.setAttribute("xo-type",e),this.portalEl.style.setProperty("--xo-backdrop-color",i),this.portalEl.setAttribute("xo-name",`${Xs}`),this.portalEl.innerHTML=this.renderContent(),document.body.appendChild(this.portalEl)})),Xs++}get options(){return{...Qs.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}async connectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode&&await gt(100),this.setAttribute("xo-name",`${Xs}`),this.setOptions(),this.handlePortal()}disconnectedCallback(){var t;this.itemEls=[],null==(t=this.portalEl)||t.remove()}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(this.setOptions(),this.handlePortal(),pt(Array.from(this.querySelectorAll(Ae.GalleryItem)),(t=>{t.setAttribute("xo-observed",i)})))}};let Zs=Qs;function Ks(t,e){Ze.set("xo-gallery",(i=>({...i,indexes:{...i.indexes,[t]:e}})))}function Js(){return Ze.get("xo-gallery")}function to(t){return Ze.subscribe("xo-gallery",t)}n(Zs,"defaultOptions",{xoPortalType:"carousel",xoAnimate:"smart-zoom",xoDuration:300,xoEasing:"decay",xoBackdropColor:"rgba(0, 0, 0, 0.5)",xoSync:!0,xoPortalClass:""});class eo extends HTMLElement{constructor(){super(),n(this,"triggerEl"),n(this,"unsubscribe",(()=>{})),n(this,"listener",(()=>{const{indexes:t,galleryName:e}=Js(),i=t[e],n=this.getAttribute("xo-name");this.triggerEl.style.visibility="visible",n===e&&i===this.getIndex()&&null!=this.triggerEl.getAttribute("xo-sync")&&(this.triggerEl.style.visibility="hidden")})),n(this,"handleClick",(t=>{const e=t.target.closest(Ae.GalleryItem),i=Number(e.getAttribute("xo-index")),n=e.getAttribute("xo-name"),s=document.querySelector(`${Ae.GalleryPortal}[xo-name="${n}"]`);if(s)if("scroll"===s.getAttribute("xo-type")){const{offsetTop:t}=s.children[i];s.scrollTo({top:t})}else s.scrollTo({left:i*s.offsetWidth});(function(t){Ze.set("xo-gallery",(e=>({...e,galleryName:t})))})(n),Ks(n,i)})),this.triggerEl=this.querySelector(Ae.ModalTrigger)}static get observedAttributes(){return["xo-observed"]}getSrc(){return this.getAttribute("xo-thumb-src")||""}getName(){return this.getAttribute("xo-name")||""}getIndex(){return Number(this.getAttribute("xo-index"))}async connectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode&&await gt(100),this.triggerEl=this.querySelector(Ae.ModalTrigger);const e=this.closest(Ae.Gallery);if(e){const{xoSync:t,xoPortalType:i}=e.options,n="carousel"===i&&t;if(this.getSrc()){const t=this.querySelector(Ae.ModalTrigger);t&&t.remove(),this.insertAdjacentHTML("afterbegin",`<${Ae.ModalTrigger} xo-name="${this.getName()}" ${n&&"smart-zoom"===e.options.xoAnimate?"xo-sync":""}><img src="${this.getSrc()}" loading="lazy" alt="" width="500" height="500"></${Ae.ModalTrigger}>`)}else{if(this.children.length>1)throw new Error(`${Ae.GalleryItem} should have only one child.`);const t=this.children[0],i=document.createElement(Ae.ModalTrigger);i.setAttribute("xo-name",this.getName()),i.appendChild(t),n&&"smart-zoom"===e.options.xoAnimate&&at(i,"xo-sync",!0),this.appendChild(i)}this.triggerEl=this.querySelector(Ae.ModalTrigger),this.triggerEl.addEventListener("click",this.handleClick),this.unsubscribe=to(this.listener)}}disconnectedCallback(){this.triggerEl.removeEventListener("click",this.handleClick),this.unsubscribe()}async attributeChangedCallback(t,e,i){if("xo-observed"===t&&e!==i){await gt(100);const{galleryName:t}=Js();Ks(t,-1),this.disconnectedCallback(),this.connectedCallback()}}}class io extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"unsubscribe2",(()=>{})),n(this,"listener",(()=>{const{indexes:t,galleryName:e}=Js(),i=t[e],n=document.querySelector(`${Ae.Gallery}[xo-name="${e}"]`);"carousel"===(null==n?void 0:n.getAttribute("xo-portal-type"))&&pt(Array.from(this.querySelectorAll(`${Ae.Modal} video`)),((t,e)=>{e===i?t.play():t.pause()})),i>=0&&Ze.set("xo-modal",(t=>({...t,data:{...t.data,[this.getName()]:{...t.data[this.getName()],triggerElement:n.querySelectorAll(Ae.GalleryItem)[i].querySelector(Ae.ModalTrigger)}}})))})),n(this,"handleScroll",(()=>{const{indexes:t,galleryName:e}=Js(),i=t[e],{scrollLeft:n}=this,s=Math.round(n/this.offsetWidth);i!==s&&Ks(e,s)}))}getName(){return this.getAttribute("xo-name")||""}connectedCallback(){this.addEventListener("scroll",this.handleScroll),this.unsubscribe=Ze.subscribe("xo-modal",(t=>{var e,i;const n=null==(i=null==(e=t.data)?void 0:e[this.getName()])?void 0:i.isOpen;at(this,"xo-active",n),n?(this.setAttribute("popover","true"),de(this),document.body.style.overflow="hidden"):(this.removeAttribute("popover"),pe(this),document.body.style.removeProperty("overflow"),pt(Array.from(this.querySelectorAll(`${Ae.Modal} video`)),(t=>{t.pause()})))})),this.unsubscribe2=to(this.listener)}disconnectedCallback(){this.unsubscribe(),this.unsubscribe2(),this.removeEventListener("scroll",this.handleScroll)}}class no extends HTMLElement{constructor(){super(...arguments),n(this,"handleClick",(()=>{const t=this.closest(Ae.GalleryPortal),e=t.getAttribute("xo-name")||"";t.scrollLeft-t.offsetWidth>=20?(t.scrollTo(t.scrollLeft-t.offsetWidth,0),function(t){const{indexes:e}=Js();Ks(t,(e[t]||0)-1)}(e)):(t.scrollTo(t.scrollWidth-t.offsetWidth,0),Ks(e,Math.round((t.scrollWidth-t.offsetWidth)/t.offsetWidth)))}))}connectedCallback(){this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}}class so extends HTMLElement{constructor(){super(...arguments),n(this,"handleClick",(()=>{const t=this.closest(Ae.GalleryPortal),e=t.getAttribute("xo-name")||"";t.scrollLeft+t.offsetWidth<t.scrollWidth-t.offsetWidth?(t.scrollTo(t.scrollLeft+t.offsetWidth,0),function(t){const{indexes:e}=Js();Ks(t,(e[t]||0)+1)}(e)):(t.scrollTo(0,0),Ks(e,0))}))}connectedCallback(){this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}}class oo extends HTMLElement{constructor(){super(),n(this,"unsubscribe",(()=>{})),n(this,"listener",(()=>{const{indexes:t}=Js(),e=t[this.name],i=document.querySelector(`${Ae.Gallery}[xo-name="${this.name}"]`);i&&(this.innerText=`${e+1} / ${i.querySelectorAll(Ae.GalleryItem).length}`)})),this.unsubscribe=to(this.listener)}get name(){return this.getAttribute("xo-name")||""}disconnectedCallback(){this.unsubscribe()}}Ze.create("xo-gallery",{initialState:{indexes:{},galleryName:""}}),xt({[Ae.Gallery]:Zs,[Ae.GalleryItem]:eo,[Ae.GalleryPortal]:io,[Ae.GalleryPrev]:no,[Ae.GalleryNext]:so,[Ae.GalleryCounter]:oo});const ro="quantity",ao="QUICKVIEW_FIELD_SIGNAL",lo="STICKY_FIELD_SIGNAL",co="quickview",ho="xo-bundle-item",uo="xo-binding",po='form[action*="/cart/add"]:not([xo-buy-ignore])',mo=async function(t,e,i,n,s,o,r,a){const l=new FormData;if(l.append("form_type","product"),l.append("utf8",""),l.append("id",t),l.append("quantity",`${e}`),l.append("product-id",i),null!=o&&l.append("selling_radio",o),null!=r&&l.append("selling_plan",r),null!=n&&n["properties[__shopify_send_gift_card_to_recipient]"])for(const t in n){const e=n[t];l.append(t,e)}if(null!=a&&a.length&&pt(Object.entries(a[0]),(([t,e])=>{l.get(t)||l.append(t,e)})),l.append("sections",Ro()),l.append("section_url",window.location.pathname),s)for(const t in s){const e=s[t];l.append(t,e)}const c=await fetch(`${window.Shopify.routes.root}cart/add`,{method:"POST",body:l,headers:{Accept:"application/javascript","X-Requested-With":"XMLHttpRequest"}});if(window.XO_DEV&&await gt(400),404===c.status)return Promise.reject(new Error(c.statusText));if(422===c.status){const t=await c.json();return"string"==typeof(null==t?void 0:t.description)?Promise.reject(new Error(t.description)):Promise.reject(new Error(t.message))}const h=await c.json();return h.status?Promise.reject(h):h},xo=async function(t,e,i){const n={items:Tt(t,((t,n)=>{var s;return{id:t,quantity:1===e.length?e[0]:null!=(s=e[n])?s:1,...i?{properties:Object.fromEntries(Object.entries(i[n]).map((([t,e])=>[t.replace(/properties\[|\]/g,""),e])))}:{}}})),sections:Ro(),section_url:window.location.pathname},s=await fetch(`${window.Shopify.routes.root}cart/add`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});if(window.XO_DEV&&await gt(400),404===s.status)return Promise.reject(new Error(s.statusText));const o=await s.json();return o.errors?Promise.reject(o):o},go=async function(t,e){const i=await fetch(`${window.Shopify.routes.root}cart/change`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({line:t,quantity:e,sections:Ro(),section_url:window.location.pathname})});if(window.XO_DEV&&await gt(400),404===i.status)return Promise.reject(new Error(i.statusText));const n=await i.json();return n.errors?Promise.reject(n):n},vo=async function(t){const e=await fetch(t,{method:"GET"});return window.XO_DEV&&await gt(400),200!==e.status&&201!==e.status?Promise.reject(e.statusText):await e.text()},bo=async function(t){const e=await fetch(`${window.Shopify.routes.root}cart/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({note:t})});return window.XO_DEV&&await gt(400),200!==e.status&&201!==e.status?Promise.reject(e.statusText):await e.json()},fo=async function(t,e,i){const n=await fetch(`${window.Shopify.routes.root}cart/shipping_rates.json?shipping_address[zip]=${t}&shipping_address[country]=${e}&shipping_address[province]=${i}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(window.XO_DEV&&await gt(400),404===n.status)return Promise.reject(new Error(n.statusText));const s=await n.json();return s.shipping_rates?s:Promise.reject(Bt(s).flatMap((t=>t)))},yo=async function(t){const e=await fetch(`${window.Shopify.routes.root}variants/${t}/?section_id=pickup-availability`,{method:"GET"});return 200!==e.status&&201!==e.status?Promise.reject(e.statusText):await e.text()};async function Eo(t,e=!1){const i=new URL(t);i.search="";const n=i.href;try{Ze.set("xo-product",(t=>({...t,status:"loading"})))("xo-product/getProductHtml/request");const i=await vo(t);Ze.set("xo-product",(t=>({...t,status:"success",productHtml:e?t.productHtml:i,featuredProductHtmls:e?{...t.featuredProductHtmls,[n]:i}:t.featuredProductHtmls,productUrl:n})))("xo-product/getProductHtml/success")}catch{Ze.set("xo-product",(t=>({...t,status:"error"})))("xo-product/getProductHtml/failure")}}function wo(){return Ze.get("xo-product")}function So(t,e){return Ze.subscribe("xo-product",t,e)}const Co={"properties[__shopify_send_gift_card_to_recipient]":"","properties[Message]":"","properties[Recipient email]":"","properties[Recipient name]":"","properties[Send on]":""};function Po(t,e){Ze.set("xo-recipient",(i=>({...i,[t]:e})))("xo-cart/setRecipientState")}function ko(){return Ze.get("xo-recipient")}function Ao(t){Ze.set("xo-cart",(e=>({...e,addIdLoading:"",addErrorMessage:t,isAdded:!1,variantId:""})))("xo-cart/addCartFailure")}async function To(t,e,i,n,s,o=!1,r=!1,a,l,c,h,u=!1){if(function(t,e){const i=Oo(t,e);Ze.set("xo-cart",(t=>({...t,addIdLoading:i,addErrorMessage:"",isAdded:!1,variantId:"",productIdsForCartNotification:void 0})))("xo-cart/addCartRequest")}(t,e),/^\[|\]$/g.test(e)||/^\[|\]$/g.test(i)){const o=e?Ot(e):[],r=i?Ot(i):[];await async function(t,e,i,n,s,o,r){var a,l,c;try{let n=e;i.length?n=i:s||(n=e.map((e=>{var i,n,s;let o=e;const{productData:r}=wo(),a=null==(i=null==r?void 0:r[e])?void 0:i.variants;return null!=(n=null==a?void 0:a[0])&&n.id&&(o=null==(s=null==a?void 0:a[0])?void 0:s.id),o=qo(t,e)||o,o})));const a=await xo(n,o,r),l=o.reduce(((t,e)=>t+e),0);Ze.set("xo-cart",(t=>({...t,size:t.size+l,sections:a.sections,items:a.items,addIdLoading:"",isAdded:!0,productIdsForCartNotification:Tt(n,(t=>`${t}`))})))("xo-cart/addCartSuccess")}catch(t){const e=t,i=null!=(l=null!=(a=null==e?void 0:e.description)?a:null==e?void 0:e.message)?l:null==e?void 0:e.errors;Ao(i),i&&!n&&(null==(c=window.xbEditor)||!c.designMode)&&qi.push({content:i,className:"xo-cart-add-error",placement:"top-center",delay:4e3})}}(t,o,r,s,u,a||[n],h)}else await async function(t,e,i,n,s,o,r,a){var l,c,h,u,d;const p=Oo(t,e);try{let n=e;const h=null==(c=null==(l=Wo())?void 0:l[p])?void 0:c.variantSelected;n=i||qo(t,e)||n;const u=ko(),d=await mo(n,s,e,u,h,o,r,a);Ze.set("xo-cart",(t=>({...t,size:t.size+s,sections:d.sections,item:d,addIdLoading:"",isAdded:!0,variantId:n,productIdsForCartNotification:[`${d.id}`]})))("xo-cart/addCartSuccess")}catch(t){const e=t,i=null!=(u=null!=(h=null==e?void 0:e.description)?h:null==e?void 0:e.message)?u:null==e?void 0:e.errors;Ao(i),i&&!n&&(null==(d=window.xbEditor)||!d.designMode)&&qi.push({content:i,className:"xo-cart-add-error",placement:"top-center",delay:4e3})}}(t,e,i,s,n,l,c,h);o&&(window.location.href=`${window.Shopify.routes.root}checkout`),r&&(window.location.href=`${window.Shopify.routes.root}cart`)}async function Mo(t,e){(function(t){Ze.set("xo-cart",(e=>({...e,changeLineLoading:t,changeErrorMessage:""})))("xo-cart/changeCartRequest")})(t),await async function(t,e){var i,n;try{const i=await go(t,e);Ze.set("xo-cart",(t=>({...t,size:i.item_count,sections:i.sections,changeLineLoading:-1})))("xo-cart/changeCartSuccess")}catch(t){const e=null!=(i=null==t?void 0:t.errors)?i:null==t?void 0:t.message;(function(t){Ze.set("xo-cart",(e=>({...e,changeLineLoading:-1,changeErrorMessage:t})))("xo-cart/changeCartFailure")})(e),e&&(null==(n=window.xbEditor)||!n.designMode)&&qi.push({content:e,className:"xo-cart-change-error",placement:"top-center",delay:4e3})}}(t,e)}function Lo(){return Ze.get("xo-cart")}function $o(t,e){return Ze.subscribe("xo-cart",t,e)}const Io=new class{constructor(){n(this,"hasFieldSignal",(t=>/\[|\]/g.test(t))),n(this,"addFieldSignal",((t,e)=>this.hasFieldSignal(t)?t:`[${e}]${t}`)),n(this,"removeFieldSignal",(t=>t.replace(/^\[.*\]/g,"")))}};function No(t,e,i){(t.closest(Ae.Cart)||t.closest(Ae.CartMini))&&Mo(e,i)}function Oo(t,e,i){return e?null!=i?`${t}/${e}/${i}`:`${t}/${e}`:null!=i?`${t}/${i}`:t}function Do(t,e){const i=(new DOMParser).parseFromString(t,"text/html"),n=i.querySelector(".shopify-section"),s=Array.from(i.querySelectorAll(`${Ae.Product}[xo-product-id]`));e&&pt(s,(t=>{const i=t.getAttribute("xo-product-id");e.includes(i)||t.remove()}));const o=n.querySelector(Ae.Cart);if(o)return o.innerHTML;const r=n.querySelector(Ae.CartMini);return r?r.innerHTML:n.innerHTML}function qo(t,e){var i,n,s,o,r;const a=Oo(t,e);let l="";const c=null==(n=null==(i=Wo())?void 0:i[a])?void 0:n.variantSelected,{productData:h}=wo(),u=null==(s=null==h?void 0:h[e])?void 0:s.variants;if(1===(null==u?void 0:u.length))return u[0].id;if(c&&u){const t=Bt(c);l=null!=(r=null==(o=u.find((e=>e.options.length===t.length?kt(e.options.sort(),t.sort()):e.options.sort().toString().includes(t.sort().toString()))))?void 0:o.id)?r:""}return l}function Fo(t,e=!0){var i;const n=t.closest(Ae.Modal)||t.closest(Ae.Popover);if(n&&(null===n.getAttribute("xo-for-cart-mini")||t.tagName.toLowerCase()===Ae.CartMini)){const t=null!=(i=n.getAttribute("xo-name"))?i:"";n.tagName.toLowerCase()===Ae.Modal?Ci[e?"open":"close"](t):Ri[e?"open":"close"](t)}}function Ho(t){const e=t.closest(Ae.Cart)||t.closest(Ae.CartMini);if(!e)return;const i=t.getAttribute("xo-line");if(i)return Number(i);const n=t.outerHTML;return Mt(Array.from(e.querySelectorAll(`${Ae.CartWillChange} ${Ae.Product}`)),((t,e)=>{const i=e.outerHTML;return t.includes(i)?t:[...t,i]}),[]).indexOf(n)+1}function Ro(){var t,e,i,n,s,o,r,a;if(window.Xotiny){const i=null==(t=document.querySelector(Ae.Cart))?void 0:t.id,n=null==(e=document.querySelector(Ae.CartMini))?void 0:e.id;return window.location.pathname.includes("/cart")?[i,n]:[n]}const l=document.querySelector("cart-notification"),c=null!=(s=null==(n=null==(i=document.querySelector('.shopify-section[id^="shopify-section-template--"][id$="__cart-items"]'))?void 0:i.id)?void 0:n.replace(/^shopify-section-/g,""))?s:"",h=null!=(a=null==(r=null==(o=document.querySelector('.shopify-section[id^="shopify-section-template--"][id$="__cart-footer"]'))?void 0:o.id)?void 0:r.replace(/^shopify-section-/g,""))?a:"";return l?window.location.pathname.includes("/cart")?[c,h,"cart-icon-bubble","cart-live-region-text"].filter(Boolean):["cart-notification-product","cart-notification-button","cart-icon-bubble"]:window.location.pathname.includes("/cart")?[c,h,"cart-icon-bubble","cart-live-region-text"].filter(Boolean):["cart-drawer","cart-icon-bubble"]}function Vo(t){if(!t)return;let e;const i=Array.from(t.querySelectorAll('input[type="text"][name^="properties["], input[type="number"][name^="properties["], input[type="hidden"][name^="properties["]')),n=Array.from(t.querySelectorAll('input[type="radio"][name^="properties["], input[type="checkbox"][name^="properties["]')),s=Array.from(t.querySelectorAll('select[name^="properties["]'));return pt(i,(t=>{t.value&&(e={...e,[t.name]:t.value})})),pt(n,(t=>{t.checked&&(e={...e,[t.name]:t.value})})),pt(s,(t=>{t.value&&(e={...e,[t.name]:t.value})})),e}function Bo(t,e){return Math.round(t-t*e/100+.4)}function zo(t,e,i,n){const s=Oo(t,e,i);Ze.set("xo-cart-form",(t=>{var e,i;const o=null!=(i=null==(e=null==t?void 0:t[s])?void 0:e[ro])?i:1;return{...t,[s]:{...null==t?void 0:t[s],[ro]:Math.max(1,n(o))}}}))("xo-cart-form/setFormQuantity")}function _o(t,e,i,n){const s=Oo(t,e);Ze.set("xo-cart-form",(t=>{var e;return{...t,[s]:{...null==t?void 0:t[s],variantSelected:{...null==(e=null==t?void 0:t[s])?void 0:e.variantSelected,[i]:n}}}}))("xo-cart-form/setFormVariant")}function Wo(){return Ze.get("xo-cart-form")}function Uo(t,e){return Ze.subscribe("xo-cart-form",t,e)}function Yo(t){Ze.set("xo-cart-note",(e=>({...e,noteDraft:t})))("xo-cart/setCartNoteDraft")}async function Go(t){Ze.set("xo-cart-note",(t=>({...t,status:"loading"}))),await async function(t){try{const e=await bo(t);Ze.set("xo-cart-note",(t=>({...t,status:"success",note:e.note})))("xo-cart/postCartNoteSuccess")}catch{Ze.set("xo-cart-note",(t=>({...t,status:"error"})))("xo-cart/postCartNoteFailure")}}(t)}function jo(t){Ze.set("xo-cart-discount",(e=>({...e,discount:t})))("xo-cart/setCartDiscount")}function Xo(t){Ze.set("xo-cart-shipping-rates",(e=>({...e,status:"error",errorMessages:t})))("xo-cart/getCartShippingRatesFailure")}function Qo(t,e,i){Ze.set("xo-bundle",(n=>({...n,bundles:{...n.bundles,[t]:n.bundles[t].map((t=>t.variantId!==e?t:{...t,quantity:Math.max(1,t.quantity+("inc"===i?1:-1))}))}})))("xo-bundle/updateBundleQuantityByType")}const Zo={cart:Lo,cartForm:Wo,product:wo,cartNote:function(){return Ze.get("xo-cart-note")},cartDiscount:function(){return Ze.get("xo-cart-discount")},cartShippingRates:function(){return Ze.get("xo-cart-shipping-rates")},cartShippingRatesForm:function(){return Ze.get("xo-cart-shipping-rates-form")},recipient:ko,bundle:function(){return Ze.get("xo-bundle")}},Ko={cart:$o,cartForm:Uo,product:So,cartNote:function(t,e){return Ze.subscribe("xo-cart-note",t,e)},cartDiscount:function(t,e){return Ze.subscribe("xo-cart-discount",t,e)},cartShippingRates:function(t,e){return Ze.subscribe("xo-cart-shipping-rates",t,e)},cartShippingRatesForm:function(t,e){return Ze.subscribe("xo-cart-shipping-rates-form",t,e)},recipient:function(t,e){return Ze.subscribe("xo-recipient",t,e)},bundle:function(t,e){return Ze.subscribe("xo-bundle",t,e)}};class Jo extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}connectedCallback(){if(!this.id)throw new Error(`The ${Ae.Cart} component must have the id="{{ section.id }}" attribute`);this.unsubscribe=Ko.cart((t=>{const e=t.sections[this.id],i=-1!==t.changeLineLoading;if(e&&this.innerHTML!==e&&!i){const t=Array.from(this.querySelectorAll(Ae.CartWillChange));if(t.length){const i=(new DOMParser).parseFromString(e,"text/html");pt(t,(t=>{const e=t.getAttribute("xo-unique-id"),n=i.querySelector(`${Ae.CartWillChange}[xo-unique-id="${e}"]`);n&&t.innerHTML!==(null==n?void 0:n.innerHTML)&&(t.innerHTML=n.innerHTML,pt(Array.from(n.attributes),(e=>{t.setAttribute(e.name,e.value)})))}))}else this.innerHTML=Do(e)}}))}disconnectedCallback(){this.unsubscribe()}}class tr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"bundleUnsubscribe",(()=>{})),n(this,"bundleProviderEl",this.closest(Ae.BundleProvider)),n(this,"variantsEl",this.closest(Ae.ProductVariants)),n(this,"getSectionId",(()=>{var t;return(null==(t=this.productOptions)?void 0:t.xoSectionId)||be(this)})),n(this,"getQuantityFromProductVariant",(()=>{var t;const e=null==(t=this.closest(Ae.ProductVariant))?void 0:t.querySelector(`${Ae.CartQuantity} input`),i=null==e?void 0:e.value;if(i)return Number(i)})),n(this,"getQuantitiesFromProductVariant",(()=>{var t,e;return Array.from(null!=(e=null==(t=this.closest(Ae.ProductVariants))?void 0:t.querySelectorAll(`${Ae.ProductVariant}[xo-variant-id] ${Ae.CartQuantity} input`))?e:[]).reduce(((t,e)=>{const i=Number(e.value);return!i||isNaN(i)?t:[...t,i]}),[])})),n(this,"getVariantIdFromProductVariant",(()=>{var t,e;return Array.from(null!=(e=null==(t=this.closest(Ae.ProductVariants))?void 0:t.querySelectorAll(`${Ae.ProductVariant}[xo-variant-id] ${Ae.CartQuantity} input`))?e:[]).reduce(((t,e)=>{const i=Number(e.value);if(!i||isNaN(i))return t;const n=e.closest(Ae.ProductVariant);return[...t,n.getAttribute("xo-variant-id")]}),[])})),n(this,"handleAddToCart",(async t=>{var e,i,n,s;try{t.preventDefault();const o=Zo.cart(),{xoProductId:r,xoProductQuantity:a,xoCartOpened:l=!0,xoCheckoutRedirection:c=!1,xoCartRedirection:h=!1,xoProductQuantities:u,xoTestFly:d,xoForBundle:p,xoVariantId:m=""}=this.getOptions(),x=!(null==(e=this.closest(Ae.Product))||!e.querySelector(Ae.CartAddError)),g=Vo(this.closest(Ae.Product));let v=g?[g]:void 0;if(!r)return;const b=this.getSectionId();if(this.productEl){const t=Oo(b,r);let e=null!=(s=null==(n=null==(i=Zo.cartForm())?void 0:i[t])?void 0:n.quantity)?s:1,l=u,d=m;if(m){const t=this.getQuantityFromProductVariant();t&&(e=t)}if(this.variantsEl){l=this.getQuantitiesFromProductVariant();const t=this.getVariantIdFromProductVariant();if(!t.length)return;d=JSON.stringify(t)}if(o.addIdLoading!==t&&r){const{sellingRadio:t,sellingPlan:i}=function(){var t,e;const i=Array.from(document.querySelectorAll('input[name="selling_radio"]')),n=document.querySelector('input[name="selling_plan"]');return{sellingRadio:null==(t=i.find((t=>t.checked)))?void 0:t.value,sellingPlan:n?null!=(e=null==n?void 0:n.value)?e:"":void 0}}();await To(b,r,d,null!=a?a:e,x,c,h,l,t,i,v)}}else{const t=Oo("single",r);if(o.addIdLoading!==t&&r){let t=null!=a?a:1;if(m){const e=this.getQuantityFromProductVariant();e&&(t=e)}if(p&&(v=this.getAttribute("xo-product-props")?JSON.parse(this.getAttribute("xo-product-props")):void 0),await To("single",r,m,t,x,c,h,u,void 0,void 0,v,p),this.bundleProviderEl){const{xoName:t}=this.bundleProviderEl.props;!function(t){Ze.set("xo-bundle",(e=>({...e,observed:e.observed+1,bundles:{...e.bundles,[t]:[]}})))("xo-bundle/clearBundle")}(t)}}}const f=Zo.cart();if(l&&""===f.addErrorMessage){const t=document.querySelector(Ae.CartMini);t&&(await gt(0),Fo(t))}(""===f.addErrorMessage||d)&&this.handleCartFly()}catch{}})),n(this,"handleCartFly",(()=>{const t=document.querySelector(Ae.CartFly);null==t||t.handle(this)}))}getOptions(){var t,e;const i=qt(this,{pick:["xoProductId","xoProductQuantity","xoCartOpened","xoDisabled","xoCheckoutRedirection","xoCartRedirection","xoProductQuantities","xoTestFly","xoForBundle","xoVariantId"],types:{xoProductId:"string",xoProductQuantity:"number",xoCartOpened:"boolean",xoDisabled:"boolean",xoCheckoutRedirection:"boolean",xoCartRedirection:"boolean",xoProductQuantities:"array",xoForBundle:"boolean",xoTestFly:"boolean",xoVariantId:"string"}});return this.productEl?{...i,xoProductId:null!=(e=i.xoProductId)?e:null==(t=this.productOptions)?void 0:t.xoProductId}:i}static get observedAttributes(){return["xo-product-id","xo-product-quantity","xo-disabled"]}get productEl(){return this.closest(Ae.Product)}get productOptions(){var t;return null==(t=this.productEl)?void 0:t.options}connectedCallback(){const{xoProductId:t,xoDisabled:e=!1,xoForBundle:i}=this.getOptions();e||!t&&!i||(this.addEventListener("click",this.handleAddToCart),i&&(this.bundleUnsubscribe=Ko.bundle((({bundles:t})=>{var e;const i=null!=(e=null==t?void 0:t[this.getSectionId()])?e:[];if(0===i.length)this.removeAttribute("xo-product-quantities"),this.removeAttribute("xo-product-id"),this.removeAttribute("xo-product-props"),at(this,"xo-disabled",!0);else{this.setAttribute("xo-product-quantities",`[${i.map((t=>t.quantity)).join(",")}]`),this.setAttribute("xo-product-id",`[${i.map((t=>t.variantId)).join(",")}]`);const t=i.map((t=>t.properties)).filter((t=>t));t.length&&this.setAttribute("xo-product-props",JSON.stringify(t)),at(this,"xo-disabled",!1)}}))),this.unsubscribe=Ko.cart((({addIdLoading:t})=>{const{xoProductId:e}=this.getOptions();if(e){let i="";i=this.productEl?Oo(this.getSectionId(),e):Oo("single",e),at(this,"xo-loading",t===i),ii(this,"xo-loading-binding",t===i)}})))}disconnectedCallback(){this.unsubscribe(),this.bundleUnsubscribe(),this.removeEventListener("click",this.handleAddToCart)}}class er extends HTMLElement{constructor(){super(...arguments),n(this,"handleClick",(async t=>{t.preventDefault();const{xoSectionId:e,xoProductId:i,xoLine:n}=this.productOptions,s=Ho(this.productEl);s&&(await Mo(s,0),function(t,e,i){const n=Oo(t,e),s=Oo(t,e,i);Ze.set("xo-cart-form",(t=>{const{[n]:e,[s]:i,...o}=t;return o}))("xo-cart-form/removeCartFormItem")}(e,i,n))}))}get productEl(){return this.closest(Ae.Product)}get productOptions(){return this.productEl.options}connectedCallback(){if(!this.productEl)throw new Error(`${Ae.CartRemove} must be inside ${Ae.Product}`);this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}}class ir extends HTMLElement{constructor(){super(...arguments),n(this,"prevSize",Number(this.innerText)),n(this,"timeId",-1),n(this,"unsubscribe",(()=>{}))}connectedCallback(){(function(t){Ze.set("xo-cart",(e=>({...e,size:t})))("xo-cart/setCartSize")})(Number(this.innerText)),this.unsubscribe=Ko.cart((async t=>{if(this.innerText=`${t.size}`,(this.prevSize!==t.size||rt(this,"xo-test-fly"))&&!t.addIdLoading){const t=document.querySelector("[xo-cart-fly-end]");if(t){clearTimeout(this.timeId),at(t,"xo-cart-fly-end-animated",!1),await gt(),at(t,"xo-cart-fly-end-animated",!0);const e=1e3*Number(window.getComputedStyle(t).animationDuration.replace("s","")),i=1e3*Number(window.getComputedStyle(t).animationDelay.replace("s",""));this.timeId=window.setTimeout((()=>{at(t,"xo-cart-fly-end-animated",!1)}),e+i)}}this.prevSize=t.size}))}disconnectedCallback(){this.unsubscribe(),clearTimeout(this.timeId)}}class nr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"cartScrollEl",null),n(this,"scScrollTop",0),n(this,"handleScroll",(()=>{var t,e;this.scScrollTop=null!=(e=null==(t=this.cartScrollEl)?void 0:t.scrollTop)?e:this.scScrollTop}))}connectedCallback(){var t;if(!this.id)throw new Error(`The ${Ae.CartMini} component must have the id="{{ section.id }}" attribute`);const e=this.closest(Ae.Modal);this.cartScrollEl=this.querySelector(Ae.CartScroll),e&&at(e,"xo-for-cart-mini",!0),null==(t=this.cartScrollEl)||t.addEventListener("scroll",this.handleScroll),this.unsubscribe=Ko.cart((t=>{var e,i;const n=t.sections[this.id];if(n)if(-1!==t.changeLineLoading)this.scScrollTop=null!=(i=null==(e=this.cartScrollEl)?void 0:e.scrollTop)?i:this.scScrollTop;else{const e=rt(this,"xo-notification");if(this.innerHTML!==n){const i=Array.from(this.querySelectorAll(Ae.CartWillChange));if(i.length){const t=(new DOMParser).parseFromString(n,"text/html");pt(i,(e=>{const i=e.getAttribute("xo-unique-id"),n=t.querySelector(`${Ae.CartWillChange}[xo-unique-id="${i}"]`);n&&e.innerHTML!==(null==n?void 0:n.innerHTML)&&(e.innerHTML=n.innerHTML,pt(Array.from(n.attributes),(t=>{e.setAttribute(t.name,t.value)})))}))}else this.innerHTML=Do(n,e?t.productIdsForCartNotification:void 0);this.cartScrollEl=this.querySelector(Ae.CartScroll),this.cartScrollEl&&(this.cartScrollEl.scrollTop=this.scScrollTop)}}}))}disconnectedCallback(){this.unsubscribe(),this.cartScrollEl&&this.cartScrollEl.removeEventListener("scroll",this.handleScroll)}}class sr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}get productEl(){return this.closest(Ae.Product)}connectedCallback(){if(!this.productEl)throw new Error(`${Ae.CartChangeFallback} must be inside ${Ae.Product}.`);this.unsubscribe=Ko.cart((({changeLineLoading:t})=>{const e=Ho(this.productEl);e&&(at(this,"xo-visible",e===t),ii(this,"xo-visible-binding",e===t))}))}disconnectedCallback(){this.unsubscribe()}}class or extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"inputEl",null),n(this,"bundleProviderEl",this.closest(Ae.BundleProvider)),n(this,"handleInput",(t=>{var e;const i=t.target;(null!=(e=Number(i.value))?e:1)<1&&(i.value="1");const{xoSectionId:n,xoProductId:s,xoLine:o}=this.productOptions;zo(n,s,o,(()=>Number(i.value)))})),n(this,"handleInputForBundle",(t=>{var e;const{xoName:i}=this.bundleProviderEl.props,n=t.target;(null!=(e=Number(n.value))?e:1)<1&&(n.value="1");const s=this.getAttribute("xo-variant-id");s&&function(t,e,i){Ze.set("xo-bundle",(n=>({...n,bundles:{...n.bundles,[t]:n.bundles[t].map((t=>t.variantId!==e?t:{...t,quantity:Math.max(1,i)}))}})))("xo-bundle/updateQuantity")}(i,s,Number(n.value))})),n(this,"handleBlur",(t=>{const{xoCartExclude:e=!1}=this.productOptions,i=t.target,n=Ho(this.getProductEl());n&&!e&&No(this,n,Number(i.value))}))}getProductEl(){return this.closest(Ae.Product)}getBundleContentEl(){return this.closest(Ae.BundleContent)}get productOptions(){return this.getProductEl().options}connectedCallback(){var t,e,i;if(null!=(t=window.xbEditor)&&t.designMode)return;const n=this.getBundleContentEl();if(this.inputEl=this.querySelector("input"),!this.inputEl)throw new Error(`${Ae.CartQuantity} must have an input number element`);if(this.inputEl.name=ro,(null==this.inputEl.value||""===this.inputEl.value)&&(this.inputEl.value=null!=(e=this.getAttribute("xo-min"))?e:"1"),this.inputEl.min=null!=(i=this.getAttribute("xo-min"))?i:"1",!this.closest(Ae.ProductVariant))if(n&&this.bundleProviderEl){const{xoName:t}=this.bundleProviderEl.props;this.inputEl.addEventListener("input",this.handleInputForBundle);const e=this.getAttribute("xo-variant-id");e&&(this.unsubscribe=Ko.bundle((({bundles:i})=>{var n;const s=(null!=(n=null==i?void 0:i[t])?n:[]).find((t=>t.variantId===e)),o=null==s?void 0:s.quantity;null!=o&&(this.inputEl.value=`${o}`)})))}else{const{xoSectionId:t,xoProductId:e,xoLine:i}=this.productOptions;zo(t,e,i,(()=>{var t,e;return Number(null!=(e=null==(t=this.inputEl)?void 0:t.value)?e:1)})),this.inputEl.addEventListener("input",this.handleInput),this.inputEl.addEventListener("blur",this.handleBlur),this.unsubscribe=Ko.cartForm((n=>{var s;const o=null==(s=null==n?void 0:n[Oo(t,e,i)])?void 0:s.quantity;null!=o&&(this.inputEl.value=`${o}`)}))}}disconnectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode||(this.unsubscribe(),this.inputEl&&(this.inputEl.removeEventListener("input",this.handleInput),this.inputEl.removeEventListener("blur",this.handleBlur),this.inputEl.removeEventListener("input",this.handleInputForBundle)))}}class rr extends HTMLElement{constructor(){super(...arguments),n(this,"quantityEl",null),n(this,"bundleProviderEl",this.closest(Ae.BundleProvider)),n(this,"handleDecrement",(()=>{var t,e;const{xoSectionId:i,xoProductId:n,xoLine:s,xoCartExclude:o=!1}=this.productOptions;this.getOptions(),zo(i,n,s,(t=>t-1));const r=null==(e=null==(t=Zo.cartForm())?void 0:t[Oo(i,n,s)])?void 0:e.quantity,a=Ho(this.getProductEl());a&&!o&&No(this,a,r)})),n(this,"handleDecrementForBundle",(()=>{if(!this.bundleProviderEl)return;const{xoName:t}=this.bundleProviderEl.props,e=this.getQuantityEl().getAttribute("xo-variant-id");e&&Qo(t,e,"dec")})),n(this,"handleDecrementForProductVariant",(()=>{var t;const e=this.quantityEl.querySelector("input"),i=null==(t=this.quantityEl)?void 0:t.getAttribute("xo-min"),n=null!=i?Number(i):1;e.value=`${ht(Number(e.value)-1,n,1/0)}`}))}getProductEl(){return this.closest(Ae.Product)}getQuantityEl(){return this.closest(Ae.CartQuantity)}getBundleContentEl(){return this.closest(Ae.BundleContent)}get productOptions(){return this.getProductEl().options}getOptions(){return qt(this,{pick:["xoAutoUpdateCart"],types:{xoAutoUpdateCart:"boolean"}})}connectedCallback(){if(this.quantityEl=this.closest(Ae.CartQuantity),!this.quantityEl)throw new Error(`${Ae.CartQuantityMinus} must be inside ${Ae.CartQuantity}`);const t=this.getBundleContentEl();this.closest(Ae.ProductVariant)?this.addEventListener("click",this.handleDecrementForProductVariant):t?this.addEventListener("click",this.handleDecrementForBundle):this.addEventListener("click",this.handleDecrement)}disconnectedCallback(){this.removeEventListener("click",this.handleDecrement),this.removeEventListener("click",this.handleDecrementForBundle),this.removeEventListener("click",this.handleDecrementForProductVariant)}}class ar extends HTMLElement{constructor(){super(...arguments),n(this,"quantityEl",null),n(this,"bundleProviderEl",this.closest(Ae.BundleProvider)),n(this,"handleIncrement",(()=>{var t,e;const{xoSectionId:i,xoProductId:n,xoLine:s,xoCartExclude:o=!1}=this.productOptions;this.getOptions(),zo(i,n,s,(t=>t+1));const r=null==(e=null==(t=Zo.cartForm())?void 0:t[Oo(i,n,s)])?void 0:e.quantity,a=Ho(this.getProductEl());a&&!o&&No(this,a,r)})),n(this,"handleIncrementForBundle",(()=>{if(!this.bundleProviderEl)return;const{xoName:t}=this.bundleProviderEl.props,e=this.getQuantityEl().getAttribute("xo-variant-id");e&&Qo(t,e,"inc")})),n(this,"handleIncrementForProductVariant",(()=>{var t;const e=this.quantityEl.querySelector("input"),i=null==(t=this.quantityEl)?void 0:t.getAttribute("xo-min"),n=null!=i?Number(i):1;e.value=`${ht(Number(e.value)+1,n,1/0)}`}))}getProductEl(){return this.closest(Ae.Product)}getQuantityEl(){return this.closest(Ae.CartQuantity)}getBundleContentEl(){return this.closest(Ae.BundleContent)}get productOptions(){return this.getProductEl().options}getOptions(){return qt(this,{pick:["xoAutoUpdateCart"],types:{xoAutoUpdateCart:"boolean"}})}connectedCallback(){if(this.quantityEl=this.closest(Ae.CartQuantity),!this.quantityEl)throw new Error(`${Ae.CartQuantityPlus} must be inside ${Ae.CartQuantity}`);const t=this.getBundleContentEl();this.closest(Ae.ProductVariant)?this.addEventListener("click",this.handleIncrementForProductVariant):t?this.addEventListener("click",this.handleIncrementForBundle):this.addEventListener("click",this.handleIncrement)}disconnectedCallback(){this.removeEventListener("click",this.handleIncrement),this.removeEventListener("click",this.handleIncrementForBundle),this.removeEventListener("click",this.handleIncrementForProductVariant)}}class lr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"textareaEl",null),n(this,"buttonEl",null),n(this,"handleInput",(t=>{Yo(t.target.value)})),n(this,"handleInputDebounced",St((t=>{const e=t.target;Yo(e.value),Go(e.value)}),600))}connectedCallback(){if(this.textareaEl=this.querySelector('textarea[name="note"]'),!this.textareaEl)throw new Error(`${Ae.CartNote} must have a textarea element with name="note"`);this.buttonEl=this.querySelector(Ae.CartNoteSubmit),this.buttonEl?this.textareaEl.addEventListener("input",this.handleInput):this.textareaEl.addEventListener("input",this.handleInputDebounced),this.unsubscribe=Ko.cartNote((({status:t})=>{at(this,"xo-loading","loading"===t),ii(this,"xo-loading-binding","loading"===t)}))}disconnectedCallback(){this.unsubscribe(),this.textareaEl&&(this.buttonEl?this.textareaEl.removeEventListener("input",this.handleInput):this.textareaEl.removeEventListener("input",this.handleInputDebounced))}}class cr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"cartNoteEl",null),n(this,"handleClick",(async t=>{t.preventDefault();const{noteDraft:e}=Zo.cartNote();await Go(e),Fo(this,!1)}))}connectedCallback(){if(this.cartNoteEl=this.closest(Ae.CartNote),!this.cartNoteEl)throw new Error(`${Ae.CartNoteSubmit} must be inside ${Ae.CartNote}`);this.addEventListener("click",this.handleClick),this.unsubscribe=Ko.cartNote((({status:t})=>{at(this,"xo-loading","loading"===t),ii(this,"xo-loading-binding","loading"===t)}))}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.handleClick)}}class hr extends HTMLElement{constructor(){super(...arguments),n(this,"inputEl",null),n(this,"handleInput",(t=>{jo(t.target.value)}))}connectedCallback(){if(this.inputEl=this.querySelector('input[type="text"][name="discount"]'),!this.inputEl)throw new Error(`${Ae.CartDiscount} must have a input element with name="discount"`);const{discount:t}=Zo.cartDiscount();this.inputEl.value=t,this.querySelector(Ae.CartDiscountSubmit)||this.inputEl.addEventListener("input",this.handleInput)}disconnectedCallback(){this.inputEl&&this.inputEl.removeEventListener("input",this.handleInput)}}class ur extends HTMLElement{constructor(){super(...arguments),n(this,"cartDiscountEl",null),n(this,"handleClick",(t=>{t.preventDefault(),jo(this.cartDiscountEl.querySelector('input[type="text"][name="discount"]').value),Fo(this,!1)}))}connectedCallback(){if(this.cartDiscountEl=this.closest(Ae.CartDiscount),!this.cartDiscountEl)throw new Error(`${Ae.CartDiscountSubmit} must be inside ${Ae.CartDiscount}`);this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}}class dr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"fieldEl",null),n(this,"handleChange",(t=>{const e=t.target;this.setState(e.name,e.value)}))}setState(t,e){var i;const n=t.replace(/address\[|\]/g,"");(function(t,e){Ze.set("xo-cart-shipping-rates-form",(i=>({...i,[t]:e})))("xo-cart-shipping-rates-form/setCartShippingRatesField")})(n,e),"country"===n&&function(t){Ze.set("xo-cart-shipping-rates-form",(e=>({...e,provinces:t})))("xo-cart-shipping-rates-form/setProvinces")}(Ot(null!=(i=this.fieldEl.querySelector(`option[value="${this.fieldEl.value}"]`).getAttribute("data-provinces"))?i:"[]"))}connectedCallback(){if(this.fieldEl=this.querySelector('select, input[type="text"]'),!this.fieldEl)throw new Error(`${Ae.CartShippingRatesField} must have a select or input element`);const t=this.fieldEl instanceof HTMLInputElement?"input":"change";this.setState(this.fieldEl.name,this.fieldEl.value),this.fieldEl.addEventListener(t,this.handleChange);const e=this.fieldEl.name.replace(/address\[|\]/g,"");"province"===e&&at(this,"xo-disabled",0===Zo.cartShippingRatesForm().provinces.length),this.unsubscribe=Ko.cartShippingRatesForm((({provinces:t})=>{if("province"===e){this.fieldEl.innerHTML=t.map((([t,e])=>`<option value="${t}">${e}</option>`)).join("");const e=this.fieldEl.querySelector("option");e&&this.setState(this.fieldEl.name,e.value),at(this,"xo-disabled",0===t.length)}}),((t,e)=>kt(null==t?void 0:t.provinces,e.provinces)))}disconnectedCallback(){if(this.unsubscribe(),this.fieldEl){const t=this.fieldEl instanceof HTMLInputElement?"input":"change";this.fieldEl.removeEventListener(t,this.handleChange)}}}class pr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"handleClick",(async t=>{t.preventDefault();const{zip:e,country:i,province:n}=Zo.cartShippingRatesForm();await async function(t,e,i){Ze.set("xo-cart-shipping-rates",(t=>({...t,status:"loading"}))),await async function(t,e,i){try{const n=await fo(t,e,i);Ze.set("xo-cart-shipping-rates",(t=>({...t,status:"success",shippingRates:n.shipping_rates})))("xo-cart/getCartShippingRatesSuccess")}catch(t){Array.isArray(t)?Xo(t):Xo([t.message])}}(t,e,i)}(e,i,n)}))}connectedCallback(){this.addEventListener("click",this.handleClick),this.unsubscribe=Ko.cartShippingRates((({status:t})=>{at(this,"xo-loading","loading"===t),ii(this,"xo-loading-binding","loading"===t)}))}disconnectedCallback(){this.unsubscribe(),this.removeEventListener("click",this.handleClick)}}class mr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}connectedCallback(){this.unsubscribe=Ko.cartShippingRates((({status:t,errorMessages:e})=>{"error"===t&&(this.innerHTML=e.join(", "))}))}disconnectedCallback(){this.unsubscribe()}}class xr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"animated",ft())}connectedCallback(){var t;const e=null!=(t=this.querySelector(Ae.CartAddErrorMessage))?t:this;this.unsubscribe=Ko.cart((async({addErrorMessage:t})=>{t?(this.style.visibility="visible",this.style.height="auto",e.innerHTML=t,await gt(4e3),this.animated({from:this.offsetHeight,to:0,duration:300,onUpdate:t=>{this.style.height=`${t}px`},onEnd:()=>{e.innerHTML="",this.style.removeProperty("visibility")}})):e.innerHTML=""}))}disconnectedCallback(){this.animated.off(),this.unsubscribe()}}class gr extends HTMLElement{get options(){return qt(this,{pick:["xoUniqueId"],types:{xoUniqueId:"string"}})}connectedCallback(){const{xoUniqueId:t}=this.options;if(!t)throw new Error(`${Ae.CartWillChange}: Attribute xo-unique-id is required (Note: xo-unique-id is unique)`)}}const vr=new bt,br=window.history.pushState,fr=window.history.replaceState;window.history.pushState=function(t,e,i){br.call(window.history,t,e,i),vr.emit("change",void 0)},window.history.replaceState=function(t,e,i){fr.call(window.history,t,e,i),vr.emit("change",void 0)},window.addEventListener("popstate",(()=>{vr.emit("change",void 0)}));let yr=-1,Er=-1;const wr=new Map;class Sr extends HTMLElement{constructor(t,e='input[type="radio"]:not([xo-for-quick-view]), select:not([xo-for-quick-view])',i=!1){super(),n(this,"fieldEls",[]),n(this,"productEl",this.closest(Ae.Product)),n(this,"fieldSelector"),n(this,"isProductQuickViewVariant"),n(this,"productUnsubscribe",(()=>{})),n(this,"cartFormUnsubscribe",(()=>{})),n(this,"getBindingElements",((t,e)=>{var i;if(e.includes(":")){const n=e.split(":");if(1===n.length)return[t];const s=null==(i=null==n?void 0:n[1])?void 0:i.replace(/(\w|\])(\[)(.*)/g,"$1");return s?Array.from(t.querySelectorAll(s)):[t]}return[t]})),n(this,"getBindingType",(t=>t.replace(/.*:/g,"").includes("[")?t.replace(/.*\[/g,"").replace(/\]/g,"").trim():"children")),n(this,"handleBindingAttr",(()=>{var t,e,i,n,s,o;const{xoSectionId:r,xoProductId:a}=this.productEl.options,l=qo(r,a),c=Ot(null!=(i=null==(e=null==(t=this.productEl)?void 0:t.querySelector(Ae.ProductLiquidStatic))?void 0:e.textContent)?i:"{}"),h=null==c?void 0:c[l];pt([...Array.from(this.productEl.querySelectorAll(`[${uo}]`)),...Array.from(null!=(o=null==(s=null==(n=this.productEl.querySelector(`template[${ho}]`))?void 0:n.content)?void 0:s.querySelectorAll(`[${uo}]`))?o:[])],(t=>{pt(t.getAttribute(uo).split(","),(e=>{const i=e.replace(/(:|\[).*/g,"").trim(),n=this.getBindingElements(t,e),s=this.getBindingType(e);if("object"===ut(h)){const t=h[i];null!=t&&pt(n,(e=>{"children"===s?e.innerHTML=t:e.setAttribute(s,t)}))}}))}))})),n(this,"handleChange",(t=>{const e=t.target,{value:i}=e,{name:n}=e,{xoSectionId:s,xoProductId:o,xoFeaturedProduct:r,xoProductUrl:a}=this.productEl.options,{productUrl:l}=Zo.product();_o(s,o,Io.removeFieldSignal(n),i),this.closePopover(),this.condChangeVariantAndRequest()?this.handleProductInformation():r?(Eo(`${a}?${jt({section_id:s,variant:qo(s,o)})}`,!0),this.bindAvailable()):null!=l?(Eo(`${l}?${jt({section_id:s,variant:qo(s,o)})}`),this.bindAvailable()):(this.handleBindingAttr(),this.bindAvailable()),this.handleUnavailable()})),n(this,"setFormVariantAfterLocationChange",(()=>{const{xoSectionId:t,xoProductId:e}=this.productEl.options,{productData:i}=wo(),n=Gt(window.location.search,!0).variant,s=document.querySelector(`${po} input[name="id"]`);s&&(s.value=n);const o=i[e].variants.find((t=>t.id==n));o&&(pt(o.options.reduce(((t,e)=>{var i;return[...t,...Array.from(this.querySelectorAll(`input[type="radio"]:not([xo-for-quick-view])[value="${ni(e)}"]`)),...Array.from(null!=(i=this.querySelector(`select:not([xo-for-quick-view])[value="${ni(e)}"]`))?i:[])]}),[]),(i=>{if(i){const n=Io.removeFieldSignal(i.name);_o(t,e,n,i.value)}})),this.bindAvailable())})),n(this,"handleLocationChange",(async()=>{const{xoSectionId:t,xoProductId:e,xoProductInformation:i}=this.productEl.options;if(this.condChangeVariantAndRequest()&&i){this.setFormVariantAfterLocationChange(),async function(t,e){try{const i=qo(t,e),n=await yo(i);Ze.set("xo-product",(t=>({...t,pickupAvailabilityHtml:n})))("xo-product/getPickupAvailabilityHtml")}catch(t){console.log(t)}}(t,e);const{href:i}=window.location,n=i.includes("?")?`${i}&section_id=${t}`:`${i}?section_id=${t}`;await Eo(n)}})),n(this,"handleProductVariantSelected",(t=>{const e=Io.removeFieldSignal(t.name);pt(Array.from(this.productEl.querySelectorAll(`${Ae.ProductVariantSelected}[xo-name="${e}"]`)),(e=>{e&&(e.innerHTML=t.value)}))})),n(this,"closePopover",(()=>{const t=this.closest(Ae.Popover),e=null==t?void 0:t.querySelector(Ae.Product);if(t&&!e){const e=t.getAttribute("xo-name");Ri.close(e)}})),n(this,"isUnavailable",(()=>{const{xoSectionId:t,xoProductId:e}=this.productEl.options,i=qo(t,e);return 0!==this.children.length&&!i})),n(this,"handleUnavailable",(()=>{at(this.productEl,"xo-unavailable",this.isUnavailable()),ii(this.productEl,"xo-unavailable-binding",this.isUnavailable())})),n(this,"handleAvailable",((t,e)=>{if(t instanceof HTMLInputElement){const{xoSectionId:e,xoProductId:i}=this.productEl.options,n=Io.removeFieldSignal(t.name),s=function(t,e,i,n){var s,o,r;const a=Oo(t,e),l=null==(o=null==(s=Wo())?void 0:s[a])?void 0:o.variantSelected,{productData:c}=wo(),h=null==(r=null==c?void 0:c[e])?void 0:r.variants;if(l&&h){const t=Bt({...l,[i]:n}).filter(Boolean);return h.some((e=>kt(e.options.sort(),t.sort())&&e.available))}return!0}(e,i,n,t.value),o=function(t,e,i,n){var s,o,r;const a=Oo(t,e),l=null==(o=null==(s=Wo())?void 0:s[a])?void 0:o.variantSelected,{productData:c}=wo(),h=null==(r=null==c?void 0:c[e])?void 0:r.variants;if(l&&h){const t=Bt({...l,[i]:n}).filter(Boolean);return h.some((e=>e.options.every((e=>t.includes(e)))))}return!0}(e,i,n,t.value);at(t,"xo-disabled",!s),at(t,"xo-unavailable",!o),ii(t,"xo-disabled-binding",!s),ii(t,"xo-unavailable-binding",!o)}})),n(this,"bindAvailable",(()=>{pt(Array.from(this.productEl.querySelectorAll(this.fieldSelector)),this.handleAvailable),this.handleUnavailable()})),n(this,"cartFormListener",(()=>{var t,e;const{xoSectionId:i,xoProductId:n}=this.productEl.options,s=Oo(i,n),o=null==(e=null==(t=Wo())?void 0:t[s])?void 0:e.variantSelected;o&&!kt(wr.get(s),o)&&pt(mt(o),(t=>{const e=o[t];this.handleSyncFields(t,e)})),wr.set(s,o)})),this.fieldSelector=e,this.isProductQuickViewVariant=i,this.productEl=null!=t?t:this.closest(Ae.Product),Er++,function(t){const e=t.closest(Ae.Sticky);e&&pt(Array.from(e.querySelectorAll('input[type="radio"], select')),(t=>{const e=t.id,i=document.querySelector(`label[for="${e}"]`);t.name=Io.addFieldSignal(t.name,lo),e&&(t.id=Io.addFieldSignal(e,lo)),i&&i.setAttribute("for",Io.addFieldSignal(e,lo))}))}(this)}condChangeVariantAndRequest(){const{xoProductInformation:t}=this.productEl.options,e=this.closest(Ae.ProductQuickView);return(!!window.XO_DEV||window.location.pathname.includes("/products/"))&&t&&!e}handleProductInformation(){const{xoSectionId:t,xoProductId:e}=this.productEl.options,i=qo(t,e),n=`${window.location.pathname}${i?`?variant=${i}`:""}`;window.location.href!==n&&window.history.replaceState({},"",n)}handleSyncFields(t,e){var i,n;const{xoProductInformation:s}=this.productEl.options;s&&pt(Array.from(null!=(n=null==(i=this.productEl)?void 0:i.querySelectorAll(`input[type="radio"][name="${t}"][value="${ni(e)}"], input[type="radio"][name$="${t}"][value="${ni(e)}"], select[name="${t}"], select[name$="${t}"]`))?n:[]),(t=>{t.closest(Ae.ProductRecommendations)||t.getAttribute("xo-for-quick-view")||(t instanceof HTMLSelectElement?pt(Array.from(t.querySelectorAll("option")),(t=>{t.selected=t.value===e})):t instanceof HTMLInputElement&&(t.checked=!0,this.handleProductVariantSelected(t)))}))}handleFirstVariant(t){const{xoSectionId:e,xoProductId:i}=this.productEl.options,n=Io.removeFieldSignal(t.name);t instanceof HTMLInputElement?(t.checked||t.hasAttribute("checked")&&"false"!==t.getAttribute("checked"))&&(t.checked=!0,_o(e,i,n,t.value),this.handleProductVariantSelected(t)):t instanceof HTMLSelectElement&&pt(Array.from(t.querySelectorAll("option")),(s=>{(s.selected||s.hasAttribute("selected")&&"false"!==s.getAttribute("selected"))&&(s.selected=!0,_o(e,i,n,t.value))}))}connectedCallback(){var t;if(null!=(t=window.xbEditor)&&t.designMode)return;const{xoProductId:e,xoProductInformation:i}=this.productEl.options;this.fieldEls=Array.from(this.querySelectorAll(this.fieldSelector)),!this.isProductQuickViewVariant&&i&&(vr.off(yr),yr=vr.on("change",this.handleLocationChange)),pt(this.fieldEls,(t=>{t.name=Io.addFieldSignal(t.name,`SIGNAL_${e}_${Er}`),this.handleFirstVariant(t),t.addEventListener("change",this.handleChange)})),this.bindAvailable(),this.cartFormUnsubscribe=Ko.cartForm(this.cartFormListener),this.productUnsubscribe=Ko.product(this.bindAvailable,((t,e)=>kt(null==t?void 0:t.productData,null==e?void 0:e.productData)))}disconnectedCallback(){var t;if(null!=(t=window.xbEditor)&&t.designMode)return;const{xoProductInformation:e}=this.productEl.options;pt(this.fieldEls,(t=>{t.removeEventListener("change",this.handleChange)})),!this.isProductQuickViewVariant&&e&&vr.off(yr),this.cartFormUnsubscribe(),this.productUnsubscribe()}}class Cr extends HTMLElement{connectedCallback(){var t;const e=Ot(this.textContent),{productData:i}=Zo.product();if(!e.id)throw new Error(`ProductData: Invalid product data (Content: ${null==(t=this.textContent)?void 0:t.trim()}).`);mt(i).includes(e.id.toString())||function(t){Ze.set("xo-product",(e=>({...e,productData:{...e.productData,[t.id]:t}})))("xo-product/setProductData")}(e)}}class Pr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"buyItNowEl",null),n(this,"productEl",this.closest(Ae.Product)),n(this,"handleBuyItNow",(t=>{t.preventDefault()})),n(this,"handleChange",((t,e,i)=>{var n,s;if(!this.productEl)return;const{xoUniqueId:o}=this.options,r=(new DOMParser).parseFromString(e,"text/html"),a=!!i;let l=null;l=a?r.querySelector(`${Ae.Product}[xo-featured-product][xo-product-url="${i}"] ${Ae.ProductWillChange}[xo-unique-id="${o}"]`):r.querySelector(`${Ae.ProductWillChange}[xo-unique-id="${o}"]`);const{xoProductUrl:c,xoSectionId:h}=this.productEl.options,u=null==(n=null==l?void 0:l.closest(Ae.Product))?void 0:n.getAttribute("xo-product-url"),d=null==(s=null==l?void 0:l.closest(Ae.Product))?void 0:s.getAttribute("xo-section-id");let p=l&&this.innerHTML!==l.innerHTML&&"success"===t;if(a&&(p=p&&c===u&&h===d),p){const t=this.querySelector('[data-shopify="payment-button"]'),e=rt(l,"xo-disabled");at(this,"xo-disabled",e),t||(this.innerHTML=l.innerHTML,pt(Array.from(l.attributes),(t=>{this.setAttribute(t.name,t.value)})))}}))}get options(){return qt(this,{pick:["xoUniqueId","xoDisabled"],types:{xoUniqueId:"string",xoDisabled:"boolean"}})}connectedCallback(){var t;const{xoUniqueId:e,xoDisabled:i=!1}=this.options;if(!e)throw new Error(`${Ae.ProductWillChange}: Attribute xo-unique-id is required (Note: xo-unique-id is unique)`);if(i)return this.buyItNowEl=this.querySelector('[data-shopify="payment-button"]'),void(null==(t=this.buyItNowEl)||t.addEventListener("click",this.handleBuyItNow));this.unsubscribe=Ko.product((({status:t,productHtml:e,featuredProductHtmls:i})=>{if(this.productEl){const{xoFeaturedProduct:n}=this.productEl.options;n?mt(i).forEach((e=>{const n=i[e];this.handleChange(t,n,e)})):this.handleChange(t,e)}}))}disconnectedCallback(){var t;this.unsubscribe(),null==(t=this.buyItNowEl)||t.removeEventListener("click",this.handleBuyItNow)}}class kr extends HTMLElement{get options(){return qt(this,{pick:["xoProductId","xoSectionId","xoProductInformation","xoFeaturedProduct","xoProductUrl","xoCartExclude","xoLine"],types:{xoProductId:"string",xoSectionId:"string",xoProductInformation:"boolean",xoFeaturedProduct:"boolean",xoProductUrl:"string",xoCartExclude:"boolean",xoLine:"number"}})}connectedCallback(){const{xoProductId:t,xoSectionId:e,xoLine:i}=this.options;if(!t)throw new Error(`${Ae.Product}: Attribute xo-product-id is required.`);if(!e)throw new Error(`${Ae.Product}: Attribute xo-section-id is required.`);if((this.closest(Ae.Cart)||this.closest(Ae.CartMini))&&!i)throw new Error(`If ${Ae.Product} is inside ${Ae.Cart} or ${Ae.CartMini}, it must have the xo-line="{{ forloop.index }}" attribute.`)}}class Ar extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}connectedCallback(){this.unsubscribe=Ko.product((({pickupAvailabilityHtml:t})=>{if(t){const e=(new DOMParser).parseFromString(t,"text/html").querySelector(`${Ae.ProductPickupAvailability}`);e?this.innerHTML!==e.innerHTML&&(this.innerHTML=e.innerHTML):this.innerHTML=""}}))}disconnectedCallback(){this.unsubscribe()}}class Tr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}connectedCallback(){this.unsubscribe=Ko.product((({pickupAvailabilityHtml:t})=>{if(t){const e=(new DOMParser).parseFromString(t,"text/html").querySelector(Ae.ProductPickupAvailabilityList);e?this.innerHTML!==e.innerHTML&&(this.innerHTML=e.innerHTML):this.innerHTML=""}}))}disconnectedCallback(){this.unsubscribe()}}class Mr extends HTMLElement{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}connectedCallback(){var t;const e=null!=(t=this.getAttribute("xo-name"))?t:co;this.unsubscribe=Ko.product((({status:t,quickviewProductHtml:i})=>{var n,s;const o=(null!=(n=i[e])?n:"").replace(new RegExp(`${Ae.ProductVariant}(?=(\\s|>))`,"g"),Ae.ProductQuickViewVariant),r=(new DOMParser).parseFromString(o,"text/html");pt(Array.from(r.querySelectorAll(Ae.Animate)),(t=>{t.setAttribute("xo-type","none")}));const a=r.querySelector("template[xo-quick-view-content]"),l=r.querySelector(`${Ae.Product}[xo-product-information]:not([xo-product-information="false"])`),c=null==a?void 0:a.content.cloneNode(!0);if((null==c?void 0:c.children.length)&&(null==c?void 0:c.children.length)>1)throw new Error("The <template xo-quick-view-content> element must have only one child node.");const h=(null==c?void 0:c.children[0])||l;h&&""===this.innerHTML&&"success"===t&&(pt(Array.from(h.querySelectorAll(`${Ae.ProductQuickViewVariant} input[type="radio"], ${Ae.ProductQuickViewVariant} select`)),(t=>{const e=t.id,i=r.querySelector(`label[for="${e}"]`);t.name=Io.addFieldSignal(t.name,ao),e&&(t.id=Io.addFieldSignal(e,ao)),i&&i.setAttribute("for",Io.addFieldSignal(e,ao)),at(t,"xo-for-quick-view",!0)})),pt(Array.from(h.querySelectorAll(`[xo-name]:not(${Ae.ProductVariantSelected})`)),(t=>{t.setAttribute("xo-name",Io.addFieldSignal(t.getAttribute("xo-name"),ao))})),this.innerHTML!==h.outerHTML&&(this.innerHTML=h.outerHTML,null==(s=window.Shopify.PaymentButton)||s.init()))}))}disconnectedCallback(){this.unsubscribe()}}class Lr extends HTMLElement{constructor(){super(...arguments),n(this,"handleClick",(async()=>{const{xoModalName:t,xoToggleName:e,xoProductUrl:i,xoName:n=co}=this.options,s=document.querySelector(Ae.ProductQuickView);s&&(s.innerHTML=""),at(this,"xo-loading",!0),ii(this,"xo-loading-binding",!0),await async function(t,e){const i=new URL(e);i.search="";const n=i.href;try{Ze.set("xo-product",(t=>({...t,status:"loading"})))("xo-product/getQuickviewProductHtml/request");const i=await vo(e);Ze.set("xo-product",(e=>({...e,status:"success",quickviewProductHtml:{...e.quickviewProductHtml,[t]:i},productUrl:n})))("xo-product/getQuickviewProductHtml/success")}catch{Ze.set("xo-product",(t=>({...t,status:"error"})))("xo-product/getQuickviewProductHtml/failure")}}(n,i),at(this,"xo-loading",!1),ii(this,"xo-loading-binding",!1),t&&Ci.open(t),e&&li.open(e)}))}get options(){return qt(this,{pick:["xoName","xoProductUrl","xoModalName","xoToggleName"],types:{xoName:"string",xoProductUrl:"string",xoModalName:"string",xoToggleName:"string"}})}connectedCallback(){const{xoProductUrl:t}=this.options;if(!t)throw new Error(`${Ae.ProductQuickViewTrigger} must have a xo-product-url attribute`);this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}}class $r extends HTMLElement{connectedCallback(){if(!this.closest(Ae.Product))throw new Error(`${Ae.ProductLiquidStatic} must be a child of ${Ae.Product}}`)}}let Ir=-1;class Nr extends HTMLElement{constructor(){super(),n(this,"recipientFieldsLiveRegion"),n(this,"checkboxInput",this.querySelector('input[type="checkbox"][name="properties[__shopify_send_gift_card_to_recipient]"]')),n(this,"hiddenControlField",this.querySelector('input[type="hidden"][name="properties[__shopify_send_gift_card_to_recipient]"]')),n(this,"emailInput",this.querySelector('input[name="properties[Recipient email]"]')),n(this,"nameInput",this.querySelector('input[name="properties[Recipient name]"]')),n(this,"messageInput",this.querySelector('textarea[name="properties[Message]"]')),n(this,"sendonInput",this.querySelector('input[name="properties[Send on]"]')),n(this,"offsetProperty",this.querySelector('input[name="properties[__shopify_offset]"]')),n(this,"currentProductVariantId",""),n(this,"unsubscribe",(()=>{})),n(this,"handleChange",(()=>{var t;null!=(t=this.checkboxInput)&&t.checked?(Po(this.checkboxInput.name,"on"),this.enableInputFields(),at(this,"xo-active",!0),this.recipientFieldsLiveRegion&&window.accessibilityStrings.recipientFormExpanded&&(this.recipientFieldsLiveRegion.innerText=window.accessibilityStrings.recipientFormExpanded)):(this.clearInputFields(),this.disableInputFields(),Ze.set("xo-recipient",Co)("xo-cart/resetRecipientState"),at(this,"xo-active",!1),this.recipientFieldsLiveRegion&&window.accessibilityStrings.recipientFormCollapsed&&(this.recipientFieldsLiveRegion.innerText=window.accessibilityStrings.recipientFormCollapsed))})),n(this,"clearInputFields",(()=>{pt(this.inputFields,(t=>{t&&(t.value="")}))})),n(this,"enableInputFields",(()=>{pt(this.disableableFields,(t=>{t&&(t.disabled=!1)}))})),n(this,"disableInputFields",(()=>{pt(this.disableableFields,(t=>{t&&(t.disabled=!0)}))})),n(this,"resetRecipientForm",(()=>{var t;null!=(t=this.checkboxInput)&&t.checked&&(this.checkboxInput.checked=!1,this.handleChange(),at(this,"xo-error",!1))})),n(this,"setCurrentVariantId",(()=>{const{xoSectionId:t,xoProductId:e}=this.productEl.options,i=qo(t,e);this.currentProductVariantId=i})),n(this,"handleFieldsChange",(t=>{const e=t.target,{name:i,value:n}=e;Po(i,n)})),n(this,"bindFieldChange",(()=>{pt(this.inputFields,(t=>{t&&t.addEventListener("input",this.handleFieldsChange)}))})),this.recipientFieldsLiveRegion=this.querySelector(`#Recipient-fields-live-region-${this.dataset.sectionId}`),this.checkboxInput&&(this.checkboxInput.disabled=!1),this.hiddenControlField&&(this.hiddenControlField.disabled=!0),this.offsetProperty&&(this.offsetProperty.value=(new Date).getTimezoneOffset().toString())}get productEl(){return this.closest(Ae.Product)}get inputFields(){return[this.emailInput,this.nameInput,this.messageInput,this.sendonInput]}get disableableFields(){return[...this.inputFields,this.offsetProperty]}connectedCallback(){if(!this.productEl)throw new Error(`${Ae.ProductRecipientForm} must be in ${Ae.Product}`);this.bindFieldChange(),this.handleChange(),this.addEventListener("change",this.handleChange),this.setCurrentVariantId(),vr.off(Ir),Ir=vr.on("change",this.setCurrentVariantId),this.unsubscribe=Ko.cart((({isAdded:t,variantId:e,addErrorMessage:i})=>{if(i){const t=this.querySelector(Ae.ProductRecipientFormError);t&&(t.innerText=i,at(this,"xo-error",!0))}t&&e===this.currentProductVariantId&&this.resetRecipientForm()}))}disconnectedCallback(){this.removeEventListener("change",this.handleChange),vr.off(Ir),this.unsubscribe()}}class Or extends HTMLElement{constructor(){super(...arguments),n(this,"handleIntersection",(async(t,e)=>{var i;try{if(!t[0].isIntersecting)return;e.unobserve(this);const{xoUrl:n}=this.options,s=await(await fetch(n)).text(),o=document.createElement("div");o.innerHTML=s;const r=o.querySelector(Ae.ProductRecommendations);if(r&&r.innerHTML.trim().length){this.innerHTML=r.innerHTML;const t=null==(i=this.closest('[id^="shopify-section-template--"]'))?void 0:i.querySelectorAll("[xo-products-count]");null==t||t.forEach(((t,e)=>{const i=o.querySelectorAll("[xo-products-count]")[e];t.setAttribute("xo-products-count",`${i.getAttribute("xo-products-count")}`)})),pt(Array.from(this.querySelectorAll('[xo-animate="scroll"]')),(t=>{at(t,"xo-visible",!0)}))}else if(window.Xotiny){if(n.endsWith("intent=related")){const t=this.closest('[id^="shopify-section-template--"]');null==t||t.remove()}}else{const t=this.closest("[data-xb-section-id]");null==t||t.remove()}}catch(t){console.error(t)}}))}get options(){return qt(this,{pick:["xoUrl"],types:{xoUrl:"string"}})}connectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode||new IntersectionObserver(this.handleIntersection,{rootMargin:"0px 0px 800px 0px"}).observe(this)}}const Dr=300;let qr=(m=class extends le{constructor(){super(...arguments),n(this,"state",{isHover:!1,carouselNextContent:"",carouselPrevContent:""}),n(this,"productEl",this.closest(Ae.Product)),n(this,"contentEl",null),n(this,"media"),n(this,"animated",ft()),n(this,"delayCancel",(()=>{})),n(this,"renderCarousel",(()=>{if(!this.media||this.contentEl)return"";const{xoCarouselAutoplay:t,xoCarouselType:e,xoImageLazyloadOverlayContent:i,xoCarouselPaginationEnabled:n,xoCarouselBulletContent:s,xoCarouselActiveIndex:o,xoCarouselDynamicBulletsEnabled:r,xoCarouselDynamicBulletsPerView:a}=this.props,{carouselNextContent:l,carouselPrevContent:c}=this.state,h=l&&c,u=this.media.filter((t=>"image"===t.media_type));return u.length<=1?"":`\n      <xo-carousel xo-product-media-content xo-type="${e}" xo-active-index="${o}" xo-rewind xo-speed="600" xo-autoplay="${t}" xo-render-bullet="${s}" xo-dragable="false">\n        <xo-carousel-inner>\n          <xo-carousel-list>\n            ${u.map((t=>{var e;return`\n                <xo-carousel-slide>\n                  <div style="position: relative"><img is="xo-lazyload" src="${Ft(t.src,{width:100})}" alt="${null!=(e=t.alt)?e:""}" /><div class="xo-lazyload-overlay">${i}</div></div>\n                </xo-carousel-slide>\n              `})).join("")}\n          </xo-carousel-list>\n        </xo-carousel-inner>\n        ${h?`<xo-carousel-prev style="opacity: 0">${c}</xo-carousel-prev><xo-carousel-next style="opacity: 0">${l}</xo-carousel-next>`:""}\n        ${n?r?`<xo-carousel-dynamic-bullets xo-per-view="${a}"><xo-carousel-pagination></xo-carousel-pagination></xo-carousel-dynamic-bullets>`:"<xo-carousel-pagination></xo-carousel-pagination>":""}\n      </xo-carousel>\n    `})),n(this,"renderVideo",(()=>{var t;if(!this.media||this.contentEl)return"";const e=(null==(t=this.media.filter((t=>"video"===t.media_type)))?void 0:t[0]).sources.filter((t=>"mp4"===t.format)).reduce(((t,e)=>e.width>t.maxWidth?{url:e.url,maxWidth:e.width}:t),{url:"",maxWidth:0}).url;return e?`\n      <xo-video-cover xo-product-media-content xo-src="${e}" style="opacity: 0"></xo-video-cover>\n    `:""})),n(this,"handleNextElementHide",(async()=>{const{xoCarouselAutoplay:t}=this.props;this.delayCancel=await gt(t+100||Dr);const{isHover:e}=this.state;e&&pt(Array.from(this.querySelectorAll("[xo-product-media-content] ~ *")),(t=>{at(t,"xo-hidden",!0)}))})),n(this,"handleNextElementShow",(()=>{pt(Array.from(this.querySelectorAll("[xo-product-media-content] ~ *")),(t=>{at(t,"xo-hidden",!1)}))})),n(this,"getType",(()=>{var t;const{xoType:e}=this.props;return"carousel"===e?"carousel":"video"===e||null!=(t=this.media)&&t.some((t=>"video"===t.media_type))?"video":"carousel"})),n(this,"handleMouseEnter",(async()=>{const t=this.getType();if(this.setState({isHover:!0}),"carousel"===t){this.delayCancel(),this.insertAdjacentHTML("afterbegin",this.renderCarousel()),this.contentEl=this.querySelector("[xo-product-media-content]"),this.contentEl.addEventListener("xo:carousel:init",this.handleNextElementHide),await gt(Dr);const t=this.contentEl.querySelector(Ae.CarouselNext),e=this.contentEl.querySelector(Ae.CarouselPrev);t&&e&&this.animated({from:0,to:1,duration:Dr,onUpdate:i=>{t.style.opacity=`${i}`,e.style.opacity=`${i}`}})}else this.insertAdjacentHTML("afterbegin",this.renderVideo()),this.contentEl=this.querySelector("[xo-product-media-content]"),this.animated({from:0,to:1,duration:400,onUpdate:t=>{this.contentEl.style.opacity=`${t}`}})})),n(this,"handleMouseLeave",(()=>{this.setState({isHover:!1}),this.handleNextElementShow(),this.delayCancel(),this.contentEl&&(this.contentEl.removeEventListener("xo:carousel:init",this.handleNextElementHide),this.animated.off(),this.animated({from:1,to:0,duration:Dr,onUpdate:t=>{this.contentEl.style.opacity=`${t}`},onEnd:()=>{this.contentEl.remove(),this.contentEl=null}}))}))}async mount(){var t,e;if(await gt(),!this.productEl)throw new Error(`${Ae.ProductMedia} must be in ${Ae.Product}`);const{xoTargetSelector:i}=this.props,{xoProductId:n}=this.productEl.options,{productData:s}=wo();this.media=s[n].media;const o=i?this.querySelector(i):this,r=null!=o?o:this;r.addEventListener("mouseenter",this.handleMouseEnter),r.addEventListener("mouseleave",this.handleMouseLeave),this.setState({carouselNextContent:null!=(t=this.props.xoCarouselNextContent)?t:"",carouselPrevContent:null!=(e=this.props.xoCarouselPrevContent)?e:""}),this.setProps({xoCarouselNextContent:void 0,xoCarouselPrevContent:void 0})}unmount(){var t,e;const{xoTargetSelector:i}=this.props,n=i?this.querySelector(i):this,s=null!=n?n:this;null==(t=this.animated)||t.off(),this.handleNextElementShow(),this.delayCancel(),s.removeEventListener("mouseenter",this.handleMouseEnter),s.removeEventListener("mouseleave",this.handleMouseLeave),null==(e=this.contentEl)||e.removeEventListener("xo:carousel:init",this.handleNextElementHide)}},n(m,"propTypes",{xoType:"string",xoTargetSelector:"string",xoCarouselAutoplay:"number",xoCarouselPrevContent:"string",xoCarouselNextContent:"string",xoCarouselType:"string",xoCarouselPaginationEnabled:"boolean",xoCarouselBulletContent:"string",xoCarouselActiveIndex:"number",xoCarouselDynamicBulletsEnabled:"boolean",xoCarouselDynamicBulletsPerView:"number",xoRtl:"boolean",xoImageLazyloadOverlayContent:"string"}),n(m,"defaultProps",{xoType:"carousel",xoTargetSelector:"",xoCarouselAutoplay:1500,xoCarouselPrevContent:"",xoCarouselNextContent:"",xoCarouselType:"fade",xoCarouselPaginationEnabled:!1,xoCarouselBulletContent:"<span></span>",xoCarouselActiveIndex:1,xoCarouselDynamicBulletsEnabled:!1,xoCarouselDynamicBulletsPerView:3,xoRtl:"rtl"===getComputedStyle(document.documentElement).direction,xoImageLazyloadOverlayContent:""}),m);qr=Yi([ce(Ae.ProductMedia)],qr);const Fr=100;let Hr=(x=class extends le{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"animated",ft()),n(this,"handleAnimate",((t,e)=>i=>{const{top:n,left:s}=zt(t),{width:o,height:r}=t.getBoundingClientRect(),{top:a,left:l}=zt(e),{width:c,height:h}=e.getBoundingClientRect(),u=Ht({inputRange:[0,Fr],outputRange:[n,a],easing:t=>-2*t*t*t- -3*t*t,value:i}),d=Ht({inputRange:[0,Fr],outputRange:[s,l],value:i}),p=Ht({inputRange:[0,Fr],outputRange:[o,c],value:i}),m=Ht({inputRange:[0,Fr],outputRange:[r,h],value:i});this.style.top=`${u}px`,this.style.left=`${d}px`,this.style.width=`${p}px`,this.style.height=`${m}px`})),n(this,"handle",(t=>{const{xoSpeed:e,xoEasing:i}=this.props,n=document.querySelector("[xo-cart-fly-end]");n&&(this.style.display="block",this.animated({from:0,to:Fr,duration:e,easing:Pt[i],onUpdate:this.handleAnimate(t,n),onEnd:()=>{this.style.removeProperty("display")}}))}))}mount(){this.unsubscribe=Ko.cart((t=>{var e,i;let n="";t.item?n=null==(e=t.item)?void 0:e.featured_image.src:t.items&&t.items.length>0&&(n=null==(i=t.items[0])?void 0:i.featured_image.src),n&&this.style.setProperty("--product-featured-image",`url('${Ft(n,{width:300})}')`)}))}unmount(){this.unsubscribe()}},n(x,"propTypes",{xoSpeed:"number",xoEasing:"string"}),n(x,"defaultProps",{xoSpeed:1e3,xoEasing:"ease"}),x);Hr=Yi([ce(Ae.CartFly)],Hr);let Rr=(n(g=class extends le{},"propTypes",{xoName:"string",xoDiscounts:"array"}),n(g,"defaultProps",{xoDiscounts:[]}),g);Rr=Yi([ce(Ae.BundleProvider)],Rr);let Vr=(v=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundleContent} must be a child of ${Ae.BundleProvider}}`);const{xoName:t}=this.providerEl.props,{xoGroup:e}=this.props;this.unsubscribe=Ko.bundle((({bundles:i})=>{var n,s;const o=null!=(s=e?null==(n=i[t])?void 0:n.filter((t=>t.group===e)):i[t])?s:[];this.setState({bundle:o}),this.setProps({xoEmpty:0===o.length})}),((t,e)=>(null==t?void 0:t.observed)===(null==e?void 0:e.observed)))}stateUpdate(){const{bundle:t}=this.state;this.innerHTML=t.map((t=>t.html)).join("")}unmount(){this.unsubscribe()}},n(v,"propTypes",{xoGroup:"string",xoEmpty:"boolean"}),v);Vr=Yi([ce(Ae.BundleContent)],Vr);let Br=(b=class extends le{constructor(){super(...arguments),n(this,"productEl",this.closest(Ae.Product)),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{})),n(this,"getBundleTemplateEl",(()=>this.productEl.querySelector(`template[${ho}]`))),n(this,"getBundlePropTemplateEl",(()=>this.providerEl.querySelector("template[xo-bundle-property]"))),n(this,"handleClick",(()=>{var t,e;const{xoName:i}=this.providerEl.props,{xoGroup:n}=this.props,{xoProductId:s,xoSectionId:o}=this.productEl.options,r=qo(o,s).toString(),a=Vo(this.closest(Ae.Product)),l=this.getBundleTemplateEl(),c=this.getBundlePropTemplateEl(),h=null==l?void 0:l.getAttribute("xo-bundle-price"),u=null==l?void 0:l.content.querySelector(Ae.CartQuantity),d=null==l?void 0:l.content.querySelector(Ae.BundleRemove),p=null==l?void 0:l.content.querySelector(Ae.BundleProperties);null==u||u.setAttribute("xo-variant-id",r),null==d||d.setAttribute("xo-variant-id",r),a&&c&&p&&(p.innerHTML="",pt(Object.entries(a),(([t,e])=>{const i=t.replace(/properties\[|\]/g,""),n=c.innerHTML.replace(/{\s*label\s*}/g,i).replace(/{\s*value\s*}/g,e);p.insertAdjacentHTML("beforeend",n)})));const m=null==l?void 0:l.innerHTML;if(m&&h){const o=Number(h),l=null!=(e=null==(t=this.productEl.querySelector(`${Ae.CartQuantity} input`))?void 0:t.value)?e:"1";!function(t,e){Ze.set("xo-bundle",(i=>{var n,s;const o=null!=(s=null==(n=i.bundles)?void 0:n[t])?s:[];return o.some((t=>t.productId===e.productId&&t.variantId===e.variantId))?{...i,observed:i.observed+1,bundles:{...i.bundles,[t]:o.map((t=>t.productId===e.productId&&t.variantId===e.variantId?{...t,quantity:t.quantity+1}:t))}}:{...i,observed:i.observed+1,bundles:{...i.bundles,[t]:[...o,e]}}}))("xo-bundle/addBundleItem")}(i,{group:n,variantId:r,html:m,productId:s,productPrice:o,quantity:Number(l),trigger:this,properties:a})}}))}async mount(){if(!this.providerEl)throw new Error(`${Ae.BundleAdd} must be a child of ${Ae.BundleProvider}}`);this.addEventListener("click",this.handleClick)}unmount(){this.removeEventListener("click",this.handleClick),this.unsubscribe()}},n(b,"propTypes",{xoGroup:"string"}),n(b,"defaultProps",{}),b);Br=Yi([ce(Ae.BundleAdd)],Br);let zr=(f=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"handleClick",(()=>{const{xoName:t}=this.providerEl.props,{xoVariantId:e}=this.props;!function(t,e){Ze.set("xo-bundle",(i=>({...i,observed:i.observed+1,bundles:{...i.bundles,[t]:i.bundles[t].filter((t=>t.variantId!==e))}})))("xo-bundle/removeBundleItem")}(t,e)}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundleRemove} must be a child of ${Ae.BundleProvider}}`);this.addEventListener("click",this.handleClick)}unmount(){this.removeEventListener("click",this.handleClick)}},n(f,"propTypes",{xoVariantId:"string"}),f);zr=Yi([ce(Ae.BundleRemove)],zr);let _r=(y=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundlePrice} must be a child of ${Ae.BundleProvider}}`);const{xoCompareAtPrice:t}=this.props,{xoDiscounts:e,xoName:i}=this.providerEl.props,n=document.documentElement.getAttribute("xo-money-format");if(!n)throw new Error('xo-money-format="{{ shop.money_format }}" attribute of <html> is required');this.unsubscribe=Ko.bundle((({bundles:s})=>{var o;const r=null!=(o=s[i])?o:[],a=r.reduce(((t,e)=>t+e.productPrice*e.quantity),0),l=r.reduce(((t,e)=>t+e.quantity),0),c=Math.min(...e.map((({minQuantity:t})=>t)));if(t)if(l>=c){const t=ye(a,n);this.innerHTML=t,this.setProps({xoHidden:!1})}else this.innerHTML="",this.setProps({xoHidden:!0});else if(e.length)if(l>=c){const t=e.map((({type:t,value:e,minQuantity:i})=>{if("percentage"===t){const t=e,s=r.reduce(((e,i)=>e+Bo(i.productPrice,t)*i.quantity),0);return{compare:s,minQuantity:i,price:ye(s,n)}}const s=a-e*Number(window.Shopify.currency.rate);return{compare:s,minQuantity:i,price:ye(s,n)}})),{price:i}=t.filter((t=>l>=t.minQuantity)).sort(((t,e)=>t.compare-e.compare))[0];this.innerHTML=i}else{const t=ye(a,n);this.innerHTML=t}}))}unmount(){this.unsubscribe()}},n(y,"propTypes",{xoCompareAtPrice:"boolean",xoHidden:"boolean"}),n(y,"defaultProps",{xoCompareAtPrice:!1}),y);_r=Yi([ce(Ae.BundlePrice)],_r);let Wr=(E=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundleSize} must be a child of ${Ae.BundleProvider}}`);const{xoName:t}=this.providerEl.props;this.unsubscribe=Ko.bundle((({bundles:e})=>{var i;const n=(null!=(i=e[t])?i:[]).reduce(((t,e)=>t+e.quantity),0);this.style.setProperty("--xo-size",`${n}`),this.setProps({xoSize:n})}))}unmount(){this.unsubscribe()}},n(E,"propTypes",{xoSize:"number"}),n(E,"defaultProps",{xoSize:0}),E);Wr=Yi([ce(Ae.BundleSize)],Wr);let Ur=(w=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundlePlaceholder} must be a child of ${Ae.BundleProvider}}`);const{xoDiscounts:t,xoName:e}=this.providerEl.props,i=Math.max(...t.map((({minQuantity:t})=>t))),n=this.innerHTML;this.unsubscribe=Ko.bundle((({bundles:t})=>{var s;const o=null!=(s=t[e])?s:[];this.innerHTML=oe(0,i-o.length).map((()=>n)).join("")}))}unmount(){this.unsubscribe()}},n(w,"propTypes",{}),n(w,"defaultProps",{}),w);Ur=Yi([ce(Ae.BundlePlaceholder)],Ur);let Yr=(S=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundleProgress} must be a child of ${Ae.BundleProvider}}`);const{xoDiscounts:t,xoName:e}=this.providerEl.props,i=Math.min(...t.map((({minQuantity:t})=>t)));this.unsubscribe=Ko.bundle((({bundles:t})=>{var n;const s=(null!=(n=t[e])?n:[]).reduce(((t,e)=>t+e.quantity),0);this.style.setProperty("--xo-x",`${Math.min(0,s/i*100-100)}%`),this.setProps({xoQualified:s>=i})}))}unmount(){this.unsubscribe()}},n(S,"propTypes",{xoQualified:"boolean"}),n(S,"defaultProps",{}),S);Yr=Yi([ce(Ae.BundleProgress)],Yr);let Gr=(C=class extends le{constructor(){super(...arguments),n(this,"providerEl",this.closest(Ae.BundleProvider)),n(this,"unsubscribe",(()=>{}))}mount(){if(!this.providerEl)throw new Error(`${Ae.BundleStep} must be a child of ${Ae.BundleProvider}}`);const{xoDiscounts:t,xoName:e}=this.providerEl.props,{xoMinQuantity:i}=this.props;this.unsubscribe=Ko.bundle((({bundles:n})=>{var s,o,r;const a=null!=(s=n[e])?s:[],l=a.reduce(((t,e)=>t+e.productPrice*e.quantity),0),c=a.reduce(((t,e)=>t+e.quantity),0);if(c>0){const e=t.map((({type:t,value:e,minQuantity:i})=>"percentage"===t?{compare:l-Math.floor(l*e/100),minQuantity:i}:{compare:l-e,minQuantity:i}));if(e){const t=null==(r=null==(o=e.filter((t=>c>=t.minQuantity)).sort(((t,e)=>t.compare-e.compare)))?void 0:o[0])?void 0:r.minQuantity;this.setProps({xoQualified:t===i})}}else this.setProps({xoQualified:!1})}))}unmount(){this.unsubscribe()}},n(C,"propTypes",{xoMinQuantity:"number",xoQualified:"boolean"}),n(C,"defaultProps",{}),C);Gr=Yi([ce(Ae.BundleStep)],Gr);let jr=(P=class extends le{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"handleQuantity",(()=>{const{xoValue:t,xoChecked:e}=this.props,{xoSectionId:i,xoProductId:n,xoLine:s}=this.productOptions;if(t){const o=e?1:t;zo(i,n,s,(()=>o))}}))}getProductEl(){return this.closest(Ae.Product)}get productOptions(){return this.getProductEl().options}async mount(){await gt(),this.getProductEl()||console.error(`${Ae.CartQuantityTrigger} must be a child of ${Ae.Product}}`);const{xoValue:t,xoChecked:e}=this.props,{xoSectionId:i,xoProductId:n,xoLine:s}=this.productOptions;this.addEventListener("click",this.handleQuantity),this.unsubscribe=Ko.cartForm((e=>{var o;const r=null==(o=null==e?void 0:e[Oo(i,n,s)])?void 0:o.quantity;this.setProps({xoChecked:r===t})})),e&&this.handleQuantity()}unmount(){this.removeEventListener("click",this.handleQuantity),this.unsubscribe()}},n(P,"propTypes",{xoValue:"number",xoDiscount:"object",xoChecked:"boolean"}),n(P,"defaultProps",{xoValue:0,xoChecked:!1}),P);jr=Yi([ce(Ae.CartQuantityTrigger)],jr);let Xr=(k=class extends le{constructor(){super(...arguments),n(this,"cartQuantityTriggerEl",this.closest(Ae.CartQuantityTrigger))}mount(){var t;const{xoPrice:e,xoQuantity:i,xoDiscount:n}=this.props,s=null==(t=this.cartQuantityTriggerEl)?void 0:t.props,o=null!=n?n:null==s?void 0:s.xoDiscount,r=null!=i?i:null==s?void 0:s.xoValue;if(!o||!r)return;const a=document.documentElement.getAttribute("xo-money-format");if(!a)throw new Error('xo-money-format="{{ shop.money_format }}" attribute of <html> is required');if("percentage"===o.type){const t=ye(Bo(e/r,o.value)*r,a);this.innerHTML=t}else{const t=ye(e-o.value*Number(window.Shopify.currency.rate),a);this.innerHTML=t}}},n(k,"propTypes",{xoPrice:"number",xoQuantity:"number",xoDiscount:"object"}),k);Xr=Yi([ce(Ae.PriceReduced)],Xr);let Qr=(A=class extends le{constructor(){super(...arguments),n(this,"productEl",this.closest(Ae.Product)),n(this,"unsubscribe",(()=>{})),n(this,"handler",(async()=>{const{xoUrl:t}=this.props;if(!t)return;const e=await vo(t),i=(new DOMParser).parseFromString(e,"text/html"),n=Array.from(i.querySelectorAll(Ae.ProductProperty));this.innerHTML="",pt(n,(t=>{this.appendChild(t)}))}))}mount(){if(!this.productEl)throw new Error(`${Ae.ProductProperty} must be in ${Ae.Product}`);const t=this.closest(Ae.Toggle),e=this.closest(Ae.Modal);if(t){const{xoName:e}=t.options;if(!e)return;this.unsubscribe=Ze.subscribe("xo-toggle",(({data:t})=>{var i;(null==(i=t[e])?void 0:i.isOpen)&&this.handler()}))}if(e){const{xoName:t}=e.options;if(!t)return;this.unsubscribe=Ze.subscribe("xo-modal",(({data:e})=>{var i;(null==(i=e[t])?void 0:i.isOpen)&&this.handler()}))}}unmount(){this.unsubscribe()}},n(A,"propTypes",{xoUrl:"string"}),A);Qr=Yi([ce(Ae.ProductProperties)],Qr);let Zr=(n(T=class extends le{mount(){const t=Array.from(this.querySelectorAll("input, select")),e=this.closest(Ae.Product);if(!e)throw new Error(`${Ae.ProductProperty} must be in ${Ae.Product}`);const i=e.querySelector(po),n=null==i?void 0:i.getAttribute("id");!n||pt(t,(t=>{t.setAttribute("form",n)}))}},"propTypes",{}),T);Zr=Yi([ce(Ae.ProductProperty)],Zr),Ze.create("xo-cart",{initialState:{addIdLoading:"",isAdded:!1,variantId:"",changeLineLoading:-1,addErrorMessage:"",changeErrorMessage:"",size:0,sections:{[Ae.Cart]:""}}}),Ze.create("xo-cart-form",{initialState:{}}),Ze.create("xo-product",{initialState:{status:"idle",productHtml:"",pickupAvailabilityHtml:"",quickviewProductHtml:{},featuredProductHtmls:{},productData:{}}}),Ze.create("xo-cart-note",{initialState:{status:"idle",note:"",noteDraft:""}}),Ze.create("xo-cart-discount",{initialState:{discount:""},useStorage:!0}),Ze.create("xo-cart-shipping-rates",{initialState:{status:"idle",shippingRates:[],errorMessages:[]}}),Ze.create("xo-cart-shipping-rates-form",{initialState:{zip:"",country:"",province:"",provinces:[]}}),Ze.create("xo-recipient",{initialState:Co}),Ze.create("xo-bundle",{initialState:{observed:1,bundles:{}}});const Kr={on(t,e){return Ko.product((({status:i,productHtml:n})=>{i===t&&e(n)}))}};window.xoProductQuickView=Kr,window.cartFormSubscribe=Uo,window.cartSubscribe=$o,window.getCartFormState=Wo,window.productSubscribe=So,xt({[Ae.ProductData]:Cr,[Ae.Product]:kr,[Ae.Cart]:Jo,[Ae.CartMini]:nr,[Ae.CartAdd]:tr,[Ae.CartAddError]:xr,[Ae.CartRemove]:er,[Ae.CartSize]:ir,[Ae.CartChangeFallback]:sr,[Ae.CartQuantity]:or,[Ae.CartQuantityMinus]:rr,[Ae.CartQuantityPlus]:ar,[Ae.CartNote]:lr,[Ae.CartNoteSubmit]:cr,[Ae.CartDiscount]:hr,[Ae.CartDiscountSubmit]:ur,[Ae.CartShippingRatesField]:dr,[Ae.CartShippingRatesSubmit]:pr,[Ae.CartShippingRatesError]:mr,[Ae.CartWillChange]:gr,[Ae.ProductVariant]:Sr,[Ae.ProductWillChange]:Pr,[Ae.ProductPickupAvailability]:Ar,[Ae.ProductPickupAvailabilityList]:Tr,[Ae.ProductQuickView]:Mr,[Ae.ProductQuickViewTrigger]:Lr,[Ae.ProductQuickViewVariant]:class extends Sr{constructor(){super(document.querySelector(`${Ae.ProductQuickView} ${Ae.Product}`),'input[type="radio"][xo-for-quick-view], select[xo-for-quick-view]',!0)}},[Ae.ProductLiquidStatic]:$r,[Ae.ProductRecipientForm]:Nr,[Ae.ProductRecommendations]:Or});const Jr=new bt;class ta extends HTMLElement{constructor(){super(...arguments),n(this,"buttonEls",[]),n(this,"handleClick",(t=>{t.preventDefault();const e=t.currentTarget;at(e,"xo-active",!0),pt(this.buttonEls,(t=>{t!==e&&at(t,"xo-active",!1)})),Jr.emit("change",{element:e,index:this.buttonEls.indexOf(e)})}))}connectedCallback(){this.buttonEls=Array.from(this.querySelectorAll(Ae.GroupButton)),pt(this.buttonEls,(t=>{t.addEventListener("click",this.handleClick)}))}disconnectedCallback(){pt(this.buttonEls,(t=>{t.removeEventListener("click",this.handleClick)}))}}const ea={on:Jr.on.bind(Jr)};window.xoGroup=ea,xt({[Ae.Group]:ta});const ia={easeLight:"cubic-bezier(0, 0, 0.3, 1)",easeInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",easeOut:"cubic-bezier(0.165, 0.84, 0.44, 1)",easeIn:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)",easeInBack:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",easeInOutBack:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",easeInCirc:"cubic-bezier(0.6, 0.04, 0.98, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.82, 0.165, 1)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",easeInCubic:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easeOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1)",easeInExpo:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInOutExpo:"cubic-bezier(1, 0, 0, 1)",easeInQuad:"cubic-bezier(0.55, 0.085, 0.68, 0.53)",easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",easeInOutQuad:"cubic-bezier(0.455, 0.03, 0.515, 0.955)",easeInQuart:"cubic-bezier(0.895, 0.03, 0.685, 0.22)",easeOutQuart:"cubic-bezier(0.165, 0.84, 0.44, 1)",easeInOutQuart:"cubic-bezier(0.77, 0, 0.175, 1)",easeInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutQuint:"cubic-bezier(0.86, 0, 0.07, 1)",easeInSine:"cubic-bezier(0.47, 0, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.39, 0.575, 0.565, 1)",easeInOutSine:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeInBounce:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutBounce:"cubic-bezier(0.23, 1, 0.32, 1)",linear:"cubic-bezier(0, 0, 1, 1)",spring:"cubic-bezier(.27,.79,.45,1.24)"};function na(t){return t.closest(`${Ae.Carousel}:not([xo-per-view]):not([xo-column-width])`)||t.closest(`${Ae.Carousel}[xo-per-view="1"]:not([xo-column-width])`)||t.closest(Ae.Toggle)||t.closest(Ae.Modal)||t.closest(Ae.Popover)||t.closest(Ae.TabsPane)}const sa=!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches;async function oa(t,e){const{xoDuration:i,xoOrder:n,xoConstant:s,xoDisabled:o}=e,r=Array.from(t.querySelectorAll("[xo-next-d], [xo-next-stroke-dasharray], [xo-next-stroke-dashoffset]")).filter((e=>{const i=e.closest(Ae.Animate);return!(i&&i!==t)}));0!==r.length&&(o||await gt(n*s),pt(r,(t=>{const e=ft(),n=t.getAttribute("d"),s=t.getAttribute("xo-next-d"),r=t.getAttribute("stroke-dasharray"),a=t.getAttribute("xo-next-stroke-dasharray"),l=t.getAttribute("stroke-dashoffset"),c=t.getAttribute("xo-next-stroke-dashoffset");if(n&&s){const r=re.toArray(n),a=re.toArray(s);e({from:0,to:1,duration:sa||o?0:i,easing:Pt.linear,onUpdate:e=>{const i=Tt(r,((t,i)=>{const n=a[i];if(t.type===(null==n?void 0:n.type)){const i=Tt(t.values,((t,i)=>{const s=n.values[i];return Ht({value:e,inputRange:[0,1],outputRange:[t,s]})})).filter(Boolean);return{...t,values:i}}return t}));t.setAttribute("d",re.toString(i))}})}if(r&&a){const n=r.replace(/\s+/g," ").split(" "),s=a.replace(/\s+/g," ").split(" ");e({from:0,to:1,duration:sa||o?0:i,easing:Pt.linear,onUpdate:e=>{const i=Tt(n,((t,i)=>{var n,o;const r=s[i];return Ht({value:e,inputRange:[0,1],outputRange:[Number((null==(n=t.match(/[\d.]*/g))?void 0:n[0])||0),Number((null==(o=r.match(/[\d.]*/g))?void 0:o[0])||0)]})}));t.setAttribute("stroke-dasharray",i.join(" "))}})}if(l&&c){const n=l.replace(/\s+/g," ").split(" "),s=c.replace(/\s+/g," ").split(" ");e({from:0,to:1,duration:sa?0:i,easing:Pt.linear,onUpdate:e=>{const i=Tt(n,((t,i)=>{var n,o;const r=s[i];return Ht({value:e,inputRange:[0,1],outputRange:[Number((null==(n=t.match(/[\d.]*/g))?void 0:n[0])||0),Number((null==(o=r.match(/[\d.]*/g))?void 0:o[0])||0)]})}));t.setAttribute("stroke-dashoffset",i.join(" "))}})}})))}function ra(t){pt(Array.from(t.querySelectorAll("[xo-prev-d], [xo-prev-stroke-dasharray], [xo-prev-stroke-dashoffset]")),(t=>{const e=t.getAttribute("d"),i=t.getAttribute("xo-prev-d"),n=t.getAttribute("stroke-dasharray"),s=t.getAttribute("xo-prev-stroke-dasharray"),o=t.getAttribute("stroke-dashoffset"),r=t.getAttribute("xo-prev-stroke-dashoffset");i&&e&&t.setAttribute("d",i),s&&n&&t.setAttribute("stroke-dasharray",s),r&&o&&t.setAttribute("stroke-dashoffset",r)}))}const aa={"xo-goo-1":{stdDeviation:{start:50,end:0}},"xo-goo-2":{stdDeviation:{start:20,end:0},scale:{start:100,end:0},baseFrequency:{start:.1,end:.05}},"xo-goo-3":{stdDeviation:{start:40,end:0},scale:{start:150,end:0}},"xo-goo-4":{stdDeviation:{start:70,end:0},scale:{start:200,end:0}},"xo-goo-5":{stdDeviation:{start:40,end:0},scale:{start:100,end:0}},"xo-goo-6":{stdDeviation:{start:90,end:0},scale:{start:300,end:0},baseFrequency:{start:.1,end:.01}},"xo-goo-7":{stdDeviation:{start:35,end:0},scale:{start:250,end:0}}};function la(t,e,i){const n=t.getAttribute("xo-type");if(null==n||!n.startsWith("goo-"))return;const s=`xo-${n}`,o=document.querySelector(`#${s} feGaussianBlur`),r=document.querySelector(`#${s} feTurbulence`),a=document.querySelector(`#${s} feDisplacementMap`);t.style.filter=`url(#${s})`,t.style.opacity="0",ft()({from:0,to:1,duration:e+1200,easing:Pt.easeOutExpo,onUpdate:e=>{const i=[0,1],n=aa[s].stdDeviation,l=aa[s].scale,c=aa[s].baseFrequency,h=null!=n?Ht({value:e,inputRange:i,outputRange:[n.start,n.end]}):null,u=null!=l?Ht({value:e,inputRange:i,outputRange:[l.start,l.end]}):null,d=null!=c?Ht({value:e,inputRange:i,outputRange:[c.start,c.end]}):null;h&&(null==o||o.setAttribute("stdDeviation",h.toString())),u&&(null==a||a.setAttribute("scale",u.toString())),d&&(null==r||r.setAttribute("baseFrequency",d.toString())),t.style.opacity=e.toString()}})}const ca=new IntersectionObserver((t=>{const e=requestAnimationFrame((()=>{let i=-1;t.forEach((async t=>{const n=t.target,{xoCascade:s,xoDuration:o,xoConstant:r,xoItemUsed:a,xoOrder:l}=n.options;t.isIntersecting&&(at(n,"xo-visible",!0),ii(n,"xo-visible-binding",!0),n.removeAttribute("aria-disabled"),n.handleWidthIncrement(),oa(n,n.options),s?(i++,n.style.setProperty("--xo-order",`${i}`)):l&&(i=l),na(n)||la(n,o),ca.unobserve(n),cancelAnimationFrame(e),await gt(o+Math.max(1,i+1)*r+200),a?n.getItemEls().forEach((t=>{t.style.opacity="1"})):(n.style.animation="none",n.style.opacity="1"))}))}))}),{rootMargin:"0px 0px -50px 0px"}),ha=class extends HTMLElement{constructor(){super(...arguments),n(this,"timeId",-1),n(this,"cssId",""),n(this,"_options"),n(this,"cancel",(()=>{})),n(this,"getItemEls",(()=>this.querySelectorAll(Ae.AnimateItem))),n(this,"handleWidthIncrement",(()=>{const{xoType:t,xoDuration:e}=this.options;if("width-increment"===t){const t=Array.from(this.children);pt(t,(t=>{t.style.width="var(--xo-width)",t.style.maxWidth="none"})),this.style.width="var(--xo-width)",clearTimeout(this.timeId),this.timeId=window.setTimeout((()=>{pt(t,(t=>{t.style.removeProperty("width"),t.style.removeProperty("max-width")})),this.style.removeProperty("width"),clearTimeout(this.timeId)}),e)}})),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoDuration","xoConstant","xoOrder","xoType","xoEasing","xoStrength","xoCascade","xoDisabled","xoItemUsed","xoScrollForced"],types:{xoDuration:"number",xoConstant:"number",xoOrder:"number",xoType:"string",xoEasing:"string",xoStrength:"number",xoCascade:"boolean",xoDisabled:"boolean",xoItemUsed:"boolean",xoScrollForced:"boolean"}})}))}static get observedAttributes(){return["xo-observed","xo-duration","xo-type","xo-easing","xo-strength","xo-cascade","xo-order","xo-constant","xo-disabled","xo-visible"]}get options(){return{...ha.defaultOptions,...this._options}}set options(t){this._options=t}async connectedCallback(){var t,e,i;this.setOptions();const{xoConstant:n,xoOrder:s,xoDuration:o,xoEasing:r,xoStrength:a,xoType:l,xoCascade:c,xoDisabled:h,xoItemUsed:u,xoScrollForced:d}=this.options;if(h||sa)return at(this,"xo-visible",!1),ii(this,"xo-visible-binding",!1),this.style.removeProperty("animation"),this.style.removeProperty("--xo-order"),this.style.removeProperty("--xo-strength"),this.style.removeProperty("--xo-constant"),this.style.removeProperty("--xo-duration"),void this.style.removeProperty("--xo-easing");const p=d?null:na(this);if(!rt(this,"xo-visible")&&!p&&(u?this.getItemEls().forEach((t=>{t.style.opacity="0.01",t.setAttribute("aria-disabled","true"),t.setAttribute("xo-type",`${l}`)})):(this.style.opacity="0.01",this.setAttribute("aria-disabled","true"))),this.setAttribute("xo-type",`${l}`),this.style.setProperty("--xo-order",`${s}`),this.style.setProperty("--xo-strength",`${a}`),this.style.setProperty("--xo-constant",`${n}`),this.style.setProperty("--xo-duration",`${o}`),this.style.setProperty("--xo-easing",null!=(t=ia[r])?t:r),"width-increment"===l&&this.offsetWidth>0&&(this.style.setProperty("--xo-width",`${this.offsetWidth}px`),this.style.width="0px"),await gt(0),p){if(this.style.transition=`all ${o}ms ${null!=(e=ia[r])?e:r} calc(((var(--xo-order) * var(--xo-constant)) + var(--xo-wrap-duration, 0)) * 1ms)`,c){const t=null!=(i=p.getAttribute("xo-duration"))?i:"300";pt(Array.from(p.querySelectorAll(`${Ae.Animate}, [is^="${Ae.Animate}"]`)),((e,i)=>{this===e&&(this.style.setProperty("--xo-order",`${i}`),this.style.setProperty("--xo-wrap-duration",""+Number(t)/3))}))}}else ca.observe(this)}async attributeChangedCallback(t,e,i){"xo-visible"===t&&this.getItemEls().forEach((t=>{at(t,"xo-visible",null!=i&&"false"!==i),ii(this,"xo-visible-binding",null!=i&&"false"!==i)})),("xo-observed"===t||"xo-type"===t||"xo-duration"===t||"xo-easing"===t||"xo-cascade"===t||"xo-strength"===t||"xo-order"===t||"xo-disabled"===t||"xo-constant"===t)&&e!==i&&(na(this)||(at(this,"xo-visible",!1),ii(this,"xo-visible-binding",!1),this.style.removeProperty("animation"),ca.unobserve(this),ca.observe(this)),this.connectedCallback())}disconnectedCallback(){clearTimeout(this.timeId),ca.unobserve(this),this.cancel()}};let ua=ha;n(ua,"defaultOptions",{xoDuration:null!=(L=null==(M=window.settings)?void 0:M.animate_duration)?L:500,xoType:null!=(I=null==($=window.settings)?void 0:$.animate_effect)?I:"fade-up",xoConstant:75,xoOrder:0,xoStrength:null!=(O=null==(N=window.settings)?void 0:N.animate_strength)?O:1,xoEasing:"easeLight",xoCascade:!1,xoDisabled:!1,xoItemUsed:!1,xoScrollForced:!1});const da=class{constructor(){n(this,"observer"),n(this,"mutation"),n(this,"updateMutation"),n(this,"timeIds",new WeakMap),n(this,"handleWidthIncrement",(async t=>{await gt(10);const{xoType:e,xoDuration:i}=this.getOptions(t);if("width-increment"===e){const e=Array.from(t.children);pt(e,(t=>{t.style.width="var(--xo-width)",t.style.maxWidth="none"})),t.style.width="var(--xo-width)",clearTimeout(this.timeIds.get(t)),this.timeIds.delete(t);const n=window.setTimeout((()=>{pt(e,(t=>{t.style.removeProperty("width"),t.style.removeProperty("max-width")})),t.style.removeProperty("width"),clearTimeout(this.timeIds.get(t)),this.timeIds.delete(t)}),i);this.timeIds.set(t,n)}})),n(this,"handleIntersection",((t,e)=>{let i=-1;t.forEach(((t,n)=>{var s,o,r;const a=t.target,{xoAnimate:l,xoType:c,xoCascade:h,xoOrder:u,xoStrength:d,xoDuration:p,xoConstant:m,xoEasing:x}=this.getOptions(a);if(a.setAttribute("xo-type",`${c}`),a.style.setProperty("--xo-strength",`${d}`),a.style.setProperty("--xo-constant",`${m}`),a.style.setProperty("--xo-duration",`${p}`),a.style.setProperty("--xo-easing",null!=(s=ia[x])?s:x),"width-increment"===c&&a.offsetWidth>0&&(a.style.setProperty("--xo-width",`${a.offsetWidth}px`),a.style.width="0px"),t.isIntersecting){if("scroll"===l){i++;let t=-1;t=null!=(o=window.xbEditor)&&o.designMode?h?i:u:h?n:u,a.style.setProperty("--xo-order",`${t}`),at(a,"xo-visible",!0),at(a,"xo-opacity",!1),a.removeAttribute("aria-disabled"),a.querySelector("svg")&&oa(a,this.getOptions(a)),null!=(r=a.getAttribute("xo-type"))&&r.startsWith("goo-")&&la(a,p),this.handleWidthIncrement(a),e.unobserve(a)}}else at(a,"xo-visible",!1)}))})),n(this,"handleMutation",(t=>{t.forEach((async t=>{var e;const i=t.target;if("xo-observed"===t.attributeName||"xo-animate"===t.attributeName||"xo-type"===t.attributeName||"xo-duration"===t.attributeName){const{xoAnimate:t,xoDuration:n}=this.getOptions(i);"scroll"===t?(at(i,"xo-visible",!0),i.querySelector("svg")&&(ra(i),oa(i,this.getOptions(i))),null!=(e=i.getAttribute("xo-type"))&&e.startsWith("xo-goo-")&&la(i,n),this.handleWidthIncrement(i)):"svg-infinite"===t?this.handleSingleSVG(i):at(i,"xo-visible",!1)}}))})),n(this,"getEls",(()=>{var t;return document.querySelectorAll(null!=(t=window.xbEditor)&&t.designMode?'[xo-animate="none"], [xo-animate="scroll"], [xo-animate="infinite"], [xo-animate="svg-infinite"]':'[xo-animate="scroll"]')})),n(this,"handleSingleSVG",(async t=>{var e;const{xoDuration:i,xoEasing:n}=this.getOptions(t);t.querySelector("svg")&&(ra(t),t.style.setProperty("--xo-duration",`${i}`),t.style.setProperty("--xo-easing",null!=(e=ia[n])?e:n),t.classList.add("xo-animate-svg-none"),function(t){pt(Array.from(t.querySelectorAll("[xo-next-stroke-dasharray], [xo-next-stroke-dashoffset]")),(t=>{const e=t.getAttribute("d"),i=t.getAttribute("xo-next-d"),n=t.getAttribute("stroke-dasharray"),s=t.getAttribute("xo-next-stroke-dasharray"),o=t.getAttribute("stroke-dashoffset"),r=t.getAttribute("xo-next-stroke-dashoffset");e&&i&&(t.style.setProperty("--xo-d",e),t.style.setProperty("--xo-next-d",i)),n&&s&&(t.style.setProperty("--xo-stroke-dasharray",n),t.style.setProperty("--xo-next-stroke-dasharray",s)),o&&r&&(t.style.setProperty("--xo-stroke-dashoffset",o),t.style.setProperty("--xo-next-stroke-dashoffset",r))}))}(t),await gt(50),t.classList.remove("xo-animate-svg-none"))})),n(this,"svgInfinite",(()=>{document.querySelectorAll('[xo-animate="svg-infinite"]').forEach(this.handleSingleSVG)})),n(this,"handleAllSvg",(()=>{document.querySelectorAll('[xo-animate="scroll"], [xo-animate="svg-infinite"]').forEach((t=>{t.querySelector("svg")&&function(t){pt(Array.from(t.querySelectorAll("[xo-next-stroke-dasharray], [xo-next-stroke-dashoffset]")),(t=>{const e=t.getAttribute("d"),i=t.getAttribute("xo-next-d"),n=t.hasAttribute("xo-prev-d"),s=t.getAttribute("stroke-dasharray"),o=t.getAttribute("xo-next-stroke-dasharray"),r=t.hasAttribute("xo-prev-stroke-dasharray"),a=t.getAttribute("stroke-dashoffset"),l=t.getAttribute("xo-next-stroke-dashoffset"),c=t.hasAttribute("xo-prev-stroke-dashoffset");e&&i&&!n&&t.setAttribute("xo-prev-d",e),s&&o&&!r&&t.setAttribute("xo-prev-stroke-dasharray",s),a&&l&&!c&&t.setAttribute("xo-prev-stroke-dashoffset",a)}))}(t)}))})),n(this,"initIntersection",(()=>{this.getEls().forEach((t=>{this.observer.observe(t)}))})),n(this,"first",(()=>{this.getEls().forEach((t=>{const{xoAnimate:e}=this.getOptions(t);!rt(t,"xo-visible")&&"scroll"===e&&(at(t,"xo-opacity",!0),t.setAttribute("aria-disabled","true"))}))})),n(this,"initMutation",(()=>{this.getEls().forEach((t=>{this.mutation.observe(t,{attributes:!0,attributeFilter:["xo-observed","xo-animate","xo-type","xo-duration"]})}))})),n(this,"update",(async()=>{await gt(),this.init()})),this.observer=new IntersectionObserver(this.handleIntersection,{rootMargin:"0px 0px -50px 0px"}),this.mutation=new MutationObserver(this.handleMutation),this.updateMutation=new MutationObserver(this.update),this.updateMutation.observe(document.body,{attributes:!0,attributeFilter:["xo-animate-observed"]})}getOptions(t){const e=qt(t,{pick:["xoAnimate","xoDuration","xoConstant","xoOrder","xoType","xoEasing","xoStrength","xoCascade","xoDisabled","xoInfinite"],types:{xoAnimate:"string",xoDuration:"number",xoConstant:"number",xoOrder:"number",xoType:"string",xoEasing:"string",xoStrength:"number",xoCascade:"boolean",xoDisabled:"boolean",xoInfinite:"boolean"}});return{...da.defaultOptions,...e}}init(){var t;this.observer.disconnect(),this.mutation.disconnect(),this.first(),this.handleAllSvg(),this.svgInfinite(),this.initIntersection(),null!=(t=null==window?void 0:window.xbEditor)&&t.designMode&&this.initMutation()}};let pa=da;n(pa,"defaultOptions",{xoAnimate:"none",xoDuration:null!=(q=null==(D=window.settings)?void 0:D.animate_duration)?q:500,xoType:null!=(H=null==(F=window.settings)?void 0:F.animate_effect)?H:"fade-up",xoConstant:75,xoOrder:0,xoStrength:null!=(V=null==(R=window.settings)?void 0:R.animate_strength)?V:1,xoEasing:"easeLight",xoCascade:!1,xoDisabled:!1,xoInfinite:!1});const ma=new pa;let xa=!1;function ga(t,e){if(!e)return Math.hypot(t.clientX,t.clientY);const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.hypot(i,n)}null!=(B=null==window?void 0:window.xbEditor)&&B.designMode?(ma.init(),Ct((async()=>{xa||(await gt(500),ma.init())})),document.addEventListener("xb:element:load",(()=>{xa=!0,ma.init()}))):(Ct((()=>{ma.init()})),null!=(z=window.Shopify)&&z.designMode&&(document.addEventListener("shopify:section:load",(()=>ma.init())),document.addEventListener("shopify:section:reorder",(()=>ma.init())))),sa||document.body.insertAdjacentHTML("beforeend",'\n    <svg class="xo-hidden">\n      <defs>\n        <filter id="xo-goo-1">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              1 0 1 0 0\n              0 0 0 13 -6" result="goo"></feColorMatrix>\n          <feComposite in="SourceGraphic" in2="goo" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-2">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              1 0 1 0 0\n              0 0 0 12 -4" result="goo"></feColorMatrix>\n          <feTurbulence type="turbulence" baseFrequency="1" numOctaves="1" seed="2" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-3">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              1 0 1 0 0\n              0 0 0 15 -8" result="goo"></feColorMatrix>\n          <feTurbulence type="fractalNoise" baseFrequency="0.1 0.5" numOctaves="5" seed="2" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-4">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              0 0 1 0 0\n              0 0 0 18 -8" result="goo"></feColorMatrix>\n          <feTurbulence type="fractalNoise" baseFrequency="1 0.01" numOctaves="1" seed="1" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-5">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              0 0 1 0 0\n              0 0 0 14 -1" result="goo"></feColorMatrix>\n          <feTurbulence type="fractalNoise" baseFrequency="0.009 1" numOctaves="1" seed="1" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-6">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              1 0 1 0 0\n              0 0 0 12 -8" result="goo"></feColorMatrix>\n          <feTurbulence type="fractalNoise" baseFrequency="1" numOctaves="1" seed="1" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n        <filter id="xo-goo-7">\n          <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n          <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n              0 1 0 0 0\n              0 0 1 0 0\n              0 0 0 18 -5" result="goo"></feColorMatrix>\n          <feTurbulence type="fractalNoise" baseFrequency="0.07 0.3" numOctaves="1" seed="1" result="noise"></feTurbulence>\n          <feDisplacementMap in="goo" in2="noise" scale="0" result="displacement"></feDisplacementMap>\n          <feComposite in="SourceGraphic" in2="displacement" operator="atop"></feComposite>\n        </filter>\n      </defs>\n    </svg>\n  '),xt({[Ae.Animate]:ua});const va=class extends HTMLElement{constructor(){super(...arguments),n(this,"imageZoomItemEl",null),n(this,"innerEl",null),n(this,"thumbEl",null),n(this,"zoomState",4),n(this,"zooming",!1),n(this,"touchOffsetX",0),n(this,"touchOffsetY",0),n(this,"clientX",0),n(this,"clientY",0),n(this,"pan",null),n(this,"scale",1),n(this,"initialDistance",0),n(this,"mutationObserver",null),n(this,"imageLoaded",!1),n(this,"_options"),n(this,"setOptions",(()=>{this.options=qt(this,{pick:["xoName","xoZoom","xoZoomSrc","xoPlacement","xoZoomFull","xoUseWheel"],types:{xoName:"string",xoZoom:"number",xoZoomSrc:"string",xoPlacement:"string",xoZoomFull:"boolean",xoUseWheel:"boolean"}})})),n(this,"handleThumb",((t,e)=>{const i=this.thumbEl,{offsetWidth:n,offsetHeight:s}=this,o=n/this.zoomState,r=s/this.zoomState,a=ht(e-i.offsetHeight/2,0,s-i.offsetHeight),l=ht(t-i.offsetWidth/2,0,n-i.offsetWidth);i.style.width=`${o}px`,i.style.height=`${r}px`,i.style.top=`${a}px`,i.style.left=`${l}px`})),n(this,"handleZoomImage",((t,e)=>{const{xoZoomSrc:i,xoZoomFull:n}=this.options,s=this.imageZoomItemEl;at(this,"xo-active",!n||this.zoomState>1);const o=this.querySelector("img");if(s.setAttribute("xo-zoom",`${this.zoomState}`),o&&(this.imageLoaded?s.style.backgroundImage=`url('${i}')`:s.style.backgroundImage=`url('${o.src}')`),s.style.transform=`translate3d(${t}px, ${e}px, 0) scale(${this.zoomState})`,!this.imageLoaded){const t=new Image;t.src=i,t.onload=()=>{s.style.backgroundImage=`url('${i}')`,this.imageLoaded=!0}}})),n(this,"resetTransform",(()=>{const t=this.imageZoomItemEl;t.style.transform="translate3d(0, 0, 0) scale(1)",t.removeAttribute("xo-zoom")})),n(this,"handler",(t=>{var e;const{xoPlacement:i}=this.options;let n=0,s=0;"touchmove"===t.type?(n=this.touchOffsetX,s=this.touchOffsetY):(n=t.offsetX,s=t.offsetY);const{offsetWidth:o,offsetHeight:r}=this,a="center"===i,l=o/this.zoomState,c=r/this.zoomState,h=a?0:l/2,u=a?0:c/2,d=Ht({value:n,inputRange:[h,o-h],outputRange:[0,-o*(this.zoomState-1)]}),p=Ht({value:s,inputRange:[u,r-u],outputRange:[0,-r*(this.zoomState-1)]});null==(e=this.pan)||e.setValue({dx:d,dy:p}),this.handleZoomImage(d,p),this.handleThumb(n,s)})),n(this,"handleMouseLeave",(()=>{const{xoZoom:t,xoZoomFull:e}=this.options;e||(at(this,"xo-active",!1),this.zoomState=t)})),n(this,"handleWheel",(t=>{t.preventDefault();const{deltaY:e}=t;this.zoomState=ht(this.zoomState+e/60,1,10),this.handler(t)})),n(this,"handleWindowClick",(t=>{this.contains(t.target)||(at(this,"xo-active",!1),this.resetTransform(),this.zoomState=this.options.xoZoom)})),n(this,"handleTouchMove",(t=>{if(t.targetTouches[0]&&t.targetTouches[1]){t.preventDefault();const e=ga(t.targetTouches[0],t.targetTouches[1])/this.initialDistance;this.zoomState=this.scale*e,this.zoomState>1?this.zooming=!0:this.zooming=!1,this.handler(t)}})),n(this,"handleTouchEnd",(t=>{if(0===t.touches.length){const t=window.getComputedStyle(this.imageZoomItemEl).transform;if("none"!==t){const e=new WebKitCSSMatrix(t);this.scale=e.a}document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd)}})),n(this,"handleTouchStart",(t=>{if(t.targetTouches[0]&&t.targetTouches[1]){this.initialDistance=ga(t.targetTouches[0],t.targetTouches[1]);const e=t.target.getBoundingClientRect(),i=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY,s=t.targetTouches[1].clientX,o=t.targetTouches[1].clientY;this.clientX=(i+s)/2,this.clientY=(n+o)/2,this.touchOffsetX=(this.clientX-e.left)/this.scale,this.touchOffsetY=(this.clientY-e.top)/this.scale,document.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleTouchEnd)}})),n(this,"handleMutation",(()=>{const t=this.closest(Ae.GalleryPortal);rt(t,"xo-active")||(this.scale=1,this.initialDistance=0)}))}get options(){return{...va.defaultOptions,...this._options}}set options(t){this._options=t}static get observedAttributes(){return["xo-observed"]}createChild(){const{xoPlacement:t,xoName:e}=this.options;this.thumbEl=document.createElement(Ae.ImageZoomThumb),this.imageZoomItemEl=document.createElement(Ae.ImageZoomItem),this.innerEl="manual"===t?document.querySelector(`${Ae.ImageZoomManual}[xo-name="${e}"]`):document.createElement(Ae.ImageZoomInner),this.innerEl.appendChild(this.imageZoomItemEl),this.appendChild(this.innerEl),"center"!==t&&this.appendChild(this.thumbEl)}connectedCallback(){this.setOptions();const{xoPlacement:t,xoZoom:e,xoZoomFull:i,xoUseWheel:n}=this.options;this.zoomState=e,this.setAttribute("xo-placement",t),this.createChild(),Vt?i&&(this.addEventListener("touchstart",this.handleTouchStart),this.pan=Wt({element:this,onStart:t=>{this.zooming&&t.preventDefault()},onMove:t=>{this.zooming&&this.handleZoomImage(t.dx,t.dy)}})):(this.addEventListener("mousemove",this.handler),this.addEventListener("mouseleave",this.handleMouseLeave),n&&this.addEventListener("wheel",this.handleWheel)),window.addEventListener("click",this.handleWindowClick);const s=this.closest(Ae.GalleryPortal);s&&(this.mutationObserver=new MutationObserver(this.handleMutation),this.mutationObserver.observe(s,{attributes:!0,attributeFilter:["xo-active"]}))}attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(this.setOptions(),this.zoomState=this.options.xoZoom)}disconnectedCallback(){var t;this.removeEventListener("mousemove",this.handler),this.removeEventListener("mouseleave",this.handleMouseLeave),this.removeEventListener("wheel",this.handleWheel),window.removeEventListener("click",this.handleWindowClick),this.removeEventListener("touchstart",this.handleTouchStart),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd),null==(t=this.pan)||t.destroy()}};let ba=va;n(ba,"defaultOptions",{xoName:"",xoZoom:4,xoZoomSrc:"",xoPlacement:"center",xoZoomFull:!1,xoUseWheel:!0}),xt({[Ae.ImageZoom]:ba});class fa extends HTMLElement{constructor(){super(...arguments),n(this,"daysEl",null),n(this,"hoursEl",null),n(this,"minutesEl",null),n(this,"secondsEl",null),n(this,"setDefaultText",(()=>{this.daysEl&&(this.daysEl.innerText=this.setZeroPad("0")),this.hoursEl&&(this.hoursEl.innerText=this.setZeroPad("0")),this.minutesEl&&(this.minutesEl.innerText=this.setZeroPad("0")),this.secondsEl&&(this.secondsEl.innerText=this.setZeroPad("0"))})),n(this,"handleCountdown",(()=>{const t=this.getAttribute("xo-timestamp");if(!t)throw new Error(`${Ae.Countdown}: Attribute xo-timestamp is required.`);const e=Number(t)-Date.now();if(this.daysEl||(this.daysEl=this.querySelector(Ae.CountdownDay)),this.hoursEl||(this.hoursEl=this.querySelector(Ae.CountdownHour)),this.minutesEl||(this.minutesEl=this.querySelector(Ae.CountdownMinute)),this.secondsEl||(this.secondsEl=this.querySelector(Ae.CountdownSecond)),e>0){const t=this.getDays(e),i=this.getHours(e),n=this.getMinutes(e),s=this.getSeconds(e);this.daysEl&&Number(this.daysEl.innerText)!==t&&(this.daysEl.innerText=t<1?this.setZeroPad("0"):this.setZeroPad(`${t}`)),this.hoursEl&&Number(this.hoursEl.innerText)!==i&&(this.hoursEl.innerText=this.setZeroPad(`${i}`)),this.minutesEl&&Number(this.minutesEl.innerText)!==n&&(this.minutesEl.innerText=this.setZeroPad(`${n}`)),this.secondsEl&&Number(this.secondsEl.innerText)!==s&&(this.secondsEl.innerText=this.setZeroPad(`${s}`)),at(this,"xo-expired",!1)}else Lt.remove(this.handleCountdown),at(this,"xo-expired",!0),this.setDefaultText()}))}static get observedAttributes(){return["xo-observed"]}getDays(t){return Math.floor(t/864e5)}getHours(t){return Math.floor(t%864e5/36e5)}getMinutes(t){return Math.floor(t%36e5/6e4)}getSeconds(t){return Math.floor(t%6e4/1e3)}setZeroPad(t){const e=Number(this.getAttribute("xo-zero-pad"))||1;return t.padStart(e,"0")}connectedCallback(){Lt.add(this.handleCountdown,!0),this.daysEl=this.querySelector(Ae.CountdownDay),this.hoursEl=this.querySelector(Ae.CountdownHour),this.minutesEl=this.querySelector(Ae.CountdownMinute),this.secondsEl=this.querySelector(Ae.CountdownSecond),this.setDefaultText()}disconnectedCallback(){Lt.remove(this.handleCountdown)}async attributeChangedCallback(t,e,i){"xo-observed"===t&&e!==i&&(await gt(100),this.disconnectedCallback(),this.connectedCallback())}}xt({[Ae.Countdown]:fa});let ya=(_=class extends le{constructor(){super(...arguments),n(this,"observer",null),n(this,"animated",ft()),n(this,"attrAnimated",ft()),n(this,"timeId",-1),n(this,"handleCountto",(async()=>{const{xoFrom:t,xoTo:e,xoDuration:i,xoDelay:n,xoEasing:s}=this.props,o=this.querySelector(Ae.CounttoNumber);this.timeId=window.setTimeout((()=>{this.animated({from:t,to:e,duration:i,onUpdate:t=>{const e=Math.round(t).toString();o?o.textContent=e:this.textContent=e}}),this.attrAnimated({from:t,to:e,duration:i,easing:Pt[s],onUpdate:t=>{this.style.setProperty("--xo-value",`${t}`)}})}),n)}))}mount(){this.observer=new IntersectionObserver((t=>{t.forEach((t=>{var e;t.isIntersecting&&(this.handleCountto(),null==(e=this.observer)||e.unobserve(this))}))}),{rootMargin:"0px 0px -50px 0px"}),this.observer.observe(this)}propUpdate({name:t,prevProp:e,nextProp:i}){"xoObserved"===t&&null!=e&&e!==i&&(clearTimeout(this.timeId),this.animated.off(),this.attrAnimated.off(),this.handleCountto())}unmount(){var t;null==(t=this.observer)||t.unobserve(this),this.animated.off(),this.attrAnimated.off()}},n(_,"propTypes",{xoFrom:"number",xoTo:"number",xoDuration:"number",xoDelay:"number",xoEasing:"string"}),n(_,"defaultProps",{xoFrom:0,xoTo:100,xoDuration:2e3,xoDelay:0,xoEasing:"ease"}),n(_,"observedProps",["xoObserved"]),_);ya=Yi([ce(Ae.Countto)],ya);class Ea extends HTMLElement{constructor(){super(...arguments),n(this,"_options"),n(this,"videoRatio",16/9),n(this,"itemEl",null),n(this,"videoEl",null),n(this,"getAutoplay",(()=>{const{xoAutoplay:t=!0}=this.options;return t?"autoplay":""})),n(this,"renderVimeo",(t=>`<${Ae.VideoCoverItem}>\n      <iframe\n        src="${t}"\n        title="Vimeo video"\n        frameborder="0"\n        allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; allowsInlineMediaPlayback; ${this.getAutoplay()}"\n        allowfullscreen\n      ></iframe>\n    </${Ae.VideoCoverItem}>`)),n(this,"renderYoutube",(t=>`<${Ae.VideoCoverItem}>\n      <iframe\n        src="${t}"\n        title="YouTube video"\n        frameborder="0"\n        allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; allowsInlineMediaPlayback; ${this.getAutoplay()}"\n        allowfullscreen\n        allowsInlineMediaPlayback\n      ></iframe>\n    </${Ae.VideoCoverItem}>`)),n(this,"renderVideo",(t=>`<${Ae.VideoCoverItem}>\n      <video\n        src="${t}"\n        title="Video"\n        ${this.getAutoplay()}\n        muted\n        loop\n        playsinline\n        preload="metadata"\n      ></video>\n    </${Ae.VideoCoverItem}>`)),n(this,"setVideoSize",(()=>{if(this.itemEl){const t=this.offsetWidth/this.offsetHeight;this.videoRatio>t?(this.itemEl.style.height=`${this.offsetHeight}px`,this.itemEl.style.width=this.offsetHeight*this.videoRatio+"px"):(this.itemEl.style.width=`${this.offsetWidth+1}px`,this.itemEl.style.height=this.offsetWidth/this.videoRatio+"px")}})),n(this,"handleVideoRatio",(()=>{this.videoEl&&(this.videoRatio=this.videoEl.videoWidth/this.videoEl.videoHeight,this.setVideoSize())})),n(this,"handleYoutubeRatio",(async()=>{try{this.videoRatio=await async function(t){const e=await(await fetch(`https://www.youtube.com/oembed?url=${t}&format=json`)).json();return e.width/e.height}(this.options.xoSrc),this.setVideoSize()}catch{console.log("error")}})),n(this,"handleVideo",(()=>{this.videoEl instanceof HTMLVideoElement&&(this.videoEl.readyState>=2?this.handleVideoRatio():this.videoEl.addEventListener("loadedmetadata",this.handleVideoRatio))})),n(this,"assignEl",(()=>{var t;this.itemEl=this.querySelector(Ae.VideoCoverItem),this.videoEl=null==(t=this.itemEl)?void 0:t.querySelector("iframe, video")})),n(this,"init",(()=>{this.setOptions();const{xoSrc:t,xoAutoplay:e=!0}=this.options,i=function(t,e){return xe(t)?function(t,e=!0){return`https://player.vimeo.com/video/${t.replace(/(^.*(video|vimeo\.com)\/)(\w*)(.*$)/g,"$3")}?${e?"autoplay=1&":""}loop=1&background=1&muted=1`}(t,e):me(t)?function(t,e=!0){const i=t.replace(/(^.*(embed\/|(\?|&)v=))(\w*)(.*$)/g,"$4");return`https://www.youtube.com/embed/${i}?${e?"autoplay=1&":""}loop=1&mute=1&controls=0&iv_load_policy=1&disablekb=1&playlist=${i}&modestbranding=1&playsinline=1`}(t,e):t}(t,e);xe(t)?(this.insertAdjacentHTML("beforeend",this.renderVimeo(i)),this.assignEl(),this.setVideoSize()):me(t)?(this.insertAdjacentHTML("beforeend",this.renderYoutube(i)),this.assignEl(),this.handleYoutubeRatio()):(this.insertAdjacentHTML("beforeend",this.renderVideo(i)),this.assignEl(),this.handleVideo())})),n(this,"destroy",(()=>{this.videoEl instanceof HTMLVideoElement&&this.videoEl.removeEventListener("loadedmetadata",this.handleVideo)})),n(this,"handleResize",St(ie("x",(()=>{this.destroy(),this.init()})),400))}static get observedAttributes(){return["xo-observed","xo-src","xo-breakpoints","xo-autoplay"]}get options(){return this._options}set options(t){this._options=t}setOptions(){var t;const e=qt(this,{pick:["xoSrc","xoBreakpoints","xoAutoplay"],types:{xoSrc:"string",xoBreakpoints:"object",xoAutoplay:"boolean"}}),i=ee(e.xoBreakpoints);this.options=e,i&&(this.options={...e,xoSrc:null!=(t=null==i?void 0:i.src)?t:e.xoSrc})}connectedCallback(){this.init(),this.dispatchEvent(new CustomEvent("xo-video-cover:init")),window.addEventListener("resize",this.handleResize)}async attributeChangedCallback(t,e,i){("xo-observed"===t||"xo-src"===t||"xo-breakpoints"===t)&&null!=e&&e!==i&&(await gt(0),this.destroy(),this.init())}disconnectedCallback(){window.removeEventListener("resize",this.handleResize),this.destroy()}}let wa=class extends le{constructor(){super(),n(this,"wcVideoEl",null),n(this,"handleClick",(()=>{this.setState((t=>({isPlaying:!t.isPlaying})))})),n(this,"handleVideoInit",(()=>{var t;const e=null==(t=this.wcVideoEl)?void 0:t.getAttribute("xo-autoplay");this.setState({isPlaying:!e||"true"==e})})),this.state={isPlaying:void 0}}mount(){var t;this.wcVideoEl=this.closest(Ae.VideoCover),null==(t=this.wcVideoEl)||t.addEventListener("xo-video-cover:init",this.handleVideoInit),this.addEventListener("click",this.handleClick)}unmount(){var t;null==(t=this.wcVideoEl)||t.removeEventListener("xo-video-cover:init",this.handleVideoInit),this.removeEventListener("click",this.handleClick)}stateUpdate(t){const{isPlaying:e}=this.state;if(t.isPlaying!==e){const t=this.closest(Ae.VideoCover),i=null==t?void 0:t.querySelector("video");i&&t&&(e?(i.play(),at(t,"xo-playing",!0),at(t,"xo-paused",!1)):(i.pause(),at(t,"xo-paused",!0),at(t,"xo-playing",!1)))}}};wa=Yi([ce(Ae.VideoCoverButton),Gi("design:paramtypes",[])],wa),xt({[Ae.VideoCover]:Ea});const Sa=1e3/60,Ca=class{constructor(t,e){n(this,"el"),n(this,"options"),n(this,"line",0),n(this,"start",Date.now()),n(this,"cancel",(()=>{})),n(this,"animated",ft()),n(this,"typingContent",null),n(this,"init",(()=>{const{xoDuration:t,xoDelay:e}=this.options,i=`<${Ae.TypingInner} style="--xo-duration: ${t}; --xo-delay: ${e}"><${Ae.TypingContent}></${Ae.TypingContent}></${Ae.TypingInner}>`;this.el.innerHTML=i,this.typingContent=this.el.querySelector(Ae.TypingContent),this.el.style.filter="url(#xo-typing-goo)"})),n(this,"handleGoo",(t=>{const{xoDuration:e}=this.options,i=document.querySelector("#xo-typing-goo feGaussianBlur");this.animated({from:"inc"===t?0:8,to:"inc"===t?8:0,duration:e,onUpdate(t){null==i||i.setAttribute("stdDeviation",t.toString())}})})),n(this,"handleFrame",(async()=>{const{xoContent:t,xoDuration:e,xoDelay:i}=this.options;Date.now()-this.start>i&&(at(this.el,"xo-goo",!0),this.handleGoo("inc"),this.start=Date.now(),this.animated.off(),this.handleGoo("dec"),this.cancel=await gt(e-Sa),at(this.el,"xo-goo",!1),this.line=(this.line+1)%t.length);const n=`<span>${t[this.line]}</span><span>${t[(this.line+1)%t.length]}</span>`;pt(Array.from(this.el.querySelectorAll("span")),((t,e)=>{const i=t.offsetWidth;this.el.style.setProperty(`--xo-width-${e}`,`${i}px`)})),this.typingContent&&this.typingContent.innerHTML!==n&&(this.typingContent.innerHTML=n)})),n(this,"destroy",(()=>{Lt.remove(this.handleFrame),this.cancel(),this.animated.off()})),this.el=t,this.options=e,this.el=t,this.options={...Ca.defaultOptions,...e},Lt.add(this.handleFrame,!0),this.init()}};let Pa=Ca;n(Pa,"defaultOptions",{xoContent:[],xoDuration:1e3,xoDelay:2e3,xoEffect:"typing"});const ka=class{constructor(t,e){n(this,"el"),n(this,"options"),n(this,"line",0),n(this,"start",Date.now()),n(this,"cancel",(()=>{})),n(this,"typingContent",null),n(this,"init",(()=>{const{xoDuration:t,xoDelay:e}=this.options,i=`<${Ae.TypingInner} style="--xo-duration: ${t}; --xo-delay: ${e}"><${Ae.TypingContent}></${Ae.TypingContent}></${Ae.TypingInner}>`;this.el.innerHTML=i,this.typingContent=this.el.querySelector(Ae.TypingContent)})),n(this,"handleFrame",(async()=>{const{xoContent:t,xoDuration:e,xoDelay:i}=this.options;Date.now()-this.start>i&&(at(this.el,"xo-slide",!0),this.start=Date.now(),this.cancel=await gt(e-Sa),at(this.el,"xo-slide",!1),this.line=(this.line+1)%t.length);const n=`<span>${t[this.line]}</span><span>${t[(this.line+1)%t.length]}</span>`;pt(Array.from(this.el.querySelectorAll("span")),((t,e)=>{const i=t.offsetWidth;this.el.style.setProperty(`--xo-width-${e}`,`${i}px`)})),this.typingContent&&this.typingContent.innerHTML!==n&&(this.typingContent.innerHTML=n)})),n(this,"destroy",(()=>{Lt.remove(this.handleFrame),this.cancel()})),this.el=t,this.options=e,this.el=t,this.options={...ka.defaultOptions,...e},Lt.add(this.handleFrame,!0),this.init()}};let Aa=ka;n(Aa,"defaultOptions",{xoContent:[],xoDuration:300,xoDelay:2e3,xoEffect:"typing"});const Ta=class{constructor(t,e){n(this,"el"),n(this,"options"),n(this,"type",""),n(this,"line",-1),n(this,"minIndex",-1),n(this,"sameText",""),n(this,"index",-1),n(this,"start",Date.now()),n(this,"start2",Date.now()),n(this,"start3",Date.now()),n(this,"increasing",!0),n(this,"handleFrame",(()=>{const{xoContent:t,xoDuration:e,xoDelay:i,xoCursorChar:n}=this.options;this.index===this.minIndex&&(this.line=(this.line+1)%t.length,this.increasing=!0,this.sameText="",this.minIndex=-1);const s=t[this.line],o=i+(e+30)*s.length;if(t.length>1){const e=t[(this.line+1)%t.length];if(!this.increasing)for(let t=0;t<s.length;t++){const i=s[t];if(!new RegExp(`^${this.sameText}`,"g").test(e))break;this.minIndex=this.sameText.length-1,this.sameText+=i}}Date.now()-this.start>e&&this.increasing&&this.index<s.length-1&&(this.index=(this.index+1)%s.length,this.start=Date.now()),this.index===s.length-1&&Date.now()-this.start2>o&&(this.increasing=!1,this.start2=Date.now());const r=Date.now()-this.start3;!this.increasing&&r>30&&(this.index=this.index-1,this.start3=Date.now()),this.type=s.substring(0,Math.min(this.index+1,s.length)),this.el.innerHTML!==this.type&&(this.el.innerHTML=this.type);const a=this.el.offsetHeight,l=this.el.offsetWidth;a>0&&this.el.style.setProperty("--xo-height",`${a}px`),this.el.style.setProperty("--xo-width",`${l}px`),this.el.setAttribute("xo-cursor-char",`${n}`)})),n(this,"destroy",(()=>{Lt.remove(this.handleFrame)})),this.el=t,this.options=e,this.el=t,this.options={...Ta.defaultOptions,...e},Lt.add(this.handleFrame,!0)}};let Ma=Ta;n(Ma,"defaultOptions",{xoContent:[],xoDuration:100,xoDelay:2e3,xoEffect:"typing",xoCursorChar:"|"});class La extends HTMLElement{constructor(){super(...arguments),n(this,"typing",null),n(this,"slide",null),n(this,"goo",null),n(this,"init",(()=>{const t=this.getOptions();switch(t.xoEffect){case"slide":this.slide=new Aa(this,t);break;case"goo":this.goo=new Pa(this,t);break;default:this.typing=new Ma(this,t)}})),n(this,"destroy",(()=>{var t,e,i;null==(t=this.typing)||t.destroy(),null==(e=this.slide)||e.destroy(),null==(i=this.goo)||i.destroy()}))}static get observedAttributes(){return["xo-observed","xo-duration","xo-content","xo-delay","xo-effect","xo-cursor-char"]}getOptions(){return qt(this,{pick:["xoContent","xoDuration","xoDelay","xoEffect","xoCursorChar"],types:{xoContent:"array",xoDuration:"number",xoDelay:"number",xoEffect:"string",xoCursorChar:"string"}})}connectedCallback(){this.init()}disconnectedCallback(){this.destroy()}async attributeChangedCallback(t,e,i){("xo-observed"===t||"xo-duration"===t||"xo-content"===t||"xo-delay"===t||"xo-effect"===t||"xo-cursor-char"===t)&&e!==i&&(await gt(100),this.destroy(),this.init())}}document.body.insertAdjacentHTML("beforeend",'\n    <svg class="xo-hidden">\n    <defs>\n      <filter id="xo-typing-goo">\n        <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur"></feGaussianBlur>\n        <feColorMatrix in="blur" mode="matrix" values="\t1 0 0 0 0\n                  0 1 0 0 0\n                  1 0 1 0 0\n                  0 0 0 18 -8" result="goo"></feColorMatrix>\n        <feComposite in="SourceGraphic" in2="goo" operator="atop"></feComposite>\n    </filter>\n    </defs>\n  </svg>\n  '),xt({[Ae.Typing]:La});const $a="idle",Ia="target",Na=class extends HTMLElement{constructor(){super(...arguments),n(this,"handleEl"),n(this,"pan"),n(this,"animated",ft()),n(this,"prevDx",0),n(this,"axis",$a),n(this,"intersectionObserver",null),n(this,"setVariables",(t=>{this.style.setProperty("--xo-value",`${t}`),this.setAttribute("xo-value",`${t}`)})),n(this,"handleDefaultAnimate",(()=>{const{xoDefaultPercent:t,xoAnimate:e}=this.getOptions();!0!==window.matchMedia("(prefers-reduced-motion: reduce)")&&!0!==window.matchMedia("(prefers-reduced-motion: reduce)").matches&&e?(this.intersectionObserver=new IntersectionObserver((e=>{e.forEach((e=>{var i;e.isIntersecting&&(null==(i=this.intersectionObserver)||i.unobserve(this),this.animated({from:0,to:t,duration:2e3,easing:Pt.spring,onUpdate:this.animateUpdate}))}))}),{rootMargin:"0px 0px -200px 0px"}),this.intersectionObserver.observe(this)):this.setVariables(t)})),n(this,"handler",(()=>{const{xoDefaultPercent:t}=this.getOptions();this.handleDefaultAnimate(),this.handleEl=this.querySelector(`${Ae.ImageComparison}-handle`);const{width:e}=this.getBoundingClientRect();this.prevDx=e*(t/100),this.pan=Wt({element:this,dx:e*(t/100),onMove:({dx:t,dy:e})=>{const{width:i}=this.getBoundingClientRect();if(this.axis===$a&&(Math.abs(t-this.prevDx)/1.5>=Math.abs(e)?this.axis=Ia:this.axis="lock"),this.axis===Ia){this.style.touchAction="none",this.style.cursor="ew-resize";const e=Ht({value:t,inputRange:[0,i],outputRange:[0,100]});this.setVariables(e),this.prevDx=t}},onEnd:()=>{this.axis=$a,this.pan.setValue({dx:this.prevDx,dy:0}),this.style.removeProperty("cursor"),this.style.removeProperty("touch-action")}})})),n(this,"animateUpdate",(t=>{const{width:e}=this.getBoundingClientRect();this.setVariables(t),this.pan.setValue({dx:e*(t/100)})})),n(this,"handleClick",(t=>{if(!this.handleEl.contains(t.target)){const{width:e}=this.getBoundingClientRect(),{offsetX:i}=t,n=Ht({value:i,inputRange:[0,e],outputRange:[0,100]});this.animated({from:Number(this.style.getPropertyValue("--xo-value")),to:n,duration:100,easing:Pt.decay,onUpdate:this.animateUpdate})}})),n(this,"init",(()=>{this.handler(),Vt||this.addEventListener("mousedown",this.handleClick)})),n(this,"destroy",(()=>{var t;this.pan.destroy(),this.animated.off(),Vt||this.removeEventListener("mousedown",this.handleClick),null==(t=this.intersectionObserver)||t.disconnect()}))}static get observedAttributes(){return["xo-observed","xo-value","xo-default-percent","xo-animate"]}getOptions(){const t=qt(this,{pick:["xoDefaultPercent","xoAnimate"],types:{xoDefaultPercent:"number",xoAnimate:"boolean"}});return{...Na.defaultOptions,...t}}connectedCallback(){this.init()}disconnectedCallback(){this.destroy()}async attributeChangedCallback(t,e,i){("xo-observed"===t||"xo-default-percent"===t)&&e!==i&&(await gt(100),this.destroy(),this.init())}};let Oa=Na;n(Oa,"defaultOptions",{xoDefaultPercent:50,xoAnimate:!1}),xt({[Ae.ImageComparison]:Oa});const Da=".shopify-section",qa=class extends HTMLElement{constructor(){var t;super(),n(this,"linkEl",null),n(this,"sectionEls",[]),n(this,"prevIndex",null),n(this,"sectionGidSelected",""),n(this,"builderMegaMenuHtml",""),n(this,"setPositionStatic",(t=>{if(!qa.isEmpty(t)){const e=t.parentElement;e.tagName.toLowerCase()!==Ae.Toggle&&(e.style.position="static")}})),n(this,"handleLinkClick",(t=>{const e=t.target.closest("a"),i=null==e?void 0:e.getAttribute("xo-modal-name");i&&(t.preventDefault(),Ci.open(i))})),n(this,"handleMenuHamburger",(()=>{const t=this.closest(Ae.Modal),e=!qa.isEmpty(this);t&&e&&(this.linkEl=t.previousElementSibling,this.linkEl&&(this.linkEl.setAttribute("xo-modal-name",t.getAttribute("xo-name")),this.linkEl.addEventListener("click",this.handleLinkClick)))})),n(this,"renderForTheme",(()=>{const{xoIndex:t,xoName:e}=this.options,i=`template[xo-mega-menu-name='${e}'][xo-mega-menu-index="${t}"]`,n=document.querySelector(i);if(n&&qa.isEmpty(this)){const t=be(n);this.setAttribute("xo-section-id",t),this.appendChild(n.content.cloneNode(!0))}})),n(this,"renderForBuilder",(async()=>{try{const{xoName:t,xoPreviewMode:e}=this.options;if(e){const e=`template[xo-mega-menu-name='${t}']`,i=document.querySelector(e);i&&qa.isEmpty(this)&&this.appendChild(i.content.cloneNode(!0))}else{this.builderMegaMenuHtml||(this.builderMegaMenuHtml=await async function(t){const e=(t=>`xb-menu-${t.toString().slice(-8)}`)(t);return await(await fetch(`/?section_id=${e}`)).text()}(t));const e=new RegExp(`(<template.*xo-mega-menu-name=['"]${t}['"]>|<\\/template>)`,"g"),i=`<xo-fragment>${this.builderMegaMenuHtml.replace(e,"")}</xo-fragment>`,n=(new DOMParser).parseFromString(i,"text/html"),s=Array.from(n.querySelectorAll("script")).filter((t=>""===t.type||"text/javascript"===t.type));if(i&&qa.isEmpty(this)){pt(s,(t=>{t.remove()}));const t=n.body.querySelector("xo-fragment");pt(Array.from(t.children),(t=>{this.appendChild(t)})),pt(s,(t=>{t.src?se({id:t.id||`id-${yt(t.src)}`,file:t.src}):t.textContent&&se({id:t.id||`id-${yt(t.textContent)}`,content:t.textContent})}))}}}catch{}})),n(this,"render",(()=>{const{xoBuilder:t}=this.options;t?this.renderForBuilder():this.renderForTheme()})),n(this,"handleMessage",(async t=>{var e;const{xoBuilder:i,xoSectionId:n}=this.options;if(!i){if("StorefrontMessage::SelectElement"===t.data.type&&(this.sectionEls=Array.from(document.querySelectorAll("template[xo-mega-menu-name]")).map((t=>t.closest(Da))),this.sectionGidSelected=t.data.payload.sectionGid,at(this,"xo-selected",this.sectionGidSelected===n)),"StorefrontMessage::DeselectElement"===t.data.type&&(this.prevIndex=null),"StorefrontMessage::FetchSectionAssets"===t.data.type){const i=`shopify-section-${t.data.payload.sectionGid}`,n=this.sectionEls.find((t=>t.id===i));if(n){const t=n.querySelector("template");this.prevIndex=null!=(e=null==t?void 0:t.getAttribute("xo-mega-menu-index"))?e:""}}if("StorefrontMessage::ReplaceSection"===t.data.type){const e=t.data.payload.markup,i=(new DOMParser).parseFromString(e,"text/html").querySelector("template[xo-mega-menu-name]"),n=null==i?void 0:i.getAttribute("xo-mega-menu-index");if(this.querySelector(`[data-id="${this.sectionGidSelected}"]`)&&i){const t=i.cloneNode(!0);this.innerHTML.trim()!==t.innerHTML.trim()&&(this.innerHTML=t.innerHTML)}null!=this.prevIndex&&this.prevIndex!==n&&(await gt(400),window.location.reload())}}})),null!=(t=window.Shopify)&&t.designMode&&(window.addEventListener("message",this.handleMessage),this.sectionEls=Array.from(document.querySelectorAll("template[xo-mega-menu-name]")).map((t=>t.closest(Da))))}static get observedAttributes(){return["xo-name"]}get options(){return qt(this,{pick:["xoIndex","xoName","xoSectionId","xoSelected","xoBuilder","xoPreviewMode"],types:{xoIndex:"number",xoName:"string",xoSectionId:"string",xoSelected:"boolean",xoBuilder:"boolean",xoPreviewMode:"boolean"}})}connectedCallback(){var t;null!=(t=window.xbEditor)&&t.designMode||(this.render(),window.Xotiny&&this.setPositionStatic(this),this.handleMenuHamburger())}disconnectedCallback(){var t;null==(t=this.linkEl)||t.removeEventListener("click",this.handleLinkClick),window.removeEventListener("message",this.handleMessage)}};let Fa=qa;n(Fa,"isEmpty",(t=>""===t.innerHTML.trim())),xt({[Ae.MegaMenu]:Fa});const Ha="xo-color-scheme-added";class Ra extends HTMLElement{constructor(){if(super(),n(this,"colorSchemeIds",(null==(W=window.settings)?void 0:W.color_scheme_ids)||[]),n(this,"darkModeMapping",null==(U=window.settings)?void 0:U.dark_mode_mapping),n(this,"colorSchemeMapping"),n(this,"prevIds",new Map),n(this,"nextIds",new Map),n(this,"rootPrevId",""),n(this,"rootNextId",""),n(this,"handleToggles",[]),n(this,"pushIds",[]),n(this,"colorEls",[]),n(this,"getIndexFromKey",(t=>({prevIndex:Number(t.replace(/Scheme\s/g,""))-1,nextIndex:Number(this.colorSchemeMapping[t].replace(/Scheme\s/g,""))-1}))),n(this,"getIdFromKey",(t=>{const{prevIndex:e,nextIndex:i}=this.getIndexFromKey(t);return{prevId:this.colorSchemeIds[e],nextId:this.colorSchemeIds[i]}})),n(this,"setIds",((t,e)=>{const{prevId:i,nextId:n}=this.getIdFromKey(e);pt(t,(t=>{this.prevIds.set(t,i),this.nextIds.set(t,n),at(t,Ha,!0)}))})),n(this,"setRootIds",(t=>{const{prevIndex:e}=this.getIndexFromKey(t),{prevId:i,nextId:n}=this.getIdFromKey(t);0===e&&(this.rootPrevId=i,this.rootNextId=n)})),n(this,"handleColor",((t,e)=>{t.forEach(((t,i)=>{if(e){const e=`color-${t}`,n=`color-${this.nextIds.get(i)}`;i.classList.contains(e)&&(i.classList.remove(e),i.classList.add(n))}else{const e=`color-${this.nextIds.get(i)}`,n=`color-${t}`;i.classList.contains(e)&&(i.classList.remove(e),i.classList.add(n))}}))})),n(this,"handleStorage",((t,e)=>{const i={...Ot(Zt.getItem("@xo/darkMode")||"{}"),[t]:e?"dark":"light"};let n=[];for(let t in this.colorSchemeMapping){const{prevId:e}=this.getIdFromKey(t);n.push(e)}kt(n,mt(i))||pt(mt(i),(t=>{i[t]=Bt(i)[0],n.includes(t)||delete i[t]})),Zt.setItem("@xo/darkMode",JSON.stringify(i))})),this.darkModeMapping)try{this.colorSchemeMapping=this.darkModeMapping.trim().split("\n").reduce(((t,e)=>{const[i,n]=e.replace(/:\s+/g,":").split(":");return{...t,[i]:n}}),{})}catch{this.colorSchemeMapping={}}else this.colorSchemeMapping={}}connectedCallback(){var t;for(let e in this.colorSchemeMapping){const i=Number(e.replace(/Scheme\s/g,""))-1,{prevId:n}=this.getIdFromKey(e);this.colorEls=Array.from(document.querySelectorAll(`.color-${n}:not([${Ha}])`)),this.setIds(this.colorEls,e),this.setRootIds(e);let s="dark"===(null==(t=Ot(Zt.getItem("@xo/darkMode")||"{}"))?void 0:t[n]);const o=()=>{const t=Array.from(document.querySelectorAll(`.color-${n}:not([${Ha}])`));this.setIds(t,e);const i=new Map;pt(t,(t=>{i.set(t,n)})),this.handleColor(i,s)},r=()=>{at(this,"xo-loading",!0);const t=()=>{if(this.prevIds.size&&(this.setAttribute("xo-mode",s?"dark":"light"),at(document.documentElement,"xo-dark-mode",s),this.handleColor(this.prevIds,s)),0===i)if(s){const t=`color-${this.rootPrevId}`,e=`color-${this.rootNextId}`;document.documentElement.classList.remove(t),document.documentElement.classList.add(e)}else{const t=`color-${this.rootNextId}`,e=`color-${this.rootPrevId}`;document.documentElement.classList.remove(t),document.documentElement.classList.add(e)}at(this,"xo-loading",!1)};"requestIdleCallback"in window?requestIdleCallback((()=>{t()})):setTimeout((()=>{t()}),0)},a=()=>{s=!s,this.handleStorage(n,s),r()};this.handleStorage(n,s),r(),this.addEventListener("click",a),document.addEventListener("scroll",o),document.addEventListener("mouseover",o),document.addEventListener("touchstart",o),this.handleToggles.push(a),this.pushIds.push(o)}}disconnectedCallback(){pt(this.handleToggles,(t=>{this.removeEventListener("click",t)})),pt(this.pushIds,(t=>{document.removeEventListener("scroll",t),document.removeEventListener("mouseover",t),document.removeEventListener("touchstart",t)}))}}Ct((async()=>{await gt(0),xt({[Ae.DarkMode]:Ra})}));const Va=class extends HTMLElement{constructor(){super(),n(this,"heights",[]),n(this,"resized",!1),n(this,"debounceId",-1),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"_options"),n(this,"setOptions",(()=>{var t,e,i,n;const s=qt(this,{pick:["xoGap","xoColumn","xoBreakpoints"],types:{xoGap:"number",xoColumn:"number",xoBreakpoints:"object"}}),o=ee(s.xoBreakpoints);this.options={...s,xoGap:null!=(e=null!=(t=null==o?void 0:o.gap)?t:s.xoGap)?e:Va.defaultOptions.xoGap,xoColumn:null!=(n=null!=(i=null==o?void 0:o.column)?i:s.xoColumn)?n:Va.defaultOptions.xoColumn}})),n(this,"setItemStyles",(t=>{const{xoGap:e}=this.options,{xoColumn:i}=this.options;t.style.position="absolute",t.style.width=100/i+"%",t.style.left=100/i*this.indexSelected+"%",t.style.top=`${this.minHeight}px`,t.style.padding=e/2+"px",this.resized&&(t.style.transition="all 0.4s ease")})),n(this,"handleMasonryElement",(()=>{const{xoGap:t}=this.options,e=Array.from(this.querySelectorAll(`${Ae.MasonryItem}, [${Ae.MasonryItem}]`));pt(e,(t=>{this.setItemStyles(t),this.heights[this.indexSelected]+=t.offsetHeight})),this.style.height=`${this.maxHeight}px`,this.style.margin="-"+t/2,this.debounceId&&clearTimeout(this.debounceId),this.debounceId=window.setTimeout((()=>{e.forEach((t=>{t.style.removeProperty("transition")})),this.resized=!1}),500)})),n(this,"setDefaultHeights",(()=>{const{xoColumn:t}=this.options;this.heights=Array(t).fill(0)})),n(this,"setContainerGap",(()=>{const{xoGap:t}=this.options;this.style.margin=`-${t/2}px`})),n(this,"update",(()=>{this.setOptions(),this.setDefaultHeights(),this.handleMasonryElement(),this.setContainerGap()})),n(this,"handleResize",St((t=>{for(let e of t){const t=e.contentRect.width;t!==this.prevWidth&&(this.resized=!0,this.update(),this.prevWidth=t)}}),300))}static get observedAttributes(){return["xo-observed"]}get options(){return this._options}set options(t){this._options=t}get minHeight(){return Math.min(...this.heights)}get maxHeight(){return Math.max(...this.heights)}get indexSelected(){return At(this.heights,(t=>t===this.minHeight))}connectedCallback(){this.update(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this)}disconnectedCallback(){var t;clearTimeout(this.debounceId),null==(t=this.resizeObserver)||t.disconnect(),this.update()}async attributeChangedCallback(t,e,i){var n;"xo-observed"===t&&e!==i&&(await gt(100),clearTimeout(this.debounceId),null==(n=this.resizeObserver)||n.disconnect(),this.update())}};let Ba=Va;n(Ba,"defaultOptions",{xoGap:30,xoColumn:4,xoBreakpoints:{}});class za{constructor(t){n(this,"el"),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"prevHeight",0),n(this,"masonryEl",null),n(this,"handleResize",St((t=>{var e;for(const i of t){const t=i.contentRect.width,n=i.contentRect.height;(t!==this.prevWidth||n!==this.prevHeight)&&(null==(e=this.masonryEl)||e.update(),this.prevWidth=t,this.prevHeight=n)}}),300)),this.el=t}mount(){var t;this.masonryEl=this.el.parentElement,this.masonryEl.tagName.toLowerCase()===Ae.Masonry&&(at(this.el,"xo-masonry-item",!0),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.el),null==(t=this.masonryEl)||t.update())}unmount(){var t,e;clearTimeout(null==(t=this.masonryEl)?void 0:t.debounceId),null==(e=this.resizeObserver)||e.disconnect()}}class _a extends HTMLElement{constructor(){super(...arguments),n(this,"masonryItemBase",null)}connectedCallback(){this.masonryItemBase=new za(this),this.masonryItemBase.mount()}disconnectedCallback(){var t;null==(t=this.masonryItemBase)||t.unmount()}}xt({[Ae.Masonry]:Ba,[Ae.MasonryItem]:_a});const Wa=1e3/60,Ua=class extends HTMLDivElement{constructor(){super(...arguments),n(this,"targetValueX",0),n(this,"targetValueY",0),n(this,"currentValueX",0),n(this,"currentValueY",0),n(this,"displacementX",0),n(this,"displacementY",0),n(this,"isHover",!1),n(this,"itemEl",null),n(this,"isStart",!1),n(this,"handleFrameSyncUpdate",(({delta:t})=>{if(this.itemEl){const e=Math.abs(this.targetValueX-this.currentValueX),i=Math.abs(this.targetValueY-this.currentValueY);if(e<.001&&i<.001)return;let n=t/Wa;const s=Math.round(n);s>=1&&(n=s);const{xoLerpEase:o}=this.options,r=De(this.currentValueX,this.targetValueX,(this.isHover?o:1)*n),a=De(this.currentValueY,this.targetValueY,(this.isHover?o:1)*n);this.itemEl.style.top=`${a}px`,this.itemEl.style.left=`${r}px`,this.currentValueX=r,this.currentValueY=a,this.isHover=!0,this.handleDistortion(n)}})),n(this,"handleDistortion",(t=>{const{xoLerpEase:e,xoDistortion:i}=this.options;if("none"===i)return;this.itemEl.style.filter=`url(#xo-cursor-${i})`,this.displacementX=De(this.displacementX,this.targetValueX,e*t),this.displacementY=De(this.displacementY,this.targetValueY,e*t);const n=function(t,e,i,n){var s=t-e,o=i-n;return Math.hypot(s,o)}(this.displacementX,this.targetValueX,this.displacementY,this.targetValueY);document.querySelector(`#xo-cursor-${i} feDisplacementMap`).scale.baseVal=n})),n(this,"setHoverButton",(t=>{const e=!!t.target.closest("a")||!!t.target.closest("button")||!!t.target.closest('[role="button"]');this.itemEl&&at(this.itemEl,"xo-is-hovering-button",e)})),n(this,"handleMouseMove",(t=>{const{xoAbsolute:e}=this.options;this.isStart||(this.isStart=!0,Lt.add(this.handleFrameSyncUpdate,!0)),this.setItemLeftRightEl(t),pt(this.itemEls,(t=>{at(t,"xo-active",!1)})),this.itemEl&&!rt(this.itemEl,"xo-active")&&at(this.itemEl,"xo-active",!0);const{scrollX:i,scrollY:n}=this.getScrollXY();if(e){const{top:e,left:i}=zt(this);this.targetValueX=t.pageX-i,this.targetValueY=t.pageY-e}else this.targetValueX=t.pageX-i,this.targetValueY=t.pageY-n;this.setHoverButton(t)})),n(this,"handleMouseLeave",(t=>{t.stopPropagation(),this.itemEl&&(at(this.itemEl,"xo-active",!1),this.isHover=!1,Lt.remove(this.handleFrameSyncUpdate))})),n(this,"setItemLeftRightEl",(t=>{const{xoName:e}=this.options;if(e.startsWith("[")&&e.endsWith("]")){const[i,n]=Ot(e);zt(this).left+this.offsetWidth/2<t.pageX?this.itemEl=this.querySelector(`${Ae.CursorItem}[xo-name="${n}"]`):this.itemEl=this.querySelector(`${Ae.CursorItem}[xo-name="${i}"]`)}})),n(this,"handleMouseEnter",(t=>{t.stopPropagation(),this.setItemLeftRightEl(t),this.itemEl&&(this.setHoverButton(t),Lt.add(this.handleFrameSyncUpdate,!0))}))}get options(){const t=qt(this,{pick:["xoName","xoLerpEase","xoDistortion","xoAbsolute","xoMobileDisabled"],types:{xoName:"string",xoLerpEase:"number",xoDistortion:"string",xoAbsolute:"boolean",xoMobileDisabled:"boolean"}});return{...Ua.defaultOptions,...t}}setItemEl(){const{xoName:t}=this.options;t.startsWith("[")&&t.endsWith("]")&&(this.itemEl=null),t&&(this.itemEl=this.querySelector(`${Ae.CursorItem}[xo-name="${t}"]`)),this.itemEl=this.querySelector(Ae.CursorItem)}get itemEls(){return Array.from(document.querySelectorAll(Ae.CursorItem))}getScrollXY(){return{scrollX:window.scrollX,scrollY:window.scrollY}}connectedCallback(){if(Vt&&this.options.xoMobileDisabled)return;const{top:t,left:e}=zt(this),{scrollX:i,scrollY:n}=this.getScrollXY();this.targetValueX=e+this.offsetWidth/2-i,this.targetValueY=t+this.offsetHeight/2-n,this.currentValueX=this.targetValueX,this.currentValueY=this.targetValueY,this.setItemEl(),this.addEventListener("mouseenter",this.handleMouseEnter,!1),this.addEventListener("mousemove",this.handleMouseMove,!1),this.addEventListener("mouseleave",this.handleMouseLeave,!1)}disconnectedCallback(){this.removeEventListener("mouseenter",this.handleMouseEnter,!1),this.removeEventListener("mousemove",this.handleMouseMove,!1),this.removeEventListener("mouseleave",this.handleMouseLeave,!1),Lt.remove(this.handleFrameSyncUpdate)}};let Ya=Ua;n(Ya,"defaultOptions",{xoName:"",xoLerpEase:.1,xoDistortion:"none",xoAbsolute:!1,xoMobileDisabled:!1}),document.body.insertAdjacentHTML("beforeend",'\n    <svg class="xo-hidden">\n      <filter id="xo-cursor-distortion-1">\n        <feTurbulence type="fractalNoise" baseFrequency="0.01 0.003" numOctaves="5" seed="2" stitchTiles="noStitch" x="0%" y="0%" width="100%" height="100%" result="noise" />\n        <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="B" x="0%" y="0%" width="100%" height="100%" filterUnits="userSpaceOnUse" />\n      </filter>\n      <filter id="xo-cursor-distortion-2">\n        <feTurbulence type="turbulence" baseFrequency="0.07 0.01" numOctaves="5" seed="2" stitchTiles="stitch" x="0%" y="0%" width="100%" height="100%" result="noise"></feTurbulence />\n        <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="B" x="0%" y="0%" width="100%" height="100%" filterUnits="userSpaceOnUse" />\n      </filter>\n      <filter id="xo-cursor-distortion-3">\n        <feTurbulence type="fractalNoise" baseFrequency="0.1" numOctaves="5" seed="2" stitchTiles="noStitch" x="0%" y="0%" width="100%" height="100%" result="noise"></feTurbulence />\n        <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="B" x="0%" y="0%" width="100%" height="100%" filterUnits="userSpaceOnUse" />\n      </filter>\n      <filter id="xo-cursor-distortion-4">\n        <feTurbulence type="fractalNoise" baseFrequency="0 0.04" numOctaves="5" seed="2" stitchTiles="noStitch" x="0%" y="0%" width="100%" height="100%" result="noise" />\n        <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="B" x="0%" y="0%" width="100%" height="100%" filterUnits="userSpaceOnUse" />\n      </filter>\n      <filter id="xo-cursor-distortion-5">\n        <feTurbulence type="fractalNoise" baseFrequency="1" numOctaves="5" seed="2" stitchTiles="noStitch" x="0%" y="0%" width="100%" height="100%" result="noise" />\n        <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="G" x="0%" y="0%" width="100%" height="100%" filterUnits="userSpaceOnUse" />\n      </filter>\n    </svg>\n  '),customElements.get(Ae.Cursor)||customElements.define(Ae.Cursor,Ya,{extends:"div"}),function(){var t;if(null==(t=window.xbEditor)||!t.designMode){let t=function(t){return{xoOffset:0,xoDuration:500,xoEasing:"easeInOutCubic",...qt(t,{pick:["xoOffset","xoDuration","xoEasing"],types:{xoOffset:"number",xoDuration:"number",xoEasing:"string"}})}};const e=ft();window.addEventListener("click",(i=>{var n,s;const o=i.target.closest("[xo-scroll-to]"),r=null!=(s=null!=(n=null==o?void 0:o.getAttribute("href"))?n:null==o?void 0:o.getAttribute("xb-href"))?s:null==o?void 0:o.getAttribute("xo-href");if(o&&r){i.preventDefault();const{xoOffset:n,xoDuration:s,xoEasing:a}=t(o);if("#top"===r)e({from:window.scrollY,to:0+n,duration:s,easing:Pt[a],onUpdate:t=>{window.scrollTo({top:t})}});else{const t=document.querySelector(r);if(null!=t){const i=window.scrollY,o=t.getBoundingClientRect().top+window.scrollY+n;e({from:i,to:o,duration:s,easing:Pt[a],onUpdate:t=>{const e=As("top"),n=Ht({inputRange:[i,o],outputRange:[0,e],value:t});window.scrollTo({top:t-n})}})}}}}))}}();let Ga=(Y=class extends le{constructor(){super(...arguments),n(this,"innerEl",this.children[0]),n(this,"animated",ft()),n(this,"pan",null),n(this,"nextEl",this.querySelector(Ae.ScrollCarouselNext)),n(this,"prevEl",this.querySelector(Ae.ScrollCarouselPrev)),n(this,"anchorEls",Array.from(this.querySelectorAll("a"))),n(this,"isPanMove",!1),n(this,"stopAnimated",(()=>{})),n(this,"state",{isDragging:!1,x:0,navTarget:!1}),n(this,"getDirConstant",(()=>{const{xoRtl:t}=this.props;return t?-1:1})),n(this,"endX",(()=>{const{xoGap:t}=this.props;return(this.offsetWidth-this.innerEl.scrollWidth+t)*this.getDirConstant()})),n(this,"getValue",((t,e=!0)=>{const{xoRtl:i}=this.props,n=i?0:this.endX(),s=i?this.endX():0;return e?Qt(n,s,t,.3):ht(t,n,s)})),n(this,"handlePanStart",(t=>{var e,i;((null==(e=this.nextEl)?void 0:e.contains(t.target))||(null==(i=this.prevEl)?void 0:i.contains(t.target)))&&this.setState({navTarget:!0}),this.isPanMove=!1,this.stopAnimated()})),n(this,"handlePanMove",(({dx:t,isHorizontalSwipe:e},i)=>{const{isHorizontalSwipeState:n}=this.state;if(null==n&&this.setState({isHorizontalSwipeState:e}),!Vt||this.state.isHorizontalSwipeState){i.preventDefault(),this.isPanMove=!0;const e=this.getValue(t);this.setState({x:e,isDragging:!0})}})),n(this,"handlePanEnd",(({dx:t,vx:e})=>{const{isDragging:i,navTarget:n}=this.state;i&&(n||this.setState({isDragging:!1}),this.stopAnimated=this.animated({from:t,to:this.getValue(t+30*e,!1),duration:1200,easing:Pt.easeOutExpo,onUpdate:t=>{var e;const i=this.getValue(t);this.setState({x:i}),null==(e=this.pan)||e.setValue({dx:i})}})),this.setState({isHorizontalSwipeState:void 0,navTarget:!1})})),n(this,"handleWheel",(t=>{var e;const{deltaX:i,deltaY:n}=t;if(n)return;t.preventDefault();const{x:s}=this.state,o=Math.round(this.getValue(s-i+(i>0?1:-1)));this.stopAnimated(),this.setState({x:o}),null==(e=this.pan)||e.setValue({dx:o})})),n(this,"getFirstLastEls",(()=>{const t=Array.from(this.innerEl.children);let e=t.filter((t=>{const{left:e}=zt(t),i=e+t.offsetWidth;return e>=0&&i<window.innerWidth}));return 0===e.length&&(e=t.filter((t=>{const e=t.getBoundingClientRect();return e.left+e.width>=0&&e.left<=window.innerWidth}))),{firstEl:1===e.length&&e[0].previousElementSibling||e[0],lastEl:e[e.length-1]}})),n(this,"handleGo",(t=>{const{xoSpeed:e,xoEasing:i}=this.props,{x:n}=this.state;this.stopAnimated=this.animated({from:n,to:this.getValue(t,!1),duration:e,easing:Pt[i],onUpdate:t=>{var e;const i=this.getValue(t);this.setState({x:i,navTarget:!1}),null==(e=this.pan)||e.setValue({dx:i})}}),this.setState({isHorizontalSwipeState:void 0})})),n(this,"handleNext",(t=>{t.preventDefault();const{xoRtl:e}=this.props,{x:i,isDragging:n}=this.state;if(this.setState({isDragging:!1}),n)return;const{lastEl:s}=this.getFirstLastEls(),o=this.offsetWidth-s.offsetLeft,r=-(s.offsetLeft+s.offsetWidth),a=e?o:r;i!==this.endX()&&(a===i?this.handleGo(i-this.offsetWidth*this.getDirConstant()):this.handleGo(a))})),n(this,"handlePrev",(t=>{t.preventDefault();const{xoGap:e,xoRtl:i}=this.props,{x:n,isDragging:s}=this.state;if(this.setState({isDragging:!1}),s)return;const{firstEl:o}=this.getFirstLastEls(),r=-1*(o.offsetLeft+e),a=-1*(o.offsetLeft+o.offsetWidth-this.offsetWidth-e),l=i?r:a;0!==n&&(l===n?this.handleGo(n+this.offsetWidth*this.getDirConstant()):this.handleGo(l))})),n(this,"handleAnchor",(t=>{this.isPanMove&&t.preventDefault()})),n(this,"bindAnchor",(()=>{pt(this.anchorEls,(t=>{t.addEventListener("click",this.handleAnchor)}))})),n(this,"unbindAnchor",(()=>{pt(this.anchorEls,(t=>{t.removeEventListener("click",this.handleAnchor)}))})),n(this,"updateUI",(()=>{const{x:t}=this.state;this.innerEl.style.transform=`translate3d(${t}px, 0, 0)`,this.nextEl&&at(this.nextEl,"xo-disabled",t>=0),this.prevEl&&at(this.prevEl,"xo-disabled",t<=this.endX())}))}mount(){var t,e;const{xoGap:i}=this.props;!this.innerEl||(this.updateUI(),this.innerEl.style.setProperty("--xo-gap",`${i}px`),this.bindAnchor(),this.pan=Wt({element:this,onStart:this.handlePanStart,onMove:this.handlePanMove,onEnd:this.handlePanEnd}),this.addEventListener("wheel",this.handleWheel),null==(t=this.nextEl)||t.addEventListener("click",this.handleNext),null==(e=this.prevEl)||e.addEventListener("click",this.handlePrev))}stateUpdate(){this.updateUI()}unmount(){var t,e,i;null==(t=this.pan)||t.destroy(),this.stopAnimated(),this.unbindAnchor(),this.removeEventListener("wheel",this.handleWheel),null==(e=this.nextEl)||e.removeEventListener("click",this.handleNext),null==(i=this.prevEl)||i.removeEventListener("click",this.handlePrev)}},n(Y,"propTypes",{xoSpeed:"number",xoGap:"number",xoEasing:"string",xoRtl:"boolean"}),n(Y,"defaultProps",{xoSpeed:200,xoEasing:"ease",xoGap:30,xoRtl:"rtl"===getComputedStyle(document.documentElement).direction}),Y);Ga=Yi([ce(Ae.ScrollCarousel)],Ga);let ja=(G=class extends le{constructor(){super(...arguments),n(this,"handleMouseMove",(t=>{const{xoDuration:e,xoRadius:i,xoRadiusMove:n}=this.props,s=this.querySelector(Ae.MagneticContent),{top:o,left:r,width:a,height:l}=this.getBoundingClientRect(),c=r+a/2,h=o+l/2,u=Math.max(c-t.clientX,0),d=Math.max(t.clientX-c,0),p=Math.max(h-t.clientY,0),m=Math.max(t.clientY-h,0),x=i,g=1.3,v=n||x;if(s)if(this.checkCircle(t.clientX,t.clientY,c,h,x)){const i=Math.abs(t.clientX)-c,n=Math.abs(t.clientY)-h,o=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));let r=0,a=0;u>0?r=u/-g:d>0&&(r=d/g),p>0?a=p/-g:m>0&&(a=m/g),r/=o/x*(x/v)+.5,a/=o/x*(x/v)+.5,at(this,"xo-active",!0),s.style.transition=`${e}ms cubic-bezier(.29,.99,.53,.88)`,s.style.transform=`translate3d(${r}px, ${a}px, 0)`}else at(this,"xo-active",!1),s.style.transform="translate3d(0, 0, 0)"})),n(this,"handleMouseLeave",(()=>{const t=this.querySelector(Ae.MagneticContent);at(this,"xo-active",!1),t&&(t.style.transform="translate3d(0, 0, 0)")})),n(this,"getContainerEl",(()=>{var t;const{xoTarget:e}=this.props,i=this.closest(".shopify-section")||document.body;return e&&null!=(t=this.closest(e))?t:i}))}checkCircle(t,e,i,n,s){return Math.pow(t-i,2)+Math.pow(e-n,2)<=Math.pow(s,2)}mount(){const t=this.getContainerEl();t.addEventListener("mousemove",this.handleMouseMove),t.addEventListener("mouseleave",this.handleMouseLeave)}unmount(){const t=this.getContainerEl();t.removeEventListener("mousemove",this.handleMouseMove),t.removeEventListener("mouseleave",this.handleMouseLeave)}},n(G,"propTypes",{xoDuration:"number",xoRadius:"number",xoRadiusMove:"number",xoTarget:"string"}),n(G,"defaultProps",{xoDuration:600,xoRadius:100}),G);ja=Yi([ce(Ae.Magnetic)],ja);let Xa=(j=class extends le{constructor(){super(...arguments),n(this,"observer",null),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"getAnimateEl",(()=>this.closest(Ae.Animate))),n(this,"getChartDimensions",(()=>{const{xoMargin:t}=this.props;return{chartHeight:this.offsetHeight-2*t,chartWidth:this.offsetWidth-2*t}})),n(this,"renderXLabels",(()=>{const{xoXLabels:t}=this.props,{chartHeight:e,chartWidth:i}=this.getChartDimensions();return t.map(((n,s)=>`\n        <text x="${s/(t.length-1)*i}" y="${e+20}" text-anchor="middle" font-size="12">${n}</text>\n      `)).join("")})),n(this,"renderYLabels",(()=>{const{xoYLabels:t}=this.props,{chartHeight:e}=this.getChartDimensions();return t.map(((i,n)=>`\n        <text x="-10" y="${e-n/(t.length-1)*e}" text-anchor="end" dominant-baseline="middle" font-size="12">${i}</text>\n      `)).join("")})),n(this,"renderGridLines",(()=>{const{xoGridColor:t,xoGridType:e,xoXLabels:i,xoYLabels:n}=this.props,{chartWidth:s,chartHeight:o}=this.getChartDimensions();return[...i.map(((n,r)=>{const a=r/(i.length-1)*s;return`\n          <line x1="${a}" y1="0" x2="${a}" y2="${o}" stroke="${t}" stroke-width="1"${"dashed"===e?' stroke-dasharray="5,5"':""}></line>\n        `})),...n.map(((i,r)=>{const a=r/(n.length-1)*o;return`\n          <line x1="0" y1="${a}" x2="${s}" y2="${a}" stroke="${t}" stroke-width="1"${"dashed"===e?' stroke-dasharray="5,5"':""}></line>\n        `}))].join("")})),n(this,"renderPoints",((t,e,i,n,s)=>e?t.map((t=>`<circle cx="${t.x}" cy="${t.y}" r="${n}" fill="${i}"${s&&this.getAnimateEl()?' style="transition: 1s ease 0.2s; opacity: 0;"':""}></circle>`)).join(""):"")),n(this,"renderLines",(t=>{const{xoDatasets:e,xoMax:i,xoYLabels:n,xoXLabels:s,xoSmoothness:o}=this.props,{chartWidth:r,chartHeight:a}=this.getChartDimensions();return e.map((e=>{const{data:l,lineColor:c="#3438fb",lineWidth:h=2,lineCap:u="square",dotEnabled:d=!0,dotColor:p,dotSize:m=4}=e,x=s.length-1,g=null!=i?i:Math.max(...n.map(Number)),{path:v,points:b}=function(t,e,i,n,s,o=.5){const r=t.map(((t,o)=>({x:o/n*e,y:i-t/s*i})));let a=`M ${r[0].x} ${r[0].y}`;for(let t=0;t<r.length-1;t++){const e=r[t-1]||r[t],i=r[t],n=r[t+1],s=r[t+2]||r[t+1];a+=` C ${i.x+(n.x-e.x)*o/6} ${i.y+(n.y-e.y)*o/6}, ${n.x-(s.x-i.x)*o/6} ${n.y-(s.y-i.y)*o/6}, ${n.x} ${n.y}`}return{path:a,points:r}}(l,r,a,x,g,ht(o,0,1));return`\n          <path d="${v}" fill="none" stroke="${c}" stroke-width="${h}" stroke-linecap="${u}"></path>\n          ${this.renderPoints(b,d,p||c,m,t)}\n        `})).join("")})),n(this,"renderChart",(t=>{const{xoMargin:e}=this.props,{chartWidth:i,chartHeight:n}=this.getChartDimensions();return`\n      <svg width="${i+2*e}" height="${n+2*e}" version="1.1" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle">\n        <g transform="translate(${e}, ${e})">\n          ${this.renderXLabels()}\n          ${this.renderYLabels()}\n          ${this.renderGridLines()}\n          ${this.renderLines(t)}\n        </g>\n      </svg>\n    `})),n(this,"handler",((t=!1)=>{this.innerHTML=this.renderChart(t),t&&this.handleAnimate(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this)})),n(this,"handleResize",St((t=>{var e;for(let i of t){const t=i.contentRect.width;t!==this.prevWidth&&(0!==this.prevWidth&&(this.innerHTML="",null==(e=this.observer)||e.disconnect(),this.handler()),this.prevWidth=t)}}),400))}handleAnimate(){const t=Array.from(this.querySelectorAll("path")),e=Array.from(this.querySelectorAll("circle"));this.getAnimateEl()&&(pt(t,(t=>{const e=t.getTotalLength();t.setAttribute("stroke-dashoffset",String(e)),t.setAttribute("stroke-dasharray",String(e)),t.setAttribute("xo-next-stroke-dashoffset","0")})),this.observer=new MutationObserver((t=>{pt(t,(t=>{var i;const n=t.target.getAttribute("stroke-dashoffset");("0"===n||!n)&&(pt(e,(t=>{t.style.opacity="1"})),null==(i=this.observer)||i.disconnect())}))})),this.observer.observe(t[0],{attributes:!0,attributeFilter:["stroke-dashoffset"]}))}destroy(){var t,e;this.innerHTML="",null==(t=this.observer)||t.disconnect(),null==(e=this.resizeObserver)||e.disconnect()}mount(){this.handler(!0)}unmount(){this.destroy()}propUpdate({prevProp:t,nextProp:e}){null!=t&&t!==e&&(this.destroy(),this.handler())}},n(j,"propTypes",{xoXLabels:"array",xoYLabels:"array",xoMax:"number",xoDatasets:"array",xoGridColor:"string",xoGridType:"string",xoMargin:"number",xoSmoothness:"number"}),n(j,"defaultProps",{xoXLabels:[],xoYLabels:[],xoDatasets:[],xoGridColor:"#ddd",xoGridType:"dashed",xoMargin:40,xoSmoothness:1}),n(j,"observedProps",["xoXLabels","xoYLabels","xoDatasets","xoMax","xoGridColor","xoGridType","xoMargin"]),j);Xa=Yi([ce(Ae.LineChart)],Xa);let Qa=(X=class extends le{constructor(){super(...arguments),n(this,"timeId",-1),n(this,"resizeObserver",null),n(this,"prevWidth",0),n(this,"itemEls",Array.from(this.querySelectorAll(`:scope > ${Ae.ScrollSceneInner} > ${Ae.ScrollSceneItem}`))),n(this,"state",{activeIndex:0}),n(this,"getThreshold",(()=>{const{xoThreshold:t}=this.props;return/Mac/.test(navigator.userAgent)?t+.3:t})),n(this,"handleScroll",(()=>{const t=this.getThreshold(),{top:e}=this.getBoundingClientRect(),i=ht(Math.trunc(-1*e/(window.innerHeight*t)),0,this.itemEls.length-1);this.setState({activeIndex:i})})),n(this,"updateUI",(()=>{var t,e;const{activeIndex:i}=this.state,n=this.itemEls[i],s=null==(t=this.itemEls)?void 0:t[i-1],o=null==(e=this.itemEls)?void 0:e[i+1];pt(this.itemEls,(t=>{at(t,"xo-active",!1),at(t,"xo-prev",!1),at(t,"xo-next",!1)})),n&&at(n,"xo-active",!0),s&&at(s,"xo-prev",!0),o&&at(o,"xo-next",!0)})),n(this,"handleResize",St((t=>{for(let e of t){const t=e.contentRect.width;if(t!==this.prevWidth){const{xoMobileDisabled:e,xoMobileBreakpoint:i}=this.props;if(e&&window.innerWidth<i)this.style.removeProperty("height"),window.removeEventListener("scroll",this.handleScroll);else{const t=this.getThreshold();window.addEventListener("scroll",this.handleScroll),this.style.height=100*(this.itemEls.length+1/t)*t+"vh"}this.prevWidth=t}}}),400))}setActive(t){this.setState({activeIndex:t})}mount(){if(this.itemEls.length<=1)return;this.updateUI();const t=this.getThreshold();window.addEventListener("scroll",this.handleScroll),this.style.height=100*(this.itemEls.length+1/t)*t+"vh",this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this)}stateUpdate(t){const{activeIndex:e}=this.state;t.activeIndex!==e&&(this.updateUI(),this.emit("xo:scroll-scene:change",{bubbles:!0,detail:{activeIndex:e}}))}unmount(){var t;clearTimeout(this.timeId),window.removeEventListener("scroll",this.handleScroll),null==(t=this.resizeObserver)||t.disconnect()}},n(X,"propTypes",{xoThreshold:"number",xoMobileDisabled:"boolean",xoMobileBreakpoint:"number"}),n(X,"defaultProps",{xoThreshold:.5,xoMobileDisabled:!1,xoMobileBreakpoint:0}),X);async function Za(t,e){const i=await(await fetch(`/collections/${t}?section_id=${e}`)).text(),n=(new DOMParser).parseFromString(i,"text/html");return Array.from(n.querySelectorAll(Ae.CollectionTabsContent)).map((t=>{var e;return null!=(e=null==t?void 0:t.innerHTML.trim())?e:""}))}Qa=Yi([ce(Ae.ScrollScene)],Qa);let Ka=(Q=class extends le{constructor(){super(...arguments),n(this,"intersectionObserver",null),n(this,"cache",new Map),n(this,"state",{isLoading:!1,contents:[]}),n(this,"handleRequest",(async t=>{if(this.cache.has(t))return await gt(),void this.setState({contents:this.cache.get(t)});try{const{xoSectionId:e}=this.props;this.setState({isLoading:!0});const i=await Za(t,e);this.setState({contents:i}),i&&this.cache.set(t,i)}catch(t){console.error(t)}finally{this.setState({isLoading:!1})}})),n(this,"handleClick",(t=>{const{xoSectionId:e}=this.props,i=t.target.closest(`${Ae.CollectionTabs}[xo-section-id="${e}"] ${Ae.CollectionTabsTrigger}`),n=Array.from(this.querySelectorAll(Ae.CollectionTabsTrigger));if(i){const t=i.getAttribute("xo-handle");t&&(pt(n,(t=>{at(t,"xo-active",!1),ii(t,"xo-active-binding",!1)})),at(i,"xo-active",!0),ii(i,"xo-active-binding",!0),this.handleRequest(t))}})),n(this,"handleInit",(async()=>{var t;const e=null==(t=Array.from(this.querySelectorAll(Ae.CollectionTabsTrigger)).find((t=>rt(t,"xo-active"))))?void 0:t.getAttribute("xo-handle"),i=Array.from(this.querySelectorAll(Ae.CollectionTabsContent)).map((t=>{var e;return null!=(e=null==t?void 0:t.innerHTML.trim())?e:""}));e&&i&&this.cache.set(e,i)})),n(this,"handleIntersection",(async(t,e)=>{try{if(!t[0].isIntersecting)return;e.unobserve(this);const{xoSectionId:i}=this.props;pt(Array.from(this.querySelectorAll(Ae.CollectionTabsTrigger)),(async(t,e)=>{if(e>=10)return;const n=t.getAttribute("xo-handle"),s=rt(t,"xo-active");if(n&&!s&&!this.cache.has(n)){const t=await Za(n,i);this.cache.set(n,t)}}))}catch(t){console.error(t)}}))}mount(){this.handleInit(),window.Shopify.designMode||(this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{rootMargin:"0px 0px 400px 0px"}),this.intersectionObserver.observe(this)),document.addEventListener("click",this.handleClick)}stateUpdate(t){const{isLoading:e,contents:i}=this.state;this.setProps({xoLoading:e}),pt(Array.from(this.querySelectorAll(Ae.CollectionTabsContent)),((e,n)=>{var s;const o=i[n];(null==(s=t.contents)?void 0:s[n])!==o&&(null==e?void 0:e.innerHTML)!==o&&(e.innerHTML=o)}))}unmount(){var t;null==(t=this.intersectionObserver)||t.disconnect(),document.removeEventListener("click",this.handleClick)}},n(Q,"propTypes",{xoSectionId:"string"}),n(Q,"defaultProps",{}),Q);Ka=Yi([ce(Ae.CollectionTabs)],Ka);const Ja={};let tl=0;const el={};let il=(Z=class extends le{constructor(){super(...arguments),n(this,"intersectionObserver",null),n(this,"getAutoplay",(t=>!!t&&("VIDEO"===t.tagName?t.autoplay:"IFRAME"===t.tagName&&t.src.includes("autoplay=1")))),n(this,"handleIntersection",(t=>{const{xoThreshold:e}=this.props;t.forEach((t=>{const i=t.target.querySelector("video, iframe");t.isIntersecting&&t.intersectionRatio>=e?this.getAutoplay(i)&&function(t){ge("play",t)}(i):ve(i)}))})),n(this,"handlePauseAll",(()=>{const t=this.querySelector("video, iframe");pt(Array.from(document.querySelectorAll(`${Ae.IntersectionVideo} video, ${Ae.IntersectionVideo} iframe`)),(e=>{e!==t&&ve(e)}))}))}async mount(){const{xoThreshold:t}=this.props;this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{threshold:t}),this.intersectionObserver.observe(this);const e=this.querySelector("video, iframe");me(e.src)?function(t,e){0===tl&&window.addEventListener("message",(t=>{if("https://www.youtube.com"===t.origin&&t.data)try{const e=JSON.parse(t.data);if(el[e.id]=!0,"onStateChange"!==e.event)return;const i=Ja[e.id];null==i||i(e)}catch(t){console.error("Failed to parse message data",t)}}),!0),tl++,Ja[tl]=e,el[tl]=!1;const i=tl,n=()=>{[{event:"listening",id:i,channel:"widget"},{event:"command",func:"addEventListener",args:["onStateChange"],id:i,channel:"widget"}].forEach((e=>{var i;null==(i=t.contentWindow)||i.postMessage(JSON.stringify(e),"https://www.youtube.com")}))};t.addEventListener("load",(()=>{let t=0;n(),setTimeout((()=>{el[i]||(t++,t<100?n():console.warn(`Unable to subscribe ${i}`))}),100)}),!0)}(e,(t=>{1===t.info&&this.handlePauseAll()})):xe(e.src)?function(t,e){window.addEventListener("message",(i=>{var n;"https://player.vimeo.com"!==i.origin||t.contentWindow!==i.source||("string"==typeof i.data&&i.data.includes("ready")&&(null==(n=t.contentWindow)||n.postMessage({method:"addEventListener",value:"play"},"https://player.vimeo.com")),"play"===i.data.event&&e())}))}(e,(()=>{this.handlePauseAll()})):null==e||e.addEventListener("play",(()=>{this.handlePauseAll()}))}unmount(){var t;null==(t=this.intersectionObserver)||t.disconnect()}},n(Z,"propTypes",{xoThreshold:"number"}),n(Z,"defaultProps",{xoThreshold:.75}),Z);function nl(t,e){if("viewed"===t)Ze.set("xo-viewed-products",(t=>{const i=Ze.get("xo-viewed-products-limit"),n=t.length>=i;return t.includes(e)?t:[e,...n?t.filter(((e,i)=>i<t.length-1)):t]}));else if("bundle"===t){const t=be(this);Ze.set("xo-bundle-products",(i=>{var n,s;if(null!=(n=i[t])&&n.includes(e))return{...i,[t]:(i[t]||[]).filter((t=>t!==e))};const o=null!=(s=Ze.get("xo-bundle-products-limit")[t])?s:3;return(i[t]||[]).length>=o?i:{...i,[t]:[...i[t]||[],e]}}))}else Ze.set(`xo-${t}-products`,(i=>{if(i.includes(e))return i.filter((t=>t!==e));const n=Ze.get(`xo-${t}-products-limit`);return i.length>=n?i:[...i,e]}))}function sl(t,e){if("bundle"===t){const t=be(this);Ze.set("xo-bundle-products",(i=>({...i,[t]:(i[t]||[]).filter((t=>t!==e))})))}else Ze.set(`xo-${t}-products`,(t=>t.filter((t=>t!==e))))}function ol(t){if("bundle"===t){const t=be(this);Ze.set("xo-bundle-products",(e=>({...e,[t]:[]})))}else Ze.set(`xo-${t}-products`,[])}function rl(t,e){if("bundle"===t){const t=be(this);Ze.set("xo-bundle-products-limit",(i=>({...i,[t]:e})))}else Ze.set(`xo-${t}-products-limit`,e)}function al(t,e,i){if(i===1/0)return t;const n=(e-1)*i,s=n+i;return t.slice(n,s)}function ll(){var t,e;return null!=(e=null==(t=Gt(window.location.search,!0))?void 0:t.page)?e:1}async function cl(t,e,i){let n=1;const s=ll();i===1/0&&(n=s);const o=al(e,s,i).reduce(((t,e,i)=>t+`${0===i?"":" OR "}id:${e}`),`section_id=${t}&page=${n}&type=product&q=`);return await(await fetch(`/search?${o}`)).text()}il=Yi([ce(Ae.IntersectionVideo)],il);const hl=Ae.ProductsFetcher+"-order",ul=Ae.ProductsFetcher+"-scroll";let dl=(K=class extends le{constructor(){super(...arguments),n(this,"state",{ids:[],ready:!1}),n(this,"intersectionObserver",null),n(this,"scrollEl",this.querySelector(`[${ul}]`)),n(this,"st",0),n(this,"unsubscribe",(()=>{})),n(this,"removeAnimate",(t=>{const e=Array.from(t.querySelectorAll('[xo-animate="scroll"]')),i=Array.from(t.querySelectorAll(Ae.Animate));return pt(e,(t=>{t.setAttribute("xo-animate","none")})),pt(i,(t=>{at(t,"xo-disabled",!0)})),t})),n(this,"renderContent",(async()=>{var t,e;try{const{xoType:i,xoName:n,xoPageLimit:s}=this.props,o=be(this),{ids:r}=this.state,a=await cl(o,r,s);let l=(new DOMParser).parseFromString(a,"text/html");l=this.removeAnimate(l);const c=null!=(e=null==(t=l.querySelector(`${Ae.ProductsFetcher}[xo-type="${i}"]${n?`[xo-name="${n}"]`:""}`))?void 0:t.innerHTML.trim())?e:"";this.innerHTML!==c&&(this.innerHTML=c,this.handleOrder(),this.scrollEl&&(this.scrollEl.scrollTop=this.st)),this.setProps({xoLoading:!1})}catch{this.setProps({xoLoading:!1})}})),n(this,"handleIntersection",(t=>{t[0].isIntersecting&&!this.state.ready&&this.setState({ready:!0})})),n(this,"handleOrder",(()=>{const{ids:t}=this.state;pt(t,((t,e)=>{var i;const n=this.querySelector(`[${hl}="${t}"]`);null==(i=null==n?void 0:n.style)||i.setProperty("order",`${e+1}`)}))})),n(this,"handleScroll",(()=>{var t,e;this.st=null!=(e=null==(t=this.scrollEl)?void 0:t.scrollTop)?e:this.st})),n(this,"autoPrev",(()=>{const t=ll();if(t>1){const e=new URL(window.location.href);e.searchParams.set("page",""+(t-1)),window.location.href=e.href}})),n(this,"removeRedundant",(()=>{const{xoPageLimit:t,xoType:e}=this.props,{ids:i}=this.state,n=al(i,ll(),t);if(!this.querySelector(`[${hl}]`))return;const s=Array.from(this.querySelectorAll(`[${hl}]`)).map((t=>t.getAttribute(hl))),o=n.filter((t=>!s.includes(t)));o.length>0&&pt(o,(t=>{sl.call(this,e,t)}))}))}mount(){var t,e;const{xoType:i,xoLimit:n}=this.props,s=be(this);!s||(null!=n&&rl.call(this,i,n),i&&(this.setProps({xoLoading:!0}),this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{rootMargin:"0px 0px 400px 0px"}),this.intersectionObserver.observe(null!=(t=this.closest('[id^="shopify-section-template--"]'))?t:this),this.unsubscribe="bundle"===i?Ze.subscribe("xo-bundle-products",(t=>{var e;const i=null!=(e=t[s])?e:[];this.setState({ids:i})})):Ze.subscribe(`xo-${i}-products`,(t=>{this.setState({ids:t})})),null==(e=this.scrollEl)||e.addEventListener("scroll",this.handleScroll)))}async stateUpdate(){const{xoModalName:t,xoPageLimit:e}=this.props,{ids:i,ready:n}=this.state;n&&(0===al(i,ll(),e).length?(this.autoPrev(),this.setProps({xoEmpty:!0}),t&&Ci.close(t)):(this.setProps({xoEmpty:!1}),t&&Ci.open(t)),await this.renderContent(),this.removeRedundant())}unmount(){var t,e;this.unsubscribe(),null==(t=this.intersectionObserver)||t.disconnect(),null==(e=this.scrollEl)||e.removeEventListener("scroll",this.handleScroll)}},n(K,"propTypes",{xoType:"string",xoEmpty:"boolean",xoLoading:"boolean",xoName:"string",xoModalName:"string",xoLimit:"number",xoPageLimit:"number"}),n(K,"defaultProps",{xoEmpty:!1,xoLoading:!1,xoPageLimit:1/0}),K);dl=Yi([ce(Ae.ProductsFetcher)],dl);let pl=(J=class extends le{constructor(){super(...arguments),n(this,"state",{active:!1,limit:0,size:0}),n(this,"productEl",this.closest(Ae.Product)),n(this,"unsubscribe",(()=>{})),n(this,"unsubscribe2",(()=>{})),n(this,"handleClick",(()=>{const{xoProductId:t}=this.productEl.options,{xoType:e}=this.props;nl.call(this,e,t)}))}mount(){if(!this.productEl)throw new Error(`${Ae.ProductsFetcherAdd} must be in ${Ae.Product}`);const{xoType:t}=this.props;if(!t)return;const{xoProductId:e}=this.productEl.options,i=be(this);this.addEventListener("click",this.handleClick),"bundle"===t?(this.unsubscribe=Ze.subscribe("xo-bundle-products",(t=>{var n;const s=null!=(n=t[i])?n:[];this.setState({active:s.includes(e),size:s.length})})),this.unsubscribe2=Ze.subscribe("xo-bundle-products-limit",(t=>{var e;const n=null!=(e=t[i])?e:3;this.setState({limit:n})}))):(this.unsubscribe=Ze.subscribe(`xo-${t}-products`,(t=>{this.setState({active:t.includes(e),size:t.length})})),this.unsubscribe2=Ze.subscribe(`xo-${t}-products-limit`,(t=>{this.setState({limit:t})})))}stateUpdate(t){const{active:e,limit:i,size:n}=this.state;t.active!==e&&this.setProps({xoAdded:e}),this.setProps({xoLimited:n>=i})}unmount(){this.removeEventListener("click",this.handleClick),this.unsubscribe(),this.unsubscribe2()}},n(J,"propTypes",{xoType:"string",xoAdded:"boolean",xoLimited:"boolean"}),n(J,"defaultProps",{xoAdded:!1,xoLimited:!1}),J);pl=Yi([ce(Ae.ProductsFetcherAdd)],pl);let ml=(tt=class extends le{constructor(){super(...arguments),n(this,"productEl",this.closest(Ae.Product)),n(this,"handleClick",(()=>{const{xoType:t}=this.props,{xoProductId:e}=this.productEl.options;this.setProps({xoLoading:!0}),sl.call(this,t,e)}))}mount(){if(!this.productEl)throw new Error(`${Ae.ProductsFetcherRemove} must be in ${Ae.Product}`);const{xoType:t}=this.props;!t||this.addEventListener("click",this.handleClick)}unmount(){this.removeEventListener("click",this.handleClick)}},n(tt,"propTypes",{xoType:"string",xoLoading:"boolean"}),n(tt,"defaultProps",{}),tt);ml=Yi([ce(Ae.ProductsFetcherRemove)],ml);let xl=(et=class extends le{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{})),n(this,"handleClick",(()=>{const{xoType:t}=this.props;ol.call(this,t)}))}mount(){const{xoType:t}=this.props;if(!t)return;const e=be(this);this.addEventListener("click",this.handleClick),this.unsubscribe="bundle"===t?Ze.subscribe("xo-bundle-products",(t=>{var i;const n=null!=(i=t[e])?i:[];this.setProps({xoEmpty:0===n.length})})):Ze.subscribe(`xo-${t}-products`,(t=>{this.setProps({xoEmpty:0===t.length})}))}unmount(){this.removeEventListener("click",this.handleClick),this.unsubscribe()}},n(et,"propTypes",{xoType:"string",xoEmpty:"boolean"}),n(et,"defaultProps",{xoEmpty:!1}),et);xl=Yi([ce(Ae.ProductsFetcherClear)],xl);let gl=(it=class extends le{constructor(){super(...arguments),n(this,"unsubscribe",(()=>{}))}mount(){const{xoType:t}=this.props;if(!t)return;const e=be(this);this.unsubscribe="bundle"===t?Ze.subscribe("xo-bundle-products",(t=>{var i;const n=null!=(i=t[e])?i:[];this.innerHTML=`${n.length}`,this.setProps({xoEmpty:0===n.length})})):Ze.subscribe(`xo-${t}-products`,(t=>{this.innerHTML=`${t.length}`,this.setProps({xoEmpty:0===t.length})}))}unmount(){this.unsubscribe()}},n(it,"propTypes",{xoType:"string",xoEmpty:"boolean"}),n(it,"defaultProps",{xoEmpty:!1}),it);gl=Yi([ce(Ae.ProductsFetcherSize)],gl);let vl=(nt=class extends le{constructor(){super(...arguments),n(this,"state",{ids:[]}),n(this,"unsubscribe",(()=>{})),n(this,"renderContent",(async()=>{var t,e;try{const i=be(this),{ids:n}=this.state,s=await async function(t,e){return cl(t,e,1/0)}(i,n),o=null!=(e=null==(t=(new DOMParser).parseFromString(s,"text/html").querySelector(Ae.ProductsFetcherPaginate))?void 0:t.innerHTML)?e:"";this.innerHTML!==o&&(this.innerHTML=o)}catch(t){console.error(t)}}))}mount(){const{xoType:t}=this.props,e=be(this);!e||(this.unsubscribe="bundle"===t?Ze.subscribe("xo-bundle-products",(t=>{var i;const n=null!=(i=t[e])?i:[];this.setState({ids:n})})):Ze.subscribe(`xo-${t}-products`,(t=>{this.setState({ids:t})})))}stateUpdate(){this.renderContent()}unmount(){this.unsubscribe()}},n(nt,"propTypes",{xoType:"string"}),n(nt,"defaultProps",{}),nt);vl=Yi([ce(Ae.ProductsFetcherPaginate)],vl),Ze.create("xo-viewed-products",{initialState:[],useStorage:!0}),Ze.create("xo-compare-products",{initialState:[],useStorage:!0}),Ze.create("xo-wishlist-products",{initialState:[],useStorage:!0}),Ze.create("xo-bundle-products",{initialState:{}}),Ze.create("xo-viewed-products-limit",{initialState:50}),Ze.create("xo-compare-products-limit",{initialState:4}),Ze.create("xo-wishlist-products-limit",{initialState:1/0}),Ze.create("xo-bundle-products-limit",{initialState:{}});let bl=0,fl=(st=class extends le{constructor(){super(),n(this,"cssId",`${Ae.Photoswipe}-css`),n(this,"jsLightboxId",`${Ae.Photoswipe}-lightbox-js`),n(this,"jsId",`${Ae.Photoswipe}-js`),n(this,"cssFile","https://cdnjs.cloudflare.com/ajax/libs/photoswipe/5.4.4/photoswipe.min.css"),n(this,"jsFile","https://cdnjs.cloudflare.com/ajax/libs/photoswipe/5.4.4/umd/photoswipe.umd.min.js"),n(this,"jsLightboxFile","https://cdnjs.cloudflare.com/ajax/libs/photoswipe/5.4.4/umd/photoswipe-lightbox.umd.min.js"),n(this,"photoswipeId",""),n(this,"lightbox",null),n(this,"handlePhotoswipe",(()=>{this.lightbox=new window.PhotoSwipeLightbox({children:"a",...this.props.xoOptions,gallery:`#${this.photoswipeId}`,pswpModule:window.PhotoSwipe}),this.lightbox.init()})),n(this,"handler",(async()=>{document.querySelector(`#${this.cssId}`)||(ne({id:this.cssId,file:this.cssFile}),await Promise.all([se({id:this.jsId,file:this.jsFile}),se({id:this.jsLightboxId,file:this.jsLightboxFile})])),this.handlePhotoswipe()})),bl++,this.photoswipeId=`xo-photoswipe-${bl}`}mount(){this.id=this.photoswipeId,"requestIdleCallback"in window?requestIdleCallback((()=>{this.handler()}),{timeout:3e3}):setTimeout((()=>{this.handler()}),4e3)}unmount(){var t;null==(t=this.lightbox)||t.destroy(),this.lightbox=null}},n(st,"propTypes",{xoOptions:"object"}),n(st,"defaultProps",{xoOptions:{}}),st);fl=Yi([ce(Ae.Photoswipe),Gi("design:paramtypes",[])],fl);const yl={},El="xo:globalFunction:mount";document.addEventListener(El,(()=>{const t=document.querySelector(Ae.GlobalFunction),e=document.querySelectorAll(`${Ae.GlobalFunction}:not([xo-ready])`);t&&0===e.length&&Object.entries(yl).forEach((([t,e])=>{window[t]=(t,i)=>{e.forEach((e=>{e(t,i)}))}}))}));let wl=(ot=class extends le{constructor(){super(...arguments),n(this,"update",((t,e)=>{const{xoNodeBinding:i}=this.props;pt(i.split(/,\s*/g),(i=>{var n,s;if(!/\[|\]/g.test(i))return;const o=i.replace(/\[.*/g,"").trim(),r=i.replace(/.*\[|\]/g,"").trim().split("=").flatMap(((t,e,i)=>"children"===t?t:1===i.length?[t,"true"]:t));pt(Array.from(null!=(s=null==(n=this.closest(`xo-product[xo-product-id="${t}"]`))?void 0:n.querySelectorAll(`${Ae.GlobalFunction} ${o}`))?s:[]),(t=>{if(1===r.length&&(t.innerHTML=e),2===r.length){const[e,i]=r;t.setAttribute(e,i)}}))}))}))}mount(){const{xoFunction:t}=this.props;yl[t]||(yl[t]=[]),yl[t].push(this.update),this.setProps({xoReady:!0}),document.dispatchEvent(new CustomEvent(El,{bubbles:!0}))}},n(ot,"propTypes",{xoFunction:"string",xoNodeBinding:"string",xoReady:"boolean"}),n(ot,"defaultProps",{xoNodeBinding:""}),ot);wl=Yi([ce(Ae.GlobalFunction)],wl);let Sl=class extends le{constructor(){super(...arguments),n(this,"carouselItem",null),n(this,"masonryItemBase",null)}mount(){this.carouselItem=new Wn(this),this.carouselItem.mount(),this.masonryItemBase=new za(this),this.masonryItemBase.mount()}unmount(){var t,e;null==(t=this.carouselItem)||t.unmount(),null==(e=this.masonryItemBase)||e.unmount()}};Sl=Yi([ce(Ae.Item)],Sl),Ct((()=>{document.addEventListener("keydown",(async t=>{const e="Enter"===t.key||" "===t.key,i=t.target;if(i){const n=rt(i,"xo-button")||rt(i,"data-button")||"button"===i.getAttribute("role"),s=i.tagName.toLowerCase()===Ae.CarouselSlide&&i.closest(Ae.CarouselThumbnail);n&&e&&(await gt(),i.click()),s&&i.click();const o=i.getAttribute("xb-href");o&&e&&(t.ctrlKey||t.metaKey?window.open(o,"_blank"):window.location.href=o)}})),document.querySelectorAll("a").forEach((t=>{const e=t.getAttribute("href");e&&t.setAttribute("href",fe(e))})),function(){var t;const e=document.querySelector("dotlottie-player");null!=(t=null==e?void 0:e.getAttribute("src"))&&t.endsWith(".lottie")&&(se({id:"dotlottie-player",file:"https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.js"}),ne({id:"dotlottie-player",content:"dotlottie-player { width: 100% !important; height: auto !important }"}))}(),async function(){var t,e;if(location.pathname.startsWith("/products/"))if(null!=(e=null==(t=window.meta)?void 0:t.product)&&e.id)nl("viewed",window.meta.product.id.toString());else{const t=document.querySelector(`${Ae.Product}[xo-product-information]`),e=null==t?void 0:t.getAttribute("xo-product-id");e&&nl("viewed",e)}}(),function(){function t(t){const e=t.getAttribute("xo-measure-parent-selector"),i=e?t.closest(e):null,n=zt(t),s=i?zt(i):{top:0,left:0},o=n.top-s.top,r=n.left-s.left,{width:a,height:l}=t.getBoundingClientRect();t.style.setProperty("--xo-top",o.toString()),t.style.setProperty("--xo-left",r.toString()),t.style.setProperty("--xo-width",a.toString()),t.style.setProperty("--xo-height",l.toString())}function e(e){const i=e.target.closest("[xo-measure]");i&&t(i)}setTimeout((()=>{pt(Array.from(document.querySelectorAll("[xo-measure]")),(e=>{t(e)}))}),500),window.addEventListener("click",e),window.addEventListener("mouseenter",e)}()})),console.log("WC V1.4.6"),t.CircleBar=$i,t.cartFormSubscribe=Uo,t.cartSubscribe=$o,t.fieldSignal=Io,t.getCartFormState=Wo,t.getCartState=Lo,t.xoCarousel=is,t.xoCircleBar=Ai,t.xoCollapse=Zi,t.xoFilters=Vs,t.xoGroup=ea,t.xoModal=Ci,t.xoPopover=Ri,t.xoProductQuickView=Kr,t.xoSticky=Ns,t.xoStore=Ze,t.xoTabs=un,t.xoToast=qi,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));